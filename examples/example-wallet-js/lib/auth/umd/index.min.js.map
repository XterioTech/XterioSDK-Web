{"version":3,"file":"index.min.js","sources":["../../src/interfaces/loginInfo.ts","../../../node_modules/.pnpm/decode-uri-component@0.4.1/node_modules/decode-uri-component/index.js","../../../node_modules/.pnpm/filter-obj@5.1.0/node_modules/filter-obj/index.js","../../../node_modules/.pnpm/split-on-first@3.0.0/node_modules/split-on-first/index.js","../../../node_modules/.pnpm/query-string@9.1.0/node_modules/query-string/base.js","../../src/utils/logger.ts","../../src/utils/const.ts","../../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs","../../src/modules/XterCache.ts","../../src/modules/XterAuthInfo.ts","../../src/utils/fetchers/index.ts","../../src/modules/XterEventEmitter.ts","../../src/modules/AuthService.ts","../../src/assets/images/icon-logo.svg","../../src/modules/XterAuthModal/ui/Logo.ts","../../src/ui/svg-icon/index.ts","../../src/modules/XterAuthModal/ui/Input.ts","../../src/modules/XterAuthModal/ui/Loader.ts","../../src/modules/XterAuthModal/ui/Button.ts","../../src/modules/XterAuthModal/enums.ts","../../src/modules/XterAuthModal/BaseModalState.ts","../../src/modules/XterAuthModal/XterAuthModalForm.ts","../../src/modules/XterAuthModal/utils/validation.ts","../../src/modules/XterAuthModal/XterAuthModalFormItem.ts","../../src/modules/XterAuthModal/XterAuthModalSignIn.ts","../../src/modules/XterAuthModal/constant/index.ts","../../src/modules/XterAuthModal/ui/Checkbox.ts","../../src/modules/XterAuthModal/XterAuthModalSignUp.ts","../../src/modules/XterAuthModal/XterAuthModalForgetPwd.ts","../../src/modules/XterAuthModal/ModalObservable.ts","../../src/modules/XterAuthModal/XterAuthModalTokenManager.ts","../../src/modules/XterAuthModal/XertAuthModalStore.ts","../../src/modules/XterAuthModal/XterAuthModaSignUpCode.ts","../../src/assets/images/icon-success.svg","../../src/modules/XterAuthModal/XterAuthModaPwdSuccess.ts","../../src/modules/XterAuthModal/XterAuthModal.ts","../../../node_modules/.pnpm/vite-plugin-node-polyfills@0.22.0_vite@5.4.1/node_modules/vite-plugin-node-polyfills/shims/buffer/dist/index.js","../../../node_modules/.pnpm/js-base64@3.7.7/node_modules/js-base64/base64.mjs","../../src/modules/XterAuth.ts","../../src/modules/XterAuthModal/useXterLoginModal.ts"],"sourcesContent":["export interface ISSoTokensParams {\n  app_id: string\n  client_id: string\n  client_secret: string\n  redirect_uri: string\n  response_type: string\n  scope: string\n  mode: 'default' | 'email'\n  grant_type: string\n  logout?: '0' | '1'\n}\nexport interface IRes<T> {\n  data: T\n  err_code: number\n}\n\nexport interface ITokenRes {\n  id_token: string\n  refresh_token: string\n  access_token: string\n}\nexport interface Payload {\n  sub: string\n  email_verified: boolean\n  iss: string\n  'cognito:username': string\n  origin_jti: string\n  aud: string\n  event_id: string\n  token_use: string\n  auth_time: number\n  exp: number // 单位: 秒\n  iat: number\n  jti: string\n  email: string\n}\nexport interface IUserInfoRes {\n  about?: string\n  avatar?: string\n  create_at?: number\n  email?: string\n  username?: string\n  uuid?: string\n  source?: number // 0：email，1：facebook，2：google\n  password?: number // 0: 未设置；1：已设置\n}\n\nexport interface IWalletItem {\n  address: string\n  type: string\n  created_at: string\n  source: 0 | 1 | 2 // 0 配对钱包，1: pn钱包 2: aa钱包\n}\n\nexport interface IUserInfo extends IUserInfoRes {\n  wallet?: IWalletItem[]\n}\n\nexport enum Env {\n  Dev = 'Dev',\n  Staging = 'Staging',\n  Production = 'Production'\n}\n\nexport enum Language {\n  EN = 'en',\n  ZH_HANS = 'zh_hans',\n  ZH_HANT = 'zh_hant',\n  JA = 'ja',\n  KO = 'ko'\n}\n\nexport enum LoginType {\n  Default = 'default',\n  Email = 'email',\n  Mini = 'mini'\n}\n\nexport interface ILoginServiceBody {\n  'h-recaptcha-response'?: string\n  username: string\n  password: string\n  subscribe?: 0 | 1\n  invite_code?: string\n}\n\ninterface ILoginServiceResSuccess {\n  access_token: string\n  id_token: string\n  refresh_token: string\n  error: false\n  err_code?: string | number\n}\n\nexport interface ILoginServiceResError extends Partial<Omit<ILoginServiceResSuccess, 'error'>> {\n  error: true\n  err_code: string | number\n}\n\nexport type ILoginServiceRes = ILoginServiceResSuccess | ILoginServiceResError\n\nexport interface IRefreshServiceRes {\n  id_token?: string\n  access_token?: string\n}\nexport interface IRefreshServiceBody {\n  refresh_token: string\n}\n\nexport interface IRegisterConfirmServiceBody extends Omit<ILoginServiceBody, 'h-recaptcha-response'> {\n  code: string\n}\n","const token = '%[a-f0-9]{2}';\nconst singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nconst multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tconst left = components.slice(0, split);\n\tconst right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch {\n\t\tlet tokens = input.match(singleMatcher) || [];\n\n\t\tfor (let i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tconst replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD',\n\t};\n\n\tlet match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch {\n\t\t\tconst result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tconst entries = Object.keys(replaceMap);\n\n\tfor (const key of entries) {\n\t\t// Replace all decoded components\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nexport default function decodeUriComponent(encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n}\n","export function includeKeys(object, predicate) {\n\tconst result = {};\n\n\tif (Array.isArray(predicate)) {\n\t\tfor (const key of predicate) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor?.enumerable) {\n\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// `Reflect.ownKeys()` is required to retrieve symbol properties\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor.enumerable) {\n\t\t\t\tconst value = object[key];\n\t\t\t\tif (predicate(key, value, object)) {\n\t\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function excludeKeys(object, predicate) {\n\tif (Array.isArray(predicate)) {\n\t\tconst set = new Set(predicate);\n\t\treturn includeKeys(object, key => !set.has(key));\n\t}\n\n\treturn includeKeys(object, (key, value, object) => !predicate(key, value, object));\n}\n","export default function splitOnFirst(string, separator) {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (string === '' || separator === '') {\n\t\treturn [];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n}\n","import decodeComponent from 'decode-uri-component';\nimport {includeKeys} from 'filter-obj';\nimport splitOnFirst from 'split-on-first';\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\n// eslint-disable-next-line unicorn/prefer-code-point\nconst strictUriEncode = string => encodeURIComponent(string).replaceAll(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result, [encode(key, options), '[', index, ']'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), '[]'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[]=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), ':list='].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), ':list=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSeparator = options.arrayFormat === 'bracket-separator'\n\t\t\t\t? '[]='\n\t\t\t\t: '=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSeparator, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tencode(key, options),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : (value === null ? value : decode(value, options));\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null\n\t\t\t\t\t? []\n\t\t\t\t\t: value.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], ...arrayValue];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...[accumulator[key]].flat(), value];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction parseValue(value, options, type) {\n\tif (type === 'string' && typeof value === 'string') {\n\t\treturn value;\n\t}\n\n\tif (typeof type === 'function' && typeof value === 'string') {\n\t\treturn type(value);\n\t}\n\n\tif (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\treturn value.toLowerCase() === 'true';\n\t}\n\n\tif (type === 'number' && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\treturn Number(value);\n\t}\n\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\treturn Number(value);\n\t}\n\n\treturn value;\n}\n\nexport function extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nexport function parse(query, options) {\n\toptions = {\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false,\n\t\ttypes: Object.create(null),\n\t\t...options,\n\t};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst returnValue = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn returnValue;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn returnValue;\n\t}\n\n\tfor (const parameter of query.split('&')) {\n\t\tif (parameter === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst parameter_ = options.decode ? parameter.replaceAll('+', ' ') : parameter;\n\n\t\tlet [key, value] = splitOnFirst(parameter_, '=');\n\n\t\tif (key === undefined) {\n\t\t\tkey = parameter_;\n\t\t}\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : (['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options));\n\t\tformatter(decode(key, options), value, returnValue);\n\t}\n\n\tfor (const [key, value] of Object.entries(returnValue)) {\n\t\tif (typeof value === 'object' && value !== null && options.types[key] !== 'string') {\n\t\t\tfor (const [key2, value2] of Object.entries(value)) {\n\t\t\t\tconst type = options.types[key] ? options.types[key].replace('[]', '') : undefined;\n\t\t\t\tvalue[key2] = parseValue(value2, options, type);\n\t\t\t}\n\t\t} else if (typeof value === 'object' && value !== null && options.types[key] === 'string') {\n\t\t\treturnValue[key] = Object.values(value).join(options.arrayFormatSeparator);\n\t\t} else {\n\t\t\treturnValue[key] = parseValue(value, options, options.types[key]);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn returnValue;\n\t}\n\n\t// TODO: Remove the use of `reduce`.\n\t// eslint-disable-next-line unicorn/no-array-reduce\n\treturn (options.sort === true ? Object.keys(returnValue).sort() : Object.keys(returnValue).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = returnValue[key];\n\t\tresult[key] = Boolean(value) && typeof value === 'object' && !Array.isArray(value) ? keysSorter(value) : value;\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexport function stringify(object, options) {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\t...options,\n\t};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key]))\n\t\t|| (options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = value;\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n}\n\nexport function parseUrl(url, options) {\n\toptions = {\n\t\tdecode: true,\n\t\t...options,\n\t};\n\n\tlet [url_, hash] = splitOnFirst(url, '#');\n\n\tif (url_ === undefined) {\n\t\turl_ = url;\n\t}\n\n\treturn {\n\t\turl: url_?.split('?')?.[0] ?? '',\n\t\tquery: parse(extract(url), options),\n\t\t...(options && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}),\n\t};\n}\n\nexport function stringifyUrl(object, options) {\n\toptions = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true,\n\t\t...options,\n\t};\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = extract(object.url);\n\n\tconst query = {\n\t\t...parse(queryFromUrl, {sort: false}),\n\t\t...object.query,\n\t};\n\n\tlet queryString = stringify(query, options);\n\tqueryString &&= `?${queryString}`;\n\n\tlet hash = getHash(object.url);\n\tif (typeof object.fragmentIdentifier === 'string') {\n\t\tconst urlObjectForFragmentEncode = new URL(url);\n\t\turlObjectForFragmentEncode.hash = object.fragmentIdentifier;\n\t\thash = options[encodeFragmentIdentifier] ? urlObjectForFragmentEncode.hash : `#${object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n}\n\nexport function pick(input, filter, options) {\n\toptions = {\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false,\n\t\t...options,\n\t};\n\n\tconst {url, query, fragmentIdentifier} = parseUrl(input, options);\n\n\treturn stringifyUrl({\n\t\turl,\n\t\tquery: includeKeys(query, filter),\n\t\tfragmentIdentifier,\n\t}, options);\n}\n\nexport function exclude(input, filter, options) {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn pick(input, exclusionFilter, options);\n}\n","const version = __SDK_VERSION__ || '0.0.0'\nexport const log = (...args: any[]) => {\n  console.log(`[XterioAuth(v${version})]`, ...args)\n}\n\nexport const getPackageVersion = () => {\n  return version\n}\n\nexport const randomId = (): number => {\n  const date = Date.now() * Math.pow(10, 3)\n  const extra = Math.floor(Math.random() * Math.pow(10, 3))\n  return date + extra\n}\n\nexport const randomNonceStr = (c?: number): string => {\n  c = c || 32\n  const t = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678'\n  const a = t.length\n  let n = ''\n  for (let i = 0; i < c; i++) n += t.charAt(Math.floor(Math.random() * a))\n  return n\n}\n","export const XTERIO_EVENTS = {\n  LOGIN: 'xter_auth_login_success',\n  ACCOUNT: 'xter_auth_response_userinfo',\n  REQ_ACCOUNT: 'xter_auth_request_userinfo'\n}\nexport const XTERIO_CONST = {\n  LOGIN_TYPE: 'xter_auth_login_type',\n  TOKENS: 'xter_auth_login_tokens',\n  ID_TOKEN: 'xter_auth_id_token',\n  REFRESH_TOKEN: 'xter_auth_refresh_token',\n  ACCESS_TOKEN: 'xter_auth_access_token',\n  USERINFO: 'xter_auth_userinfo'\n}\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import type { ITokenRes, IUserInfo } from 'interfaces/loginInfo'\nimport { XTERIO_CONST } from 'utils'\nimport Cookies from 'js-cookie'\n\nexport class XterioCache {\n  static set loginType(_type: string) {\n    localStorage.setItem(XTERIO_CONST.LOGIN_TYPE, _type)\n  }\n  static get loginType(): string | undefined {\n    const _type = localStorage.getItem(XTERIO_CONST.LOGIN_TYPE)\n    return _type ? _type : undefined\n  }\n  static set tokens(value: Partial<ITokenRes>) {\n    const { access_token = '', id_token = '', refresh_token = '' } = value\n    Cookies.set(XTERIO_CONST.ACCESS_TOKEN, access_token, { expires: 1 })\n    Cookies.set(XTERIO_CONST.ID_TOKEN, id_token, { expires: 1 })\n    Cookies.set(XTERIO_CONST.REFRESH_TOKEN, refresh_token)\n  }\n  static get tokens(): ITokenRes | undefined {\n    const _t: ITokenRes = {\n      access_token: Cookies.get(XTERIO_CONST.ACCESS_TOKEN) || '',\n      id_token: Cookies.get(XTERIO_CONST.ID_TOKEN) || '',\n      refresh_token: Cookies.get(XTERIO_CONST.REFRESH_TOKEN) || ''\n    }\n    return _t\n  }\n  static deleteTokens() {\n    Cookies.remove(XTERIO_CONST.ACCESS_TOKEN)\n    Cookies.remove(XTERIO_CONST.REFRESH_TOKEN)\n    Cookies.remove(XTERIO_CONST.ID_TOKEN)\n  }\n\n  static set userInfo(value: IUserInfo) {\n    localStorage.setItem(XTERIO_CONST.USERINFO, JSON.stringify(value))\n  }\n  static get userInfo(): IUserInfo | undefined {\n    const value = localStorage.getItem(XTERIO_CONST.USERINFO)\n    try {\n      if (value) {\n        return JSON.parse(value)\n      }\n    } catch (err) {\n      return undefined\n    }\n    return undefined\n  }\n  static deleteUserInfo() {\n    localStorage.removeItem(XTERIO_CONST.USERINFO)\n  }\n  static delete(key: string) {\n    localStorage.removeItem(key)\n  }\n}\n","import type { Env, ISSoTokensParams, ITokenRes, IUserInfo } from 'interfaces/loginInfo'\nimport { LoginType } from 'interfaces/loginInfo'\nimport { XterioCache } from './XterCache'\n\nexport class XterioAuthInfo {\n  /** client id */\n  static client_id: string = ''\n  /** app id */\n  static app_id: string = ''\n  /** app env */\n  static env: Env\n  /** service base url */\n  static baseURL: string = ''\n  /** authrorize url */\n  static authorizeUrl: string = ''\n  /** sdk initial config info */\n  static config?: ISSoTokensParams\n  /** user logined tokens */\n  static tokens?: ITokenRes\n  /** user account */\n  static userInfo?: IUserInfo\n  /** account callback function */\n  static onAccount?(p: IUserInfo): void\n  /** login way */\n  static loginType?: LoginType\n}\n\nexport class XterioAuthTokensManager {\n  static setTokens(value: Partial<ITokenRes>) {\n    const { id_token = '', access_token = '', refresh_token = '' } = value || {}\n    XterioAuthInfo.tokens = { id_token, access_token, refresh_token }\n    XterioCache.tokens = value\n  }\n  static removeTokens() {\n    XterioAuthInfo.tokens = undefined\n  }\n  static get idToken() {\n    return XterioAuthInfo.tokens?.id_token || ''\n  }\n  static get refreshToken() {\n    return XterioAuthInfo.tokens?.refresh_token || ''\n  }\n}\n\nexport class XterioAuthUserInfoManager {\n  static setUserInfo(value: IUserInfo) {\n    XterioAuthInfo.userInfo = value\n    XterioCache.userInfo = value\n  }\n  static removeUserInfo() {\n    XterioAuthInfo.userInfo = undefined\n  }\n  static get userInfo() {\n    return XterioAuthInfo.userInfo\n  }\n}\n","import qs from 'query-string'\nimport { IResponse } from './interfaces'\nimport { XterioAuthInfo } from 'modules/XterAuthInfo'\nimport { getPackageVersion, randomNonceStr } from 'utils/logger'\nimport { XterioCache } from 'modules/XterCache'\n\nasync function resolveResp<T>(resp: Response): Promise<T> {\n  const res: IResponse<T> = await resp.json()\n  if (res.err_code != 0) {\n    if (resp.status === 401 && res.err_code === 91001) {\n      // TOAST.noti('error', 'Your session has expired, please sign in again.')\n      // loginEvent.emit('Expired')\n    } else if (resp.status === 429) {\n      // TOAST.noti('error', 'Operating too frequently, please try again later.')\n    }\n    return Promise.reject(res)\n    // throw new Error(`[${res.err_code}]: ${res.err_msg}`)\n  }\n  return res.data\n}\n\nfunction fullUrl(apiPath: string, apiBase?: string): string {\n  if (!apiBase || /^https?:\\/\\//i.test(apiPath)) {\n    return apiPath\n  }\n  if (apiPath.startsWith('/')) {\n    return `${apiBase}${apiPath}`\n  } else {\n    return `${apiBase}/${apiPath}`\n  }\n}\n\ninterface FetcherConfig {\n  method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'\n  path: string\n  params?: Record<string, unknown>\n  headers?: Record<string, string>\n  data?: unknown\n  Authorization?: string\n}\n\nconst fetcher = async <T>({ method, path, params, headers, data, Authorization }: FetcherConfig): Promise<T> => {\n  if (!XterioAuthInfo.client_id) {\n    throw new Error('You need set xterio-auth info')\n  }\n\n  if (params) {\n    const queryParam = qs.stringify(params)\n    path += (path.includes('?') ? '&' : '?') + `${queryParam}`\n  }\n  const url = fullUrl(path, XterioAuthInfo.baseURL)\n\n  const requestOptions: RequestInit = {\n    method,\n    headers: {\n      'content-type': 'application/json',\n      'X-SDK-Version': 'auth-' + getPackageVersion(),\n      'X-Platform': 'Web',\n      'X-App-ID': XterioAuthInfo.app_id,\n      'X-Client-ID': XterioAuthInfo.client_id,\n      'X-Timestamp': Date.now().toString(),\n      'X-Language': 'en',\n      'X-Nonce': randomNonceStr(),\n      Authorization: Authorization || XterioCache.tokens?.id_token || '',\n      ...headers\n    }\n  }\n\n  if (data) {\n    // PUT 和 application/x-www-form-urlencoded 提交的是表单数据，不能stringify\n    const needStringify = method !== 'PUT' && headers?.['content-type'] !== 'application/x-www-form-urlencoded'\n    requestOptions.body = needStringify ? JSON.stringify(data) : (data as ReadableStream)\n  }\n\n  const req = new Request(url, requestOptions)\n  try {\n    const resp = await fetch(req)\n    return method === 'PUT' ? (resp as T) : resolveResp<T>(resp)\n  } catch {\n    throw new Error('Network error')\n  }\n}\n\nexport async function getFetcher<T>(\n  path: string,\n  params?: Record<string, unknown>,\n  Authorization?: string\n): Promise<T> {\n  return fetcher({\n    method: 'GET',\n    path,\n    params,\n    Authorization\n  })\n}\n\nexport async function postFetcher<T, D>(\n  path: string,\n  data: D,\n  Authorization?: string,\n  headers?: Record<string, string>\n): Promise<T> {\n  return fetcher({\n    method: 'POST',\n    path,\n    data,\n    headers,\n    Authorization\n  })\n}\n\nexport async function deleteFetcher<T, D>(path: string, data: D): Promise<T> {\n  return fetcher({\n    method: 'DELETE',\n    path,\n    data\n  })\n}\n\nexport async function putFetcher<T, D>(path: string, data: D, headers?: Record<string, string>): Promise<T> {\n  return fetcher({\n    method: 'PUT',\n    path,\n    data,\n    headers\n  })\n}\n\nexport async function patchFetcher<T, D>(\n  path: string,\n  data: D,\n  headers?: Record<string, string>,\n  Authorization?: string\n): Promise<T> {\n  return fetcher({\n    method: 'PATCH',\n    path,\n    data,\n    headers,\n    Authorization\n  })\n}\n","import { log, XTERIO_EVENTS } from 'utils'\n\ntype Func = (...args: any) => void | unknown\n\nexport class XterEventEmiter {\n  private static _listeners: { [key: string]: Func[] } = {}\n  static set listeners(p: { [key: string]: Func[] }) {\n    this._listeners = p\n  }\n  static get listeners() {\n    return this._listeners\n  }\n  static on(event: string, listener: Func) {\n    if (!this._listeners[event]) {\n      this._listeners[event] = []\n    }\n    this._listeners[event].push(listener)\n  }\n  static off(event: string, listener: Func) {\n    if (this._listeners[event]) {\n      this._listeners[event] = this._listeners[event].filter((l) => l !== listener)\n    }\n  }\n  static emit(event: string, ...args: any) {\n    if (this._listeners[event]) {\n      this._listeners[event].forEach((l) => {\n        l(...args)\n      })\n    }\n  }\n  private static remove(event: string) {\n    if (this._listeners[event]) {\n      delete this._listeners[event]\n    }\n  }\n\n  //one to one\n  private static _cacheMap: Map<string, Func> = new Map()\n  static subscribe<T>(callback: (p: T) => void, _event?: string) {\n    const _key = _event || XTERIO_EVENTS.ACCOUNT\n    log('subscribe event', _key)\n    const _callback = (info: T) => {\n      callback?.(info)\n    }\n    this._cacheMap.set(_key, _callback)\n    this.on(_key, _callback)\n  }\n  static unsubscribe(_event?: string) {\n    const _key = _event || XTERIO_EVENTS.ACCOUNT\n    log('unsubscribe event', _key)\n    const _callback = this._cacheMap.get(_key)\n    if (_callback) {\n      this.off(_key, _callback)\n      this._cacheMap.delete(_key)\n    }\n  }\n  static clear() {\n    this.listeners = {}\n    this._cacheMap.clear()\n  }\n}\n","import type {\n  IUserInfo,\n  ITokenRes,\n  IUserInfoRes,\n  IWalletItem,\n  ILoginServiceRes,\n  ILoginServiceBody,\n  ILoginServiceResError,\n  IRefreshServiceRes,\n  IRefreshServiceBody,\n  IRegisterConfirmServiceBody\n} from 'interfaces/loginInfo'\nimport { log } from 'utils'\nimport { XterioAuthInfo, XterioAuthTokensManager, XterioAuthUserInfoManager } from './XterAuthInfo'\nimport { XterEventEmiter } from './XterEventEmitter'\nimport { XTERIO_EVENTS } from 'utils/const'\nimport { getFetcher, postFetcher } from 'utils/fetchers'\n\nexport class XterioAuthService {\n  /**\n   * 平台登录\n   * @param code 授权code\n   * @returns Promise < IUserInfo | null >\n   */\n  static async login(code: string) {\n    const { client_id = '', client_secret = '', redirect_uri = '', grant_type = '' } = XterioAuthInfo.config || {}\n    const param = { client_id, client_secret, redirect_uri, grant_type, code }\n    const data = new URLSearchParams(param)\n    log('go login')\n\n    const res = await postFetcher<ITokenRes, typeof data>(`/account/v1/oauth2/token`, data, '', {\n      ['content-type']: 'application/x-www-form-urlencoded'\n    })\n      .then((res) => {\n        log('login success.')\n        XterioAuthTokensManager.setTokens(res)\n        return res\n      })\n      .catch((err) => {\n        log('login failed.')\n        return null\n      })\n    if (res?.id_token) {\n      log('get userinfo')\n      const info = await this.getUserInfo()\n      if (info.uuid) {\n        return info\n      }\n    }\n    return null\n  }\n\n  /**\n   * 查询平台用户信息\n   * @returns\n   */\n  static async getUserInfo(): Promise<IUserInfo> {\n    const [profileInfo, wallet] = await Promise.all([this.getProfile(), this.getWallet()])\n    const res = {\n      ...profileInfo,\n      wallet\n    }\n    XterioAuthUserInfoManager.setUserInfo(res)\n    if (res?.uuid) {\n      XterEventEmiter.emit(XTERIO_EVENTS.ACCOUNT, res)\n    }\n    return res\n  }\n\n  private static async getProfile(): Promise<IUserInfoRes> {\n    const res = await getFetcher<IUserInfoRes>(`/account/v1/user/profile`)\n      .then((res) => {\n        log('get profile success.')\n        return res\n      })\n      .catch((err) => {\n        log('get profile failed.')\n        return null\n      })\n\n    return res?.uuid ? { ...res } : {}\n  }\n\n  private static async getWallet(): Promise<IWalletItem[]> {\n    const res = await getFetcher<{ wallet: IWalletItem[] }>(`/account/v1/wallet`)\n      .then((res) => {\n        log('get wallet success.')\n        return res\n      })\n      .catch((err) => {\n        log('get wallet failed.')\n        return null\n      })\n    return res?.wallet || []\n  }\n\n  /**\n   * tt login\n   * @param username username\n   * @param password password\n   * @returns Promise <ILoginServiceRes>\n   */\n  static async loginService(username: string, password: string): Promise<ILoginServiceRes> {\n    const res = await postFetcher<ILoginServiceRes, ILoginServiceBody>('/account/v1/login', {\n      username,\n      password\n    }).catch((e) => {\n      return {\n        ...e,\n        error: true\n      } as ILoginServiceResError\n    })\n    log('ttl login', res?.error ? 'failed' : 'success')\n    if (!res?.error) {\n      XterioAuthTokensManager.setTokens(res)\n    }\n    return res?.error ? { ...res, error: true } : { ...res, error: false }\n  }\n\n  /**\n   * refresh tokens\n   * @param refresh_token string\n   * @returns Promise<IRefreshServiceRes>\n   */\n  static refreshTokenService(refresh_token: string): Promise<IRefreshServiceRes> {\n    return postFetcher<IRefreshServiceRes, IRefreshServiceBody>('/auth/v1/refresh', {\n      refresh_token\n    }).catch(() => {\n      return {}\n    })\n  }\n\n  static async registerService({\n    username,\n    password,\n    subscribe\n  }: {\n    username: string\n    password: string\n    subscribe: boolean\n  }): Promise<{\n    error: boolean\n    err_code?: string | number\n  }> {\n    const res = await postFetcher<object, ILoginServiceBody>('/account/v1/register', {\n      username,\n      password,\n      subscribe: subscribe ? 1 : 0,\n      invite_code: '', // sdk 暂不支持 invite_code\n      'h-recaptcha-response': '' // sdk 暂不支持 recaptch\n    }).catch((e) => {\n      return {\n        ...e,\n        error: true\n      }\n    })\n    return res?.error ? { error: true, err_code: res?.err_code } : { error: false }\n  }\n\n  static async registerConfirmService({\n    username,\n    password,\n    code\n  }: {\n    username: string\n    password: string\n    code: string\n  }): Promise<ILoginServiceRes> {\n    const res = await postFetcher<ILoginServiceRes, IRegisterConfirmServiceBody>('/account/v1/register/code/confirm', {\n      username,\n      code,\n      password\n    }).catch((e) => {\n      return {\n        error: true,\n        err_code: e.err_code\n      } as ILoginServiceResError\n    })\n    if (!res?.error) {\n      XterioAuthTokensManager.setTokens(res)\n    }\n    return res?.error ? res : { ...res, error: false }\n  }\n\n  static async sendForgotCodeService({ email }: { email: string }): Promise<ILoginServiceRes> {\n    const res = await postFetcher<ILoginServiceRes, { username: string }>('/account/v1/password/forgot?source=forgot', {\n      username: email\n    }).catch((e) => {\n      return {\n        error: true,\n        err_code: e.err_code\n      } as ILoginServiceResError\n    })\n    return res?.error ? res : { ...res, error: false }\n  }\n\n  static async resetPassword({ email, code, password }: { email: string; code: string; password: string }) {\n    const res = await postFetcher<\n      ILoginServiceRes,\n      {\n        username: string\n        password: string\n        confirmation_code: string\n      }\n    >('/account/v1/password/forgot/confirm', {\n      username: email,\n      password,\n      confirmation_code: code\n    }).catch((e) => {\n      return {\n        error: true,\n        err_code: e.err_code\n      } as ILoginServiceResError\n    })\n    return res?.error ? res : { ...res, error: false }\n  }\n}\n","export default \"data:image/svg+xml,%3csvg%20width='116'%20height='24'%20viewBox='0%200%20116.36363983154297%2024'%20xmlns='http://www.w3.org/2000/svg'%20class='mb-0'%3e%3cg%20clip-path='url(%23clip0_0_335)'%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20d='M28.032%203.485a.222.222%200%2000.024.067c.006.355.014.709.027%201.073a4979.123%204979.123%200%2001.084%2010.93c-.003.18.01.36.035.538.323%201.904%201.251%203.422%202.9%204.466%201.12.71%202.363%201.104%203.658%201.347a20.98%2020.98%200%20005.866.214c.113-.01.121-.06.121-.152-.005-1.454-.005-2.91%200-4.37%200-.117-.036-.137-.143-.137a10.497%2010.497%200%2001-2.263-.267c-1-.246-1.919-.646-2.642-1.403-.681-.713-1.061-1.553-1.055-2.554a286.7%20286.7%200%20000-3.71c-.002-.165.05-.19.199-.19h4.782c.113%200%20.15-.023.15-.145a531.922%20531.922%200%20010-4.265c0-.131-.037-.15-.159-.15-1.634.005-3.278.005-4.916.005-.132%200-.177-.023-.177-.168V.77l-.008-.001.006-.003.006-.039h-6.495v2.758zM1.285%2021.519c-.185.187-.372.375-.557.566-.004.064.033.059.066.054.01-.001.02-.003.028-.002h7.892a.235.235%200%2000.183-.084l2.242-2.3%201.945-2.004.004-.003c.044-.045.075-.075.137-.009.322.342.648.676.973%201.01l.09.093a888.395%20888.395%200%20013.104%203.22.245.245%200%2000.197.08h7.863l.025.002c.03.005.062.01.084-.03l-.013-.015c-.009-.01-.017-.02-.026-.028l-2.454-2.536-3.906-4.037c-.607-.63-1.217-1.26-1.83-1.887-.08-.088-.112-.148%200-.243a3.69%203.69%200%2000.304-.311l2.76-2.848%204.348-4.5.851-.886h-7.951a.377.377%200%2000-.298.13c-.422.446-.847.885-1.271%201.324l-.001.001-.365.377-.658.679c-.596.613-1.191%201.227-1.783%201.85-.093.093-.13.088-.214%200l-.679-.706-.004-.004-.001-.001-.962-1c-.82-.842-1.638-1.687-2.455-2.533a.307.307%200%2000-.243-.108H.892c-.011%200-.024-.003-.036-.006-.04-.008-.082-.016-.1.047.603.61%201.2%201.221%201.792%201.836l3.873%204.005c.868.9%201.738%201.801%202.61%202.702.058.058.054.087%200%20.142-.14.137-.275.277-.41.417l-.146.152-4.32%204.45-2.364%202.431c-.168.173-.337.343-.506.513zm75.88-15.013a14.2%2014.2%200%2000-1.882%201.259%201.053%201.053%200%2000-.005-.069V4.933c0-.117-.018-.158-.15-.158-1.734.005-3.468.005-5.202%200-.126%200-.154.035-.154.157v17.143c-.002.129.037.152.16.152%201.728-.006%203.457-.006%205.186%200%20.14%200%20.16-.046.16-.168v-6.981c-.002-.085.01-.17.035-.25.255-.8.686-1.533%201.262-2.144.852-.934%201.902-1.6%203.04-2.134a16.1%2016.1%200%20013.839-1.233c.096-.018.13-.048.13-.152V4.916c0-.088%200-.155-.122-.144-.082.006-.166.007-.25.007-.067%200-.133.001-.2.004-2.057.11-4.06.7-5.848%201.723zm14.31%209.27v6.29c0%20.14-.038.162-.167.162h-4.99c-.122%200-.159-.027-.159-.154V9.429c0-.122.037-.156.158-.156h4.992c.13%200%20.166.03.166.163-.003%202.114-.003%204.227%200%206.34zm-34.051-.8h-9.638c-.09%200-.136%200-.155.022-.02.023-.013.069%200%20.161.18%201.25%201.014%202.09%202.265%202.25.37.03.741.036%201.112.02h3.759l1.308.003c.435.002.871.003%201.307.003.712%200%201.423%200%202.134-.015.495-.01.931-.218%201.355-.449.307-.169.6-.363.875-.581a.148.148%200%2001.196-.018c1.32.742%202.645%201.481%203.97%202.217.1.054.098.091.05.179-.84%201.486-2.1%202.473-3.669%203.096-.33.132-.67.237-1.016.316a1.413%201.413%200%2001-.327.037l-4.1-.001c-2.733-.002-5.467-.004-8.2.001a5.605%205.605%200%2001-2.928-.815c-1.293-.768-2.14-1.905-2.686-3.283a10.58%2010.58%200%2001-.662-3.005c-.095-1.046-.076-2.1.057-3.143.243-1.83.851-3.504%202.116-4.89a7.38%207.38%200%20013.851-2.258c.093-.02.188-.03.282-.029l3.468-.003c3.004-.003%206.008-.007%209.013.014%201.276.009%202.395.522%203.34%201.384.902.823%201.479%201.856%201.896%202.987.394%201.108.649%202.261.758%203.432.08.736.112%201.477.096%202.217%200%20.131-.041.15-.159.15h-9.668zm-2.53-3.56H47.77c-.089%200-.133%200-.153-.023-.021-.022-.016-.069-.005-.162.09-.788.571-1.285%201.233-1.646.302-.169.642-.255.988-.252%203.485.01%206.973.01%2010.464%200a1.492%201.492%200%20011.24.608c.306.41.526.877.646%201.374.019.07.013.107-.071.097a1.012%201.012%200%2000-.105%200l-7.111.004z'%20fill='currentColor'%3e%3c/path%3e%3cpath%20d='M113.607%2020.397a10.451%2010.451%200%20002.149-9.746c-1.696-5.954-8.221-9.124-13.981-6.796-.984.397-1.863.964-2.714%201.589-1.028.764-2.2.992-3.46.764-.973-.175-1.84-.587-2.674-1.073a2.051%202.051%200%2001-.91-1.101%202.726%202.726%200%2001-.086-.313%203.19%203.19%200%2000-5.396-1.542%203.187%203.187%200%2000-.894%201.974c-.192%202.29%202.083%204.035%204.246%203.246a2.172%202.172%200%20011.84.132%2010.35%2010.35%200%20011.728%201.124c1.325%201.086%201.977%202.45%201.824%204.187a9.748%209.748%200%2000.399%203.636%2010.456%2010.456%200%200017.929%203.919zm-12.321-9.728a5.272%205.272%200%2000-.889%202.928%205.281%205.281%200%20005.264%205.272%205.275%205.275%200%20004.874-3.25%205.272%205.272%200%2000-9.249-4.95z'%20fill='url(%23paint0_linear_0_335)'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_0_335'%20x1='85.629'%20y1='1.216'%20x2='116.167'%20y2='24.119'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23CBF2FE'%3e%3c/stop%3e%3cstop%20offset='0.391'%20stop-color='%237DD5F9'%3e%3c/stop%3e%3cstop%20offset='0.735'%20stop-color='%23E6B1F7'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23E1DFA2'%3e%3c/stop%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_0_335'%3e%3cpath%20fill='%23fff'%20d='M0%200h116.364v24H0z'%3e%3c/path%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\"","import iconLogo from '../../../assets/images/icon-logo.svg'\n\nexport class Logo {\n  getElement() {\n    const logo = document.createElement('div')\n    logo.classList.add('xa-modal-logo')\n    logo.innerHTML = `\n      <img src=\"${iconLogo}\" alt=\"Xterio\" class=\"auth-logo\" />\n    `\n    return logo\n  }\n}\n","const iconContentMap = {\n  'icon-close': `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.414 12l6-6L18 4.586l-6 6-6-6L4.586 6l6 6-6 6L6 19.414l6-6 6 6L19.414 18l-6-6z\" fill=\"currentColor\"></path></svg>`,\n  'icon-show': `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" style=\"color: rgb(254, 254, 254);\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 4C4 4 2 12 2 12s2 8 10 8 10-8 10-8-2-8-10-8zm-7.716 7.52c-.076.18-.137.342-.187.48A10.894 10.894 0 005.6 14.8C6.827 16.436 8.786 18 12 18c3.214 0 5.173-1.564 6.4-3.2a10.89 10.89 0 001.503-2.8A10.89 10.89 0 0018.4 9.2C17.173 7.564 15.214 6 12 6 8.786 6 6.827 7.564 5.6 9.2c-.626.834-1.05 1.68-1.316 2.32zM14 12a2 2 0 11-4 0 2 2 0 014 0zm2 0a4 4 0 11-8 0 4 4 0 018 0z\" fill=\"currentColor\"></path></svg>`,\n  'icon-hide': `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" style=\"color: rgb(254, 254, 254);\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 4C4 4 2 12 2 12s1.028 4.113 4.56 6.44L5 20l1.414 1.414 2.023-2.023c1.03.38 2.21.609 3.563.609 8 0 10-8 10-8s-.516-2.066-2.074-4.098l1.488-1.488L20 5l-1.43 1.43C17.052 5.073 14.927 4 12 4zm5.153 3.847C15.948 6.797 14.293 6 12 6 8.786 6 6.827 7.564 5.6 9.2A10.894 10.894 0 004.097 12 10.894 10.894 0 005.6 14.8c.605.807 1.388 1.596 2.411 2.189l9.142-9.142zm-7.11 9.939A8.673 8.673 0 0012 18c3.214 0 5.173-1.564 6.4-3.2a10.89 10.89 0 001.503-2.8 10.946 10.946 0 00-1.406-2.668l-2.5 2.5L16 12a4 4 0 01-4.168 3.996l-1.79 1.79zM12 10c.064 0 .128.003.191.009l1.591-1.591a4 4 0 00-5.364 5.364l1.591-1.591A2 2 0 0112 10z\" fill=\"currentColor\"></path></svg>`\n}\n\nconst getCssText = (...args: any[]): string => {\n  let _css: string = ''\n  for (let i = 0; i < Math.floor(args.length / 2); i++) {\n    const key = args[i * 2]\n    const val = args[i * 2 + 1]\n    _css += `${key}: ${val};`\n  }\n  return _css\n}\n\nexport const generateSVGIcon = (\n  iconName: keyof typeof iconContentMap,\n  size: string | number = 16,\n  color?: string\n): HTMLDivElement => {\n  const iconContainer = document.createElement('div')\n  iconContainer.style.cssText = `width: ${size}px; height:${size}px; display:inline-block; color: ${color ?? '#ccc'};`\n  iconContainer.innerHTML = iconContentMap?.[iconName]\n\n  return iconContainer\n}\n","import { generateSVGIcon } from 'ui/svg-icon'\n\nexport interface InputProps {\n  type: 'text' | 'password'\n  id?: string // selector id\n  label: string\n  placeholder?: string\n  errorMessage?: string\n  showError?: boolean\n  showClearIcon?: boolean\n  showPasswordToggleIcon?: boolean\n  wrapperClassNames?: string[]\n  addonAfterButton?: {\n    text: string\n    onClick: () => void\n  }\n  addonAfterSendButton?: {\n    onClick: () => void\n    onCountdownEnd: () => void\n  }\n  onChange?: (value: string) => void\n  onFocus?: (value: string) => void\n  onBlur?: (value: string) => void\n}\n\nexport class Input {\n  private props: InputProps\n  private root: HTMLElement\n  private inputElement!: HTMLInputElement | null\n  clearIcon: HTMLDivElement | null = null\n\n  constructor(props: InputProps) {\n    this.props = props\n    this.inputElement = null\n    this.root = this.createInputElement()\n    this.setUpEventListeners()\n  }\n\n  private createInputElement(): HTMLElement {\n    const { id, type, label, wrapperClassNames, showClearIcon, showPasswordToggleIcon, onChange, onBlur, onFocus } =\n      this.props\n    const containerDiv = document.createElement('div')\n    containerDiv.classList.add('xa-input-wrapper', `xa-input-wrapper-${type}`)\n\n    if (wrapperClassNames) {\n      wrapperClassNames.forEach((className) => containerDiv.classList.add(className))\n    }\n\n    const labelElement = document.createElement('span')\n    labelElement.className = 'xa-input-label'\n    labelElement.textContent = label\n    containerDiv.appendChild(labelElement)\n\n    const inputInnerDiv = document.createElement('div')\n    inputInnerDiv.className = 'xa-input-inner'\n\n    const inputElement = document.createElement('input')\n    inputElement.type = type === 'password' ? 'password' : type\n    inputElement.id = 'auth-input'\n    inputElement.className = 'xa-input'\n    inputElement.placeholder = ''\n    this.inputElement = inputElement\n    inputInnerDiv.appendChild(inputElement)\n\n    if (showClearIcon) {\n      const clearIcon = document.createElement('div')\n      clearIcon.className = 'xa-input-clear'\n      clearIcon.appendChild(generateSVGIcon('icon-close'))\n      clearIcon.style.visibility = 'hidden'\n      clearIcon.addEventListener('click', () => {\n        inputElement.value = ''\n        clearIcon.style.visibility = 'hidden'\n      })\n      this.clearIcon = clearIcon\n      inputInnerDiv.appendChild(clearIcon)\n    }\n\n    if (type === 'password' && showPasswordToggleIcon) {\n      const toggleIcon = document.createElement('div')\n      toggleIcon.className = 'xa-input-value-hide'\n      toggleIcon.addEventListener('click', () => {\n        if (inputElement.type === 'password') {\n          inputElement.type = 'text'\n          toggleIcon.className = 'xa-input-value-show'\n        } else {\n          inputElement.type = 'password'\n          toggleIcon.className = 'xa-input-value-hide'\n        }\n      })\n\n      inputInnerDiv.appendChild(toggleIcon)\n    }\n\n    if (this.props.addonAfterSendButton) {\n      const { onClick, onCountdownEnd } = this.props.addonAfterSendButton\n      const addBtn = document.createElement('button')\n      addBtn.className = 'xa-input-addon-btn'\n      addBtn.textContent = 'SEND'\n      addBtn.addEventListener('click', (e) => {\n        e.stopPropagation()\n        e.preventDefault()\n        addBtn.disabled = true\n\n        let countdown = 60\n        const timer = setInterval(() => {\n          countdown--\n          if (countdown === 0) {\n            addBtn.disabled = false\n            addBtn.textContent = 'SEND'\n            clearInterval(timer)\n            onCountdownEnd?.()\n          } else {\n            addBtn.disabled = true\n            addBtn.textContent = `${countdown - 1}s`\n          }\n        }, 1000)\n        addBtn.textContent = `${countdown}s`\n        onClick?.()\n      })\n      inputInnerDiv.appendChild(addBtn)\n    }\n\n    // if (this.props.addonAfterButton) {\n    //   const { text, onClick } = this.props.addonAfterButton\n    //   const addBtn = document.createElement('button')\n    //   addBtn.className = 'xa-input-addon-btn'\n    //   addBtn.textContent = text\n    //   addBtn.addEventListener('click', (e) => {\n    //     e.stopPropagation()\n    //     e.preventDefault()\n    //     onClick?.()\n    //   })\n    //   inputInnerDiv.appendChild(addBtn)\n    // }\n\n    // Event callback\n    inputElement.addEventListener('input', (event) => {\n      const _val = (event.target as HTMLInputElement)?.value ?? ''\n      if (this.clearIcon) {\n        this.clearIcon.style.visibility = _val ? 'visible' : 'hidden'\n      }\n      if (onChange) {\n        onChange(_val)\n      }\n    })\n\n    inputElement.addEventListener('focus', (event) => {\n      if (onFocus) {\n        onFocus((event.target as HTMLInputElement)?.value ?? '')\n      }\n    })\n\n    inputElement.addEventListener('blur', (event) => {\n      if (onBlur) {\n        onBlur((event.target as HTMLInputElement)?.value ?? '')\n      }\n    })\n\n    containerDiv.appendChild(inputInnerDiv)\n\n    // 错误提示信息\n    const errorTipElement = document.createElement('p')\n    errorTipElement.className = 'xa-error-tip'\n    if (this.props.showError) {\n      errorTipElement.textContent = this.props.errorMessage || ''\n    } else {\n      errorTipElement.style.display = 'none'\n    }\n    containerDiv.appendChild(errorTipElement)\n\n    return containerDiv\n  }\n\n  public getElement(): HTMLElement {\n    return this.root\n  }\n\n  private setUpEventListeners() {\n    const wrappers = this.root\n\n    this.root.addEventListener('click', () => {\n      const input = this.root.querySelector<HTMLInputElement>('.xa-input')\n\n      if (input) {\n        input.focus()\n      }\n    })\n\n    const inputs = this.root.querySelectorAll<HTMLInputElement>('.xa-input')\n    inputs.forEach((input) => {\n      input.addEventListener('focus', () => {\n        const wrapper = input.closest('.xa-input-wrapper')\n        const label = wrapper?.querySelector('.xa-input-label')\n        if (label) {\n          label.classList.add('xa-input-label_filled')\n        }\n      })\n\n      input.addEventListener('blur', () => {\n        const wrapper = input.closest('.xa-input-wrapper')\n        const label = wrapper?.querySelector('.xa-input-label')\n        if (label && input.value === '') {\n          label.classList.remove('xa-input-label_filled')\n        }\n      })\n    })\n  }\n\n  public showError(message: string) {\n    const errorTip = this.root.querySelector('.xa-error-tip') as HTMLElement\n    errorTip.textContent = message\n    errorTip.style.display = 'block'\n  }\n\n  public hideError() {\n    const errorTip = this.root.querySelector('.xa-error-tip') as HTMLElement\n    errorTip.style.display = 'none'\n  }\n\n  // 新增方法：获取输入框的值\n  public getValue(): string {\n    return this.inputElement!.value\n  }\n\n  // 新增方法：设置输入框的值\n  public setValue(value: string) {\n    this.inputElement!.value = value\n    // 如果提供了 onChange 回调，也可以在这里触发它\n    if (this.props.onChange) {\n      this.props.onChange(value)\n    }\n  }\n}\n","import '../styles/laoder.scss'\nexport class Loader {\n  private loader: HTMLDivElement | null\n  constructor() {\n    this.loader = document.createElement('div')\n  }\n  getElement() {\n    this.loader!.classList.add('xa-loader')\n    return this.loader!\n  }\n\n  show() {\n    this.loader?.classList.remove('xa-hide')\n  }\n  hide() {\n    this.loader?.classList.add('xa-hide')\n  }\n}\n","import { Loader } from './Loader'\n\nexport interface ButtonProps {\n  text: string\n  id?: string // selector id\n  loading?: boolean\n  disabled?: boolean\n  onClick?: (event: MouseEvent) => void\n  wrapperClassNames?: string[]\n}\n\nexport class Button {\n  private props: ButtonProps\n  private root: HTMLButtonElement\n  private loader: Loader | undefined\n\n  constructor(props: ButtonProps) {\n    this.props = props\n    this.root = this.createButtonElement()\n    // this.setUpEventListeners()\n  }\n\n  private createButtonElement(): HTMLButtonElement {\n    const { id, text, wrapperClassNames, disabled, onClick } = this.props\n    const button = document.createElement('button')\n    button.className = 'xa-login-button'\n    button.textContent = text\n\n    const loader = new Loader()\n    loader.hide()\n    button.insertBefore(loader.getElement(), button.firstChild)\n    this.loader = loader\n\n    if (wrapperClassNames) {\n      wrapperClassNames.forEach((className) => button.classList.add(className))\n    }\n\n    if (disabled) {\n      button.disabled = true\n      button.classList.add('xa-login-button_disabled')\n    }\n\n    // 绑定点击事件\n    if (onClick) {\n      button.addEventListener('click', (event) => onClick!(event))\n    }\n\n    return button\n  }\n\n  public getElement(): HTMLElement {\n    return this.root\n  }\n\n  public setDisabled(isDisabled: boolean) {\n    this.root.disabled = isDisabled\n    if (isDisabled) {\n      this.root.classList.add('xa-login-button_disabled')\n    } else {\n      this.root.classList.remove('xa-login-button_disabled')\n    }\n  }\n\n  public setLoading(isLoading: boolean) {\n    if (isLoading) {\n      this.loader?.show()\n    } else {\n      this.loader?.hide()\n    }\n  }\n}\n","export enum EAuthState {\n  Login = 'login',\n  Signup = 'signup',\n  SignupCode = 'signupCode',\n  ForgotPassword = 'forgotPassword',\n  PasswordSuccess = 'passwordSuccess'\n}\n","import { ModalExtraData } from './interfaces'\nimport { XterAuthModal } from './XterAuthModal'\n\nexport abstract class BaseModalState {\n  protected modal: XterAuthModal\n\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    this.modal = modal\n  }\n\n  abstract render(): void\n}\n","import { XterModalFormItem } from './XterAuthModalFormItem'\n\nexport class XterAuthModalForm {\n  private formList = [] as { name: string; formItem: XterModalFormItem }[]\n  constructor() {}\n\n  add(name: string, formItem: XterModalFormItem) {\n    this.formList.push({ name, formItem })\n  }\n\n  findFormItem(name: string) {\n    const find = this.formList.find((item) => item.name === name)?.formItem\n    return find\n  }\n\n  clearFormItemError(name: string) {\n    const find = this.formList.find((item) => item.name === name)?.formItem\n    find?.clearError()\n  }\n\n  getFormItemValue(name: string): string {\n    const find = this.formList.find((item) => item.name === name)?.formItem\n    return find?.value?.toString() ?? ''\n  }\n\n  getFormItemChecked(name: string): boolean {\n    const find = this.formList.find((item) => item.name === name)?.formItem\n    return !!find?.value\n  }\n}\n","export const isEmail = (email: string): boolean => {\n  return !!email && /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(email)\n}\n\nexport const isRightPassword = (password?: string): boolean => {\n  return !!password && /^(?=.*[A-Z])(?=.*\\d)[\\S]{8,}$/.test(password)\n}\n\nexport function isRightCode(code: string) {\n  return /^[0-9]{6}$/g.test(code)\n}\n\nexport const isRightNickname = (nickname: string): boolean => {\n  return /^[!-~ ]{1,20}$/.test(nickname)\n}\n\nexport const validateEmail = (inputStr: string) => {\n  return isEmail(inputStr) ? '' : 'Invalid Email'\n}\n\nexport const validatePassword = (inputStr: string) => {\n  return isRightPassword(inputStr) ? '' : 'Password must be at least 8 characters with 1 upper case letter and 1 number'\n}\n\nexport const validatePasswordMatch = (password: string, confirmPassword: string) => {\n  return password === confirmPassword ? '' : \"The passwords don't match\"\n}\n","export class XterModalFormItem {\n  private root: HTMLDivElement\n  private label: HTMLSpanElement\n  private getValueFunction: () => string | boolean\n  // private input: HTMLInputElement\n  // private error: HTMLSpanElement\n  private _value = ''\n  constructor(name: string, formItemElement: HTMLElement, getValue: () => string | boolean) {\n    this.root = document.createElement('div')\n    this.root.className = 'xa-form-item'\n    this.root.innerHTML = `\n    <div class=\"xa-form-item-error\"></div>`\n    this.root.setAttribute('data-name', name)\n    this.root.insertBefore(formItemElement, this.root.firstChild)\n\n    this.label = document.createElement('span')\n    this.getValueFunction = getValue\n  }\n\n  getElement(): HTMLElement {\n    return this.root\n  }\n\n  get value() {\n    return this.getValueFunction()\n  }\n\n  setError(error: string) {\n    this.root.querySelector('.xa-form-item-error')!.innerHTML = error\n    if (error) {\n      this.root.querySelector('.xa-input-wrapper')?.classList.add('xa-error-border')\n    } else {\n      this.root.querySelector('.xa-input-wrapper')?.classList.remove('xa-error-border')\n    }\n  }\n\n  isValidate(): boolean {\n    return !this.root.querySelector('.xa-form-item-error')?.innerHTML\n  }\n\n  clearError() {\n    this.root.querySelector('.xa-form-item-error')!.innerHTML = ''\n    this.root.querySelector('.xa-input-wrapper')?.classList.remove('xa-error-border')\n  }\n}\n","import { BaseModalState } from './BaseModalState'\nimport { EAuthState } from './enums'\nimport { Button, Input } from './ui'\nimport { XterAuthModal } from './XterAuthModal'\nimport { ModalExtraData } from './interfaces'\nimport { XterAuthModalForm } from './XterAuthModalForm'\nimport { validateEmail, validatePassword } from './utils'\nimport { XterModalFormItem } from './XterAuthModalFormItem'\n\nenum FomrItemsName {\n  Email = 'email',\n  Password = 'password'\n}\n\nexport class XterAuthModalSignIn extends BaseModalState {\n  private loginButton: Button | null\n  private emailInput: Input | null\n  private pwdInput: Input | null\n  form: XterAuthModalForm\n\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    super(modal)\n    this.loginButton = null\n    this.emailInput = null\n    this.pwdInput = null\n\n    this.form = new XterAuthModalForm()\n  }\n\n  render(): void {\n    if (!this.modal.modalContainer) return\n\n    const _container = this.modal.modalContainer\n\n    this.modal.setTitle('Sign in', 'Sign in with email')\n\n    // Email Input\n    this.renderEmailInput(_container)\n\n    // Password Input\n    this.renderPwdInput(_container)\n\n    // tips\n    this.renderTips(_container)\n\n    // login button\n    this.renderLoginButton(_container)\n\n    this.setupListeners()\n  }\n\n  private renderEmailInput(_container: HTMLElement) {\n    const emailInput = new Input({\n      label: 'EMAIL',\n      type: 'text',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.form.clearFormItemError(FomrItemsName.Email)\n        this.handleEmailChange(value)\n      },\n      onBlur: (value) => {\n        this.form.findFormItem(FomrItemsName.Email)?.setError(validateEmail(value))\n        this.handleEmailChange(value)\n      }\n    })\n    this.emailInput = emailInput\n    const formItem = new XterModalFormItem(FomrItemsName.Email, emailInput.getElement(), () => {\n      return emailInput.getValue()\n    })\n    this.form.add(FomrItemsName.Email, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderPwdInput(_container: HTMLElement) {\n    const pwdInput = new Input({\n      label: 'PASSWORD',\n      type: 'password',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handlePasswordChange(value)\n      },\n      onBlur: (value) => {\n        this.form.findFormItem(FomrItemsName.Password)?.setError(validatePassword(value))\n        this.handlePasswordChange(value)\n      }\n    })\n    this.pwdInput = pwdInput\n    const formItem = new XterModalFormItem(FomrItemsName.Password, pwdInput.getElement(), () => {\n      return pwdInput.getValue()\n    })\n    this.form.add(FomrItemsName.Password, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderTips(_container: HTMLElement) {\n    const tips = document.createElement('div')\n    tips.classList.add(...['xa-login-tip', 'xa-flex', 'xa-justify-between'])\n    tips.innerHTML = `\n      <div>No account yet? <a class=\"xa-to-sign-up\">Sign up</a></div>\n      <div>\n        <a class=\"xa-to-forgotpwd\">Forgot password?</a>\n      </div>\n    `\n    _container.appendChild(tips)\n  }\n\n  private renderLoginButton(_container: HTMLElement) {\n    const loginButton = new Button({\n      text: 'SIGN IN',\n      disabled: true,\n      onClick: (event) => {\n        this.handleLogin()\n      }\n    })\n    this.loginButton = loginButton\n    this.append(_container, loginButton.getElement())\n  }\n\n  private setupListeners(): void {\n    const signUpLink = this.modal.modalContainer?.querySelector('.xa-to-sign-up')\n    signUpLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.Signup))\n\n    const forgotPasswordLink = this.modal.modalContainer?.querySelector('.xa-to-forgotpwd')\n    forgotPasswordLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.ForgotPassword))\n  }\n\n  private handleEmailChange(value: string): void {\n    this.loginButton?.setDisabled(value.length === 0 || !this.form.findFormItem(FomrItemsName.Email)?.isValidate())\n  }\n  private handlePasswordChange(value: string): void {\n    this.loginButton?.setDisabled(value.length === 0 || !this.form.findFormItem(FomrItemsName.Password)?.isValidate())\n  }\n\n  private async handleLogin() {\n    const userName = this.emailInput?.getValue()\n    const password = this.pwdInput?.getValue()\n    if (!userName || !password) return\n    this.loginButton?.setLoading(true)\n    const { error, err_code } = await this.modal.store.login(userName, password)\n    this.loginButton?.setLoading(false)\n    if (error) {\n      // 11001: 'Wrong email or password.',\n      // 11004: 'Too many attempts to login.',\n      // 11102: 'User already registered.',\n      // 11103: 'Invalid password.',\n      // 11111: 'Invalid verification code.',\n      // 11112: 'Verification code expired.',\n      // 11113: 'User does not exist.',\n      // 11401: 'Invalid or expired signature.',\n      // unknown: 'Unknown error, please try again later.'\n      switch (err_code) {\n        case 11001:\n          this.form.findFormItem(FomrItemsName.Email)?.setError('Wrong email or password')\n          break\n        case 11103:\n          this.form.findFormItem(FomrItemsName.Password)?.setError('Invalid password')\n          break\n        case 11113:\n          this.form.findFormItem(FomrItemsName.Password)?.setError('User does not exist.')\n          break\n        case 11004:\n          this.form.findFormItem(FomrItemsName.Password)?.setError('Too many attempts to login')\n          break\n        default:\n          this.form.findFormItem(FomrItemsName.Password)?.setError('Unknown error, please try again later')\n          break\n      }\n      return\n    }\n\n    this.modal.close()\n  }\n\n  private append(container: HTMLElement, element: HTMLElement) {\n    container.appendChild(element)\n  }\n}\n","export const PrivacyURL = 'https://xter.io/privacy-policy'\nexport const TermsURL = 'https://xter.io/terms-of-service'\n","import '../styles/checkbox.scss'\n\ninterface CheckboxProps {\n  defaultChecked?: boolean\n  onChange?: (checked: boolean) => void\n}\nexport class Checkbox {\n  private root: HTMLDivElement\n  private checkboxInput: HTMLInputElement\n  private checkboxLabel: HTMLLabelElement\n  private _checked = false\n  private props: CheckboxProps\n\n  constructor(props: CheckboxProps) {\n    this._checked = !!props.defaultChecked\n    this.props = props\n\n    this.root = document.createElement('div')\n    this.root.className = 'xa-checkbox-wrapper'\n\n    this.checkboxInput = document.createElement('input')\n    this.checkboxInput.type = 'checkbox'\n    this.checkboxInput.className = 'xa-checkbox-input'\n    this.checkboxInput.checked = this._checked\n\n    this.checkboxLabel = document.createElement('label')\n    this.checkboxLabel.className = 'xa-checkbox-label'\n\n    this.root.appendChild(this.checkboxInput)\n    this.root.appendChild(this.checkboxLabel)\n\n    this.root.addEventListener('click', this.handleCheckboxChange.bind(this))\n\n    this.updateCheckboxState()\n  }\n\n  getElement(): HTMLElement {\n    return this.root\n  }\n\n  private handleCheckboxChange() {\n    const { onChange } = this.props\n    this._checked = !this._checked\n    this.updateCheckboxState()\n    onChange?.(this._checked)\n  }\n  private updateCheckboxState() {\n    if (this._checked) {\n      this.checkboxLabel.style.borderColor = '#0a1161'\n      this.checkboxLabel.style.backgroundColor = '#0a1161'\n      this.checkboxInput.checked = true\n    } else {\n      this.checkboxLabel.style.borderColor = '#0a1161'\n      this.checkboxLabel.style.backgroundColor = 'transparent'\n      this.checkboxInput.checked = false\n    }\n  }\n\n  get checked(): boolean {\n    return this._checked\n  }\n}\n","import { BaseModalState } from './BaseModalState'\nimport { PrivacyURL, TermsURL } from './constant'\nimport { EAuthState } from './enums'\nimport { ModalExtraData } from './interfaces'\nimport { Button, Input, Logo } from './ui'\nimport { Checkbox } from './ui/Checkbox'\nimport { XterModalFormItem } from './XterAuthModalFormItem'\nimport { XterAuthModal } from './XterAuthModal'\nimport { XterAuthModalForm } from './XterAuthModalForm'\nimport { validateEmail, validatePassword, validatePasswordMatch } from './utils'\nimport { XterioAuthService } from 'modules/AuthService'\n\nenum FomrItemsName {\n  Email = 'email',\n  Password = 'password',\n  ConfirmPassword = 'confirmPassword',\n  Terms = 'terms',\n  Subscribe = 'subscribe'\n}\nexport class XterAuthModalSignUp extends BaseModalState {\n  private signUpButton: Button | null\n  private emailInput!: Input\n  private pwdInput!: Input\n  private confirmPwdInput!: Input\n  private extraData: ModalExtraData\n  form: XterAuthModalForm\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    super(modal)\n    this.signUpButton = null\n    this.extraData = extraData || {}\n\n    this.form = new XterAuthModalForm()\n  }\n\n  render(): void {\n    if (!this.modal.modalContainer) return\n    const _container = this.modal.modalContainer\n\n    this.modal.setTitle('Create Xterio account', 'Sign up with email')\n\n    // Email Input\n    this.renderEmailInput(_container)\n\n    // Password Input\n    this.renderPwdInput(_container)\n\n    // Confirm Password Input\n    this.renderConfirmPwdInput(_container)\n\n    // tips\n    this.renderTipsCheckList(_container)\n\n    // Sing Up button\n    this.renderConfirmButton(_container)\n\n    // back to sign in\n    this.renderBackTip(_container)\n\n    this.setupListeners()\n  }\n\n  private renderBackTip(_container: HTMLElement) {\n    const toSignInTips = document.createElement('div')\n    toSignInTips.classList.add('xa-w-full', 'xa-text-center')\n    toSignInTips.innerHTML = `\n      <div class=\"xa-login-tip\">\n        <span>Already have an account? </span>\n        <a class=\"xa-to-sign-in\"> Sign in </a>\n      </div>\n    `\n    this.append(_container, toSignInTips)\n  }\n\n  private renderConfirmButton(_container: HTMLElement) {\n    const signUpButton = new Button({\n      text: 'SIGN UP',\n      disabled: true,\n      onClick: (event) => {\n        this.handleSignUp()\n      }\n      // wrapperClassNames: ['xa-login-button']\n    })\n    this.signUpButton = signUpButton\n    this.append(_container, signUpButton.getElement())\n  }\n\n  private renderTipsCheckList(_container: HTMLElement) {\n    const tips = document.createElement('div')\n    const tipItemTerms = document.createElement('div')\n    tipItemTerms.classList.add('xa-login-tip', 'xa-flex')\n    tipItemTerms.innerHTML = `\n      <div>\n        <span>I am 18 years of age or older and agree to the terms of the</span>\n        <a href=\"${TermsURL}\" target=\"_blank\"> Terms of Service </a>\n        <span>and the</span>\n        <a href=\"${PrivacyURL}\" target=\"_blank\"> Privacy Policy </a>\n      </div>\n        `\n    const checkbox = new Checkbox({\n      defaultChecked: true,\n      onChange: (checked) => {\n        this.form.clearFormItemError(FomrItemsName.Terms)\n      }\n    })\n    const checkBoxNode = checkbox.getElement()\n    checkBoxNode.classList.add('xa-login-tip-checkbox')\n    tipItemTerms.insertBefore(checkBoxNode, tipItemTerms.firstChild)\n    tips.appendChild(tipItemTerms)\n    const formItem = new XterModalFormItem(FomrItemsName.Terms, tipItemTerms, () => {\n      return checkbox.checked\n    })\n    this.form.add(FomrItemsName.Terms, formItem)\n    tips.appendChild(formItem.getElement())\n\n    const tipSubscribe = document.createElement('div')\n    tipSubscribe.classList.add('xa-login-tip', 'xa-flex', 'xa-items-center')\n    tipSubscribe.innerHTML = `<div class=\"xa-login-tip\">\n        <span>Subscribe to updates via email</span>\n      </div>`\n    const checkbox2 = new Checkbox({ defaultChecked: false })\n    const checkBoxNode2 = checkbox2.getElement()\n    checkBoxNode2.classList.add('xa-login-tip-checkbox')\n    tipSubscribe.insertBefore(checkBoxNode2, tipSubscribe.firstChild)\n    tips.appendChild(tipSubscribe)\n    const formItem2 = new XterModalFormItem(FomrItemsName.Subscribe, tipSubscribe, () => {\n      return checkbox2.checked\n    })\n    this.form.add(FomrItemsName.Subscribe, formItem2)\n    tips.appendChild(formItem2.getElement())\n\n    this.append(_container, tips)\n  }\n\n  private renderConfirmPwdInput(_container: HTMLElement) {\n    const confirmPwdInput = new Input({\n      label: 'CONFRIM PASSWORD',\n      type: 'password',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handlePasswordChange(value)\n      },\n      onBlur: (value) => {\n        this.form\n          .findFormItem(FomrItemsName.ConfirmPassword)\n          ?.setError(validatePasswordMatch(this.form.getFormItemValue(FomrItemsName.Password), value))\n      }\n    })\n\n    this.confirmPwdInput = confirmPwdInput\n    const formItem = new XterModalFormItem(FomrItemsName.ConfirmPassword, confirmPwdInput.getElement(), () => {\n      return this.confirmPwdInput.getValue()\n    })\n    this.form.add(FomrItemsName.ConfirmPassword, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderPwdInput(_container: HTMLElement) {\n    const pwdInput = new Input({\n      label: 'PASSWORD',\n      type: 'password',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handlePasswordChange(value)\n      },\n      onBlur: (value) => {\n        this.form.findFormItem(FomrItemsName.Password)?.setError(validatePassword(value))\n      }\n    })\n    this.pwdInput = pwdInput\n    const formItem = new XterModalFormItem(FomrItemsName.Password, pwdInput.getElement(), () => {\n      return this.pwdInput.getValue()\n    })\n    this.form.add(FomrItemsName.Password, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderEmailInput(_container: HTMLElement) {\n    const emailInput = new Input({\n      label: 'EMAIL',\n      type: 'text',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.form.clearFormItemError(FomrItemsName.Email)\n        this.handleEmailChange(value)\n      },\n      onBlur: (value) => {\n        this.form.findFormItem(FomrItemsName.Email)?.setError(validateEmail(value))\n      }\n    })\n    this.emailInput = emailInput\n    const formItem = new XterModalFormItem(FomrItemsName.Email, emailInput.getElement(), () => {\n      return this.emailInput.getValue()\n    })\n    this.form.add(FomrItemsName.Email, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private setupListeners(): void {\n    const signInLink = this.modal.modalContainer?.querySelector('.xa-to-sign-in')\n    signInLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.Login))\n\n    const forgotPasswordLink = this.modal.modalContainer?.querySelector('.xa-to-forgotpwd')\n    forgotPasswordLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.ForgotPassword))\n  }\n\n  private handleEmailChange(value: string): void {\n    this.signUpButton?.setDisabled(value.length === 0)\n  }\n  private handlePasswordChange(value: string): void {\n    // this.loginButton?.setDisabled(value.length === 0)\n  }\n\n  private async handleSignUp() {\n    const userName = this.form.getFormItemValue(FomrItemsName.Email)\n    const password = this.form.getFormItemValue(FomrItemsName.Password)\n    const confirmPwd = this.form.getFormItemValue(FomrItemsName.ConfirmPassword)\n    const termsChecked = !!this.form.getFormItemChecked(FomrItemsName.Terms)\n    const subscribeChecked = !!this.form.getFormItemChecked(FomrItemsName.Subscribe)\n\n    if (!termsChecked) {\n      this.form\n        .findFormItem(FomrItemsName.Terms)\n        ?.setError('You have to accept Terms of Service and Privacy Policy to continue.')\n      return\n    }\n\n    if (!userName || !password) return\n    this.signUpButton?.setLoading(true)\n    const { error, err_code } = await XterioAuthService.registerService({\n      username: userName,\n      password: password,\n      subscribe: subscribeChecked\n    })\n    this.signUpButton?.setLoading(false)\n    if (error) {\n      // 11001: 'Wrong email or password.',\n      // 11004: 'Too many attempts to login.',\n      // 11102: 'User already registered.',\n      // 11103: 'Invalid password.',\n      // 11111: 'Invalid verification code.',\n      // 11112: 'Verification code expired.',\n      // 11113: 'User does not exist.',\n      // 11401: 'Invalid or expired signature.',\n      // unknown: 'Unknown error, please try again later.'\n      switch (err_code) {\n        case 11102:\n          this.form.findFormItem(FomrItemsName.Email)?.setError('User already registered.')\n          break\n        case 11103:\n          this.form.findFormItem(FomrItemsName.Password)?.setError('Invalid password.')\n          break\n        default:\n          this.form.findFormItem(FomrItemsName.Subscribe)?.setError('Unknown error, please try again later.')\n          break\n      }\n      return\n    }\n\n    this.modal.switchModalState(EAuthState.SignupCode, { email: userName, password })\n    // if (isLoggedIn) {\n    //   this.modal.close()\n    // }\n  }\n\n  private append(container: HTMLElement, element: HTMLElement) {\n    container.appendChild(element)\n  }\n}\n","import { XterioAuthService } from 'modules/AuthService'\nimport { BaseModalState } from './BaseModalState'\nimport { EAuthState } from './enums'\nimport { ModalExtraData } from './interfaces'\nimport { Button, Input } from './ui'\nimport { validateEmail, validatePasswordMatch } from './utils'\nimport { XterAuthModal } from './XterAuthModal'\nimport { XterAuthModalForm } from './XterAuthModalForm'\nimport { XterModalFormItem } from './XterAuthModalFormItem'\n\nenum ForgotFomrItemsName {\n  Email = 'email',\n  Code = 'code',\n  Password = 'password',\n  ConfirmPassword = 'confirmPassword'\n}\n\nexport class XterAuthModalForgetPwd extends BaseModalState {\n  private continueButton: Button | null\n  form: XterAuthModalForm\n\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    super(modal)\n    this.continueButton = null\n\n    this.form = new XterAuthModalForm()\n  }\n\n  render(): void {\n    if (!this.modal.modalContainer) return\n    const _container = this.modal.modalContainer\n\n    this.modal.setTitle('Forgot password', 'Please enter your email and email verification code')\n\n    // Email Input\n    this.renderEmailInput(_container)\n\n    // Enter Code\n    this.renderCodeInput(_container)\n\n    // Password Input\n    this.renderPwdInput(_container)\n\n    // Confirm Password Input\n    this.renderConfirmPwdInput(_container)\n\n    // Continue button\n    this.renderConfirmButton(_container)\n\n    // back to sign in\n    this.renderBackTip(_container)\n\n    this.setupListeners()\n  }\n\n  private renderEmailInput(_container: HTMLElement) {\n    const emailInput = new Input({\n      label: 'EMAIL',\n      type: 'text',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.form.clearFormItemError(ForgotFomrItemsName.Email)\n        this.handleEmailChange(value)\n      },\n      onBlur: (value) => {\n        this.form.findFormItem(ForgotFomrItemsName.Email)?.setError(validateEmail(value))\n      }\n    })\n\n    const formItem = new XterModalFormItem(ForgotFomrItemsName.Email, emailInput.getElement(), () => {\n      return emailInput.getValue()\n    })\n    this.form.add(ForgotFomrItemsName.Email, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderCodeInput(_container: HTMLElement) {\n    const codeInput = new Input({\n      label: 'ENTER CODE',\n      type: 'text',\n      onChange: (value) => {\n        this.handleEmailChange(value)\n      },\n      addonAfterSendButton: {\n        onClick: () => {\n          const email = this.form.getFormItemValue(ForgotFomrItemsName.Email)\n          if (!email) {\n            this.form.findFormItem(ForgotFomrItemsName.Email)?.setError('Email is required')\n            return\n          }\n          XterioAuthService.sendForgotCodeService({ email: this.form.getFormItemValue(ForgotFomrItemsName.Email) })\n        },\n        onCountdownEnd: () => {}\n      }\n    })\n\n    const formItem = new XterModalFormItem(ForgotFomrItemsName.Code, codeInput.getElement(), () => {\n      return codeInput.getValue()\n    })\n    this.form.add(ForgotFomrItemsName.Code, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderPwdInput(_container: HTMLElement) {\n    const pwdInput = new Input({\n      label: 'NEW PASSWORD',\n      type: 'password',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handlePasswordChange(value)\n      }\n    })\n    const formItem = new XterModalFormItem(ForgotFomrItemsName.Password, pwdInput.getElement(), () => {\n      return pwdInput.getValue()\n    })\n    this.form.add(ForgotFomrItemsName.Password, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderConfirmPwdInput(_container: HTMLElement) {\n    const confirmPwdInput = new Input({\n      label: 'CONFRIM PASSWORD',\n      type: 'password',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handlePasswordChange(value)\n      },\n      onBlur: (value) => {\n        this.form\n          .findFormItem(ForgotFomrItemsName.ConfirmPassword)\n          ?.setError(validatePasswordMatch(this.form.getFormItemValue(ForgotFomrItemsName.Password), value))\n      }\n    })\n\n    const formItem = new XterModalFormItem(ForgotFomrItemsName.ConfirmPassword, confirmPwdInput.getElement(), () => {\n      return confirmPwdInput.getValue()\n    })\n    this.form.add(ForgotFomrItemsName.ConfirmPassword, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderConfirmButton(_container: HTMLElement) {\n    const continueButton = new Button({\n      text: 'CONTINUE',\n      disabled: true,\n      onClick: (event) => {\n        this.handleUpdatePassword()\n      }\n      // wrapperClassNames: ['xa-login-button']\n    })\n    this.continueButton = continueButton\n    this.append(_container, continueButton.getElement())\n  }\n\n  private renderBackTip(_container: HTMLElement) {\n    const toSignInTips = document.createElement('div')\n    toSignInTips.classList.add('xa-w-full', 'xa-text-center')\n    toSignInTips.innerHTML = `\n      <div class=\"xa-login-tip\">\n       <span>Back to </span>\n        <a class=\"xa-to-sign-in\"> Sign in </a>\n      </div>\n    `\n    this.append(_container, toSignInTips)\n  }\n\n  private setupListeners(): void {\n    const signInLink = this.modal.modalContainer?.querySelector('.xa-to-sign-in')\n    signInLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.Login))\n\n    const forgotPasswordLink = this.modal.modalContainer?.querySelector('.xa-to-forgotpwd')\n    forgotPasswordLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.ForgotPassword))\n  }\n\n  private handleEmailChange(value: string): void {\n    this.continueButton?.setDisabled(value.length === 0)\n  }\n  private handlePasswordChange(value: string): void {\n    // this.loginButton?.setDisabled(value.length === 0)\n  }\n\n  private async handleUpdatePassword() {\n    const email = this.form.getFormItemValue(ForgotFomrItemsName.Email)\n    const password = this.form.getFormItemValue(ForgotFomrItemsName.Password)\n    const confirmPwd = this.form.getFormItemValue(ForgotFomrItemsName.ConfirmPassword)\n    const code = this.form.getFormItemValue(ForgotFomrItemsName.Code)\n\n    if (!email || !password) return\n    this.continueButton?.setLoading(true)\n    const { error, err_code } = await XterioAuthService.resetPassword({\n      email,\n      password: password,\n      code\n    })\n    this.continueButton?.setLoading(false)\n    if (error) {\n      // 11001: 'Wrong email or password.',\n      // 11004: 'Too many attempts to login.',\n      // 11102: 'User already registered.',\n      // 11103: 'Invalid password.',\n      // 11111: 'Invalid verification code.',\n      // 11112: 'Verification code expired.',\n      // 11113: 'User does not exist.',\n      // 11401: 'Invalid or expired signature.',\n      // unknown: 'Unknown error, please try again later.'\n      switch (err_code) {\n        case 10001:\n          this.form.findFormItem(ForgotFomrItemsName.Code)?.setError('Invalid verification code')\n          break\n        case 11111:\n          this.form.findFormItem(ForgotFomrItemsName.Code)?.setError('Invalid verification code')\n          break\n        case 11112:\n          this.form.findFormItem(ForgotFomrItemsName.Code)?.setError('Verification code expired')\n          break\n        case 11113:\n          this.form.findFormItem(ForgotFomrItemsName.Email)?.setError('User does not exist')\n          break\n        default:\n          this.form\n            .findFormItem(ForgotFomrItemsName.ConfirmPassword)\n            ?.setError('Unknown error, please try again later.')\n          break\n      }\n      return\n    }\n\n    this.modal.switchModalState(EAuthState.PasswordSuccess)\n  }\n\n  private append(container: HTMLElement, element: HTMLElement) {\n    container.appendChild(element)\n  }\n}\n","type Listener = () => void\nexport class ModalObservable {\n  private listeners: Set<Listener> = new Set()\n\n  subscribe(listener: Listener): () => void {\n    this.listeners.add(listener)\n    return () => this.listeners.delete(listener)\n  }\n\n  notify(): void {\n    this.listeners.forEach((listener) => listener())\n  }\n}\n","import { XterioCache } from 'modules/XterCache'\n\nexport class XterAuthModalTokenManager {\n  public accessToken: string | undefined\n  public refreshToken: string | undefined\n  public idToken: string | undefined\n\n  constructor() {\n    this.accessToken = XterioCache.tokens?.access_token\n    this.refreshToken = XterioCache.tokens?.refresh_token\n    this.idToken = XterioCache.tokens?.id_token\n  }\n\n  public setTokens({\n    accessToken,\n    refreshToken,\n    idToken\n  }: {\n    accessToken: string\n    refreshToken: string\n    idToken: string\n  }) {\n    this.accessToken = accessToken\n    this.refreshToken = refreshToken\n    this.idToken = idToken\n    XterioCache.tokens = { access_token: accessToken, id_token: idToken, refresh_token: refreshToken }\n  }\n\n  public removeTokens() {\n    this.accessToken = undefined\n    this.refreshToken = undefined\n    this.idToken = undefined\n    XterioCache.deleteTokens()\n  }\n}\n","import { ModalObservable } from './ModalObservable'\nimport { XterAuthModalTokenManager } from './XterAuthModalTokenManager'\nimport { XterioAuthService } from 'modules/AuthService'\nimport { IUserInfo } from 'interfaces/loginInfo'\nimport { XterioCache } from 'modules/XterCache'\nimport { XterioAuth } from 'modules/XterAuth'\nimport { XterEventEmiter } from 'modules/XterEventEmitter'\n\ninterface UserState {\n  isLogin: boolean\n  userInfo: IUserInfo | null\n}\nexport class XterAuthModalStore extends ModalObservable {\n  public userState: UserState = { isLogin: false, userInfo: null }\n  public tokenManager: XterAuthModalTokenManager\n\n  constructor() {\n    super()\n\n    this.tokenManager = new XterAuthModalTokenManager()\n\n    this.refreshUserInfo()\n\n    this.listenStateChange()\n  }\n\n  private listenStateChange() {\n    const _userState: UserState = {\n      isLogin: false,\n      userInfo: null\n    }\n    this.userState = new Proxy(_userState, {\n      set: (target, prop, value) => {\n        if (target[prop as keyof UserState] !== value) {\n          target[prop as keyof UserState] = value\n          this.setPersistUserInfo()\n          this.notify()\n        }\n        return true\n      }\n    })\n  }\n\n  // 用户登录方法\n  public async login(username: string, password: string) {\n    const { error, err_code, access_token, id_token, refresh_token } = await XterioAuthService.loginService(\n      username,\n      password\n    )\n\n    if (!error && access_token && refresh_token) {\n      this.tokenManager.setTokens({ accessToken: access_token, refreshToken: refresh_token, idToken: id_token })\n\n      await this.getUserInfo()\n\n      this.userState.isLogin = true\n    } else {\n      this.userState.isLogin = false\n    }\n\n    return { error: !!error, err_code }\n  }\n\n  public async confirmSignUpLogin({ username, password, code }: { username: string; password: string; code: string }) {\n    const { error, err_code, access_token, id_token, refresh_token } = await XterioAuthService.registerConfirmService({\n      username,\n      password,\n      code\n    })\n\n    if (!error && access_token && refresh_token) {\n      this.tokenManager.setTokens({ accessToken: access_token, refreshToken: refresh_token, idToken: id_token })\n\n      await this.getUserInfo()\n\n      this.userState.isLogin = true\n    } else {\n      this.userState.isLogin = false\n    }\n    return { error: !!error, err_code }\n  }\n\n  private async getUserInfo() {\n    const profile = await XterioAuthService.getUserInfo()\n    if (profile && profile.uuid) {\n      this.userState.userInfo = { ...this.userState.userInfo, ...profile }\n      this.userState.isLogin = true\n    }\n    return profile\n  }\n\n  private setPersistUserInfo() {\n    if (this.userState.userInfo) {\n      XterioCache.userInfo = this.userState.userInfo\n    }\n  }\n\n  public getPersistUserInfo() {\n    return XterioCache.userInfo\n  }\n\n  private async refreshUserInfo() {\n    XterEventEmiter.subscribe((res: IUserInfo) => {\n      this.userState.userInfo = res\n      this.userState.isLogin = XterioAuth.isLogin\n    })\n    /*\n    const { refreshToken, idToken } = this.tokenManager\n    if (refreshToken && !idToken) {\n      const res = await refreshTokenService(refreshToken)\n      this.tokenManager.setTokens({\n        accessToken: res.access_token ?? '',\n        refreshToken: refreshToken,\n        idToken: res.id_token ?? ''\n      })\n    }\n    if (this.tokenManager.idToken) {\n      await this.getUserInfo()\n    } else {\n      this.logout()\n    }\n    */\n    //tip: 此处刷新token逻辑已放到 XterioAuth中处理了\n    if (!this.tokenManager.idToken) {\n      this.logout()\n    }\n  }\n\n  // 用户登出方法\n  public logout(): void {\n    this.userState.isLogin = false\n    this.userState.userInfo = null\n\n    this.tokenManager.removeTokens()\n  }\n}\n","import { BaseModalState } from './BaseModalState'\nimport { EAuthState } from './enums'\nimport { ModalExtraData } from './interfaces'\nimport { Button, Input, Logo } from './ui'\nimport { XterAuthModal } from './XterAuthModal'\nimport { XterAuthModalForm } from './XterAuthModalForm'\nimport { XterModalFormItem } from './XterAuthModalFormItem'\n\nenum ContinueFormItemsName {\n  Code = 'code'\n}\n\nexport class XterAuthModalSignUpCode extends BaseModalState {\n  private signUpButton: Button | null\n  private extraData: ModalExtraData\n\n  form: XterAuthModalForm\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    super(modal)\n    this.signUpButton = null\n    this.extraData = extraData || {}\n\n    this.form = new XterAuthModalForm()\n  }\n\n  render(): void {\n    if (!this.modal.modalContainer) return\n    const _container = this.modal.modalContainer\n\n    this.modal.setTitle('Verify email', 'Verification code has been sent to', this.extraData.email)\n\n    this.renderCodeInput(_container)\n\n    this.renderConfirmButton(_container)\n\n    this.renderBackTip(_container)\n\n    this.setupListeners()\n  }\n\n  private renderCodeInput(_container: HTMLElement) {\n    // Code Input\n    const codelInput = new Input({\n      id: 'xaCodeInput',\n      label: 'ENTER CODE',\n      type: 'text',\n      showClearIcon: true,\n      onChange: (value) => {\n        this.handleCodeChange(value)\n      }\n    })\n\n    const formItem = new XterModalFormItem(ContinueFormItemsName.Code, codelInput.getElement(), () => {\n      return codelInput.getValue()\n    })\n    this.form.add(ContinueFormItemsName.Code, formItem)\n    this.append(_container, formItem.getElement())\n  }\n\n  private renderConfirmButton(_container: HTMLElement) {\n    const signUpButton = new Button({\n      text: 'CONTINUE',\n      disabled: true,\n      onClick: (event) => {\n        this.handleContinueSignUp()\n      }\n    })\n    this.signUpButton = signUpButton\n    this.append(_container, signUpButton.getElement())\n  }\n\n  private renderBackTip(_container: HTMLElement) {\n    const toSignInTips = document.createElement('div')\n    toSignInTips.classList.add('xa-w-full', 'xa-text-center')\n    toSignInTips.innerHTML = `\n      <div class=\"xa-login-tip\">\n        <span>Already have an account? </span>\n        <a class=\"xa-to-sign-in\"> Sign in </a>\n      </div>\n    `\n    this.append(_container, toSignInTips)\n  }\n\n  private setupListeners(): void {\n    const signInLink = this.modal.modalContainer?.querySelector('.xa-to-sign-in')\n    signInLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.Login))\n\n    const forgotPasswordLink = this.modal.modalContainer?.querySelector('.xa-to-forgotpwd')\n    forgotPasswordLink?.addEventListener('click', () => this.modal.switchModalState(EAuthState.ForgotPassword))\n  }\n\n  private handleCodeChange(value: string): void {\n    this.signUpButton?.setDisabled(value.length === 0)\n  }\n\n  private append(container: HTMLElement, element: HTMLElement) {\n    container.appendChild(element)\n  }\n\n  private async handleContinueSignUp() {\n    const code = this.form.getFormItemValue(ContinueFormItemsName.Code)\n    const password = this.extraData?.password\n    const username = this.extraData?.email\n\n    if (!password || !username || !code) return\n    this.signUpButton?.setLoading(true)\n    const { error, err_code } = await this.modal.store.confirmSignUpLogin({\n      username,\n      password,\n      code\n    })\n    this.signUpButton?.setLoading(false)\n    if (error) {\n      // 11001: 'Wrong email or password.',\n      // 11004: 'Too many attempts to login.',\n      // 11102: 'User already registered.',\n      // 11103: 'Invalid password.',\n      // 11111: 'Invalid verification code.',\n      // 11112: 'Verification code expired.',\n      // 11113: 'User does not exist.',\n      // 11401: 'Invalid or expired signature.',\n      // unknown: 'Unknown error, please try again later.'\n      switch (err_code) {\n        case 11111:\n          this.form.findFormItem(ContinueFormItemsName.Code)?.setError('Invalid verification code')\n          break\n        default:\n          this.form.findFormItem(ContinueFormItemsName.Code)?.setError('Unknown error, please try again later.')\n          break\n      }\n      return\n    }\n\n    // Success\n    this.modal.close()\n  }\n}\n","export default \"data:image/svg+xml,%3csvg%20width='80'%20height='80'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%3e%3csvg%20width='64'%20height='64'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='32'%20cy='32'%20r='24'%20fill='url(%23paint0_linear_0_548)'%3e%3c/circle%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M44.535%2026L29%2041.535%2019.465%2032%2023%2028.465l6%206%2012-12L44.535%2026z'%20fill='%230A1161'%3e%3c/path%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_0_548'%20x1='8'%20y1='32.828'%20x2='56'%20y2='32.828'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%239EE6FC'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23EBB9E7'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e%3c/svg%3e\"","import { BaseModalState } from './BaseModalState'\nimport { EAuthState } from './enums'\nimport { ModalExtraData } from './interfaces'\nimport { Button } from './ui'\nimport { XterAuthModal } from './XterAuthModal'\n\nimport iconSuccess from '../../assets/images/icon-success.svg'\n\nfunction successIcon() {\n  const logo = document.createElement('div')\n  logo.classList.add('xa-modal-logo')\n  logo.innerHTML = `\n      <img src=\"${iconSuccess}\" alt=\"Xterio\" class=\"xa-icon-success\" />\n    `\n  return logo\n}\n\nexport class XterAuthModaPwdSuccess extends BaseModalState {\n  constructor(modal: XterAuthModal, extraData?: ModalExtraData) {\n    super(modal)\n  }\n\n  render(): void {\n    if (!this.modal.modalContainer) return\n    const _container = this.modal.modalContainer\n\n    this.append(_container, successIcon())\n\n    this.modal.setTitle('Password has been changed!', 'Your password has been changed successfully')\n\n    this.renderConfirmButton(_container)\n  }\n\n  private renderConfirmButton(_container: HTMLElement) {\n    const confirmButton = new Button({\n      text: 'SIGN IN',\n      onClick: (event) => {\n        this.modal.switchModalState(EAuthState.Login)\n      }\n    })\n    this.append(_container, confirmButton.getElement())\n  }\n\n  private append(container: HTMLElement, element: HTMLElement) {\n    container.appendChild(element)\n  }\n}\n","import './styles/common.scss'\nimport './styles/login-modal.scss'\nimport { Logo } from './ui'\nimport { EAuthState } from './enums'\nimport { BaseModalState } from './BaseModalState'\nimport { XterAuthModalSignIn } from './XterAuthModalSignIn'\nimport { XterAuthModalSignUp } from './XterAuthModalSignUp'\nimport { XterAuthModalForgetPwd } from './XterAuthModalForgetPwd'\nimport { XterAuthModalStore } from './XertAuthModalStore'\nimport { XterAuthModalSignUpCode } from './XterAuthModaSignUpCode'\nimport { ModalExtraData } from './interfaces'\nimport { XterAuthModaPwdSuccess } from './XterAuthModaPwdSuccess'\nimport { generateSVGIcon } from 'ui/svg-icon'\nexport class XterAuthModal {\n  private static _instance: XterAuthModal\n  public apiUrl: string\n  private redirectUri?: string\n  public modalContainer?: HTMLElement\n  private modalOverlay?: HTMLElement\n  private currentState: BaseModalState\n\n  public store\n\n  constructor(apiUrl: string) {\n    this.apiUrl = apiUrl\n    this.currentState = new XterAuthModalSignIn(this)\n\n    this.store = new XterAuthModalStore()\n  }\n\n  public static get instance(): XterAuthModal {\n    if (!XterAuthModal._instance) {\n      throw new Error('AuthSDK is not initialized. Call AuthSDK.init(apiUrl, redirectUri) first.')\n    }\n    return XterAuthModal._instance\n  }\n\n  public static init(apiUrl: string): void {\n    if (!XterAuthModal._instance) {\n      XterAuthModal._instance = new XterAuthModal(apiUrl)\n    }\n  }\n\n  public open(): void {\n    const modalOverlay = document.createElement('div')\n    modalOverlay.className = 'xa-modal-overlay'\n    this.modalOverlay = modalOverlay\n    modalOverlay.addEventListener('click', (e) => {\n      if (e.target === modalOverlay) {\n        // this.close() //TEMP disable close if click overlay\n      }\n    })\n\n    const modalContainer = document.createElement('div')\n    this.modalContainer = modalContainer\n    modalContainer.className = 'xa-modal'\n\n    this.renderCommonElement(modalContainer)\n\n    modalOverlay.appendChild(modalContainer)\n    document.body.appendChild(modalOverlay)\n\n    this.currentState.render()\n  }\n\n  public close(): void {\n    this.modalContainer?.remove()\n    this.modalOverlay?.remove()\n  }\n\n  private renderCommonElement(_container: HTMLElement) {\n    // Logo\n    const logo = new Logo()\n    _container.appendChild(logo.getElement())\n\n    //Close\n    const iconClose = generateSVGIcon('icon-close', 24, '#838383')\n    iconClose.addEventListener('click', () => this.close())\n    iconClose.className = 'xa-signin-close'\n    _container.appendChild(iconClose)\n\n    // Title\n    const titleContainer = document.createElement('div')\n    titleContainer.className = 'xa-signin-title-container'\n    titleContainer.innerHTML = `\n        <h3 class=\"xa-signin-title\">Sign in</h3>\n        <p class=\"xa-signin-sub-title\">Sign in with email</p>\n        <div class=\"xa-signin-title-email\"></div>\n       `\n\n    _container.appendChild(titleContainer)\n  }\n\n  public setTitle(title: string, subTitle: string, extraTitle?: string) {\n    const titleContainer = document.querySelector('.xa-signin-title')\n    const subTitleContainer = document.querySelector('.xa-signin-sub-title')\n    const thirdTitleContainer = document.querySelector('.xa-signin-title-email')\n    titleContainer!.innerHTML = title\n    subTitleContainer!.innerHTML = subTitle\n    if (thirdTitleContainer && extraTitle) thirdTitleContainer!.innerHTML = extraTitle\n  }\n\n  private renderContent() {\n    // render 不同状态的内容前先清空内容\n    if (this.modalContainer) {\n      this.modalContainer.innerHTML = ''\n\n      this.renderCommonElement(this.modalContainer)\n    }\n    this.currentState.render()\n    // this.currentState.addEventListeners(this)\n  }\n\n  public switchModalState(state: EAuthState, data?: ModalExtraData) {\n    switch (state) {\n      case 'login':\n        this.currentState = new XterAuthModalSignIn(this, data)\n        break\n      case 'signup':\n        this.currentState = new XterAuthModalSignUp(this, data)\n        break\n      case 'signupCode':\n        this.currentState = new XterAuthModalSignUpCode(this, data)\n        break\n      case 'forgotPassword':\n        this.currentState = new XterAuthModalForgetPwd(this, data)\n        break\n      case EAuthState.PasswordSuccess:\n        this.currentState = new XterAuthModaPwdSuccess(this, data)\n        break\n    }\n    this.renderContent()\n  }\n}\n","var buffer = {};\n\nvar base64Js = {};\n\nbase64Js.byteLength = byteLength;\nbase64Js.toByteArray = toByteArray;\nbase64Js.fromByteArray = fromByteArray;\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i];\n  revLookup[code.charCodeAt(i)] = i;\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62;\nrevLookup['_'.charCodeAt(0)] = 63;\n\nfunction getLens (b64) {\n  var len = b64.length;\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=');\n  if (validLen === -1) validLen = len;\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4);\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp;\n  var lens = getLens(b64);\n  var validLen = lens[0];\n  var placeHoldersLen = lens[1];\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n\n  var curByte = 0;\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen;\n\n  var i;\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)];\n    arr[curByte++] = (tmp >> 16) & 0xFF;\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4);\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2);\n    arr[curByte++] = (tmp >> 8) & 0xFF;\n    arr[curByte++] = tmp & 0xFF;\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp;\n  var output = [];\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF);\n    output.push(tripletToBase64(tmp));\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp;\n  var len = uint8.length;\n  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n  var parts = [];\n  var maxChunkLength = 16383; // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    );\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    );\n  }\n\n  return parts.join('')\n}\n\nvar ieee754 = {};\n\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\n\nieee754.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n};\n\nieee754.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n(function (exports) {\n\n\tconst base64 = base64Js;\n\tconst ieee754$1 = ieee754;\n\tconst customInspectSymbol =\n\t  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n\t    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n\t    : null;\n\n\texports.Buffer = Buffer;\n\texports.SlowBuffer = SlowBuffer;\n\texports.INSPECT_MAX_BYTES = 50;\n\n\tconst K_MAX_LENGTH = 0x7fffffff;\n\texports.kMaxLength = K_MAX_LENGTH;\n\tconst { Uint8Array: GlobalUint8Array, ArrayBuffer: GlobalArrayBuffer, SharedArrayBuffer: GlobalSharedArrayBuffer } = globalThis;\n\n\t/**\n\t * If `Buffer.TYPED_ARRAY_SUPPORT`:\n\t *   === true    Use Uint8Array implementation (fastest)\n\t *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n\t *               implementation (most compatible, even IE6)\n\t *\n\t * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n\t * Opera 11.6+, iOS 4.2+.\n\t *\n\t * We report that the browser does not support typed arrays if the are not subclassable\n\t * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n\t * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n\t * for __proto__ and has a buggy typed array implementation.\n\t */\n\tBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\n\n\tif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n\t    typeof console.error === 'function') {\n\t  console.error(\n\t    'This browser lacks typed array (Uint8Array) support which is required by ' +\n\t    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n\t  );\n\t}\n\n\tfunction typedArraySupport () {\n\t  // Can typed array instances can be augmented?\n\t  try {\n\t    const arr = new GlobalUint8Array(1);\n\t    const proto = { foo: function () { return 42 } };\n\t    Object.setPrototypeOf(proto, GlobalUint8Array.prototype);\n\t    Object.setPrototypeOf(arr, proto);\n\t    return arr.foo() === 42\n\t  } catch (e) {\n\t    return false\n\t  }\n\t}\n\n\tObject.defineProperty(Buffer.prototype, 'parent', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.buffer\n\t  }\n\t});\n\n\tObject.defineProperty(Buffer.prototype, 'offset', {\n\t  enumerable: true,\n\t  get: function () {\n\t    if (!Buffer.isBuffer(this)) return undefined\n\t    return this.byteOffset\n\t  }\n\t});\n\n\tfunction createBuffer (length) {\n\t  if (length > K_MAX_LENGTH) {\n\t    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n\t  }\n\t  // Return an augmented `Uint8Array` instance\n\t  const buf = new GlobalUint8Array(length);\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\t  return buf\n\t}\n\n\t/**\n\t * The Buffer constructor returns instances of `Uint8Array` that have their\n\t * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n\t * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n\t * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n\t * returns a single octet.\n\t *\n\t * The `Uint8Array` prototype remains unmodified.\n\t */\n\n\tfunction Buffer (arg, encodingOrOffset, length) {\n\t  // Common case.\n\t  if (typeof arg === 'number') {\n\t    if (typeof encodingOrOffset === 'string') {\n\t      throw new TypeError(\n\t        'The \"string\" argument must be of type string. Received type number'\n\t      )\n\t    }\n\t    return allocUnsafe(arg)\n\t  }\n\t  return from(arg, encodingOrOffset, length)\n\t}\n\n\tBuffer.poolSize = 8192; // not used by this implementation\n\n\tfunction from (value, encodingOrOffset, length) {\n\t  if (typeof value === 'string') {\n\t    return fromString(value, encodingOrOffset)\n\t  }\n\n\t  if (GlobalArrayBuffer.isView(value)) {\n\t    return fromArrayView(value)\n\t  }\n\n\t  if (value == null) {\n\t    throw new TypeError(\n\t      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t      'or Array-like Object. Received type ' + (typeof value)\n\t    )\n\t  }\n\n\t  if (isInstance(value, GlobalArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalArrayBuffer))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof GlobalSharedArrayBuffer !== 'undefined' &&\n\t      (isInstance(value, GlobalSharedArrayBuffer) ||\n\t      (value && isInstance(value.buffer, GlobalSharedArrayBuffer)))) {\n\t    return fromArrayBuffer(value, encodingOrOffset, length)\n\t  }\n\n\t  if (typeof value === 'number') {\n\t    throw new TypeError(\n\t      'The \"value\" argument must not be of type number. Received type number'\n\t    )\n\t  }\n\n\t  const valueOf = value.valueOf && value.valueOf();\n\t  if (valueOf != null && valueOf !== value) {\n\t    return Buffer.from(valueOf, encodingOrOffset, length)\n\t  }\n\n\t  const b = fromObject(value);\n\t  if (b) return b\n\n\t  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n\t      typeof value[Symbol.toPrimitive] === 'function') {\n\t    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n\t  }\n\n\t  throw new TypeError(\n\t    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n\t    'or Array-like Object. Received type ' + (typeof value)\n\t  )\n\t}\n\n\t/**\n\t * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n\t * if value is a number.\n\t * Buffer.from(str[, encoding])\n\t * Buffer.from(array)\n\t * Buffer.from(buffer)\n\t * Buffer.from(arrayBuffer[, byteOffset[, length]])\n\t **/\n\tBuffer.from = function (value, encodingOrOffset, length) {\n\t  return from(value, encodingOrOffset, length)\n\t};\n\n\t// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n\t// https://github.com/feross/buffer/pull/148\n\tObject.setPrototypeOf(Buffer.prototype, GlobalUint8Array.prototype);\n\tObject.setPrototypeOf(Buffer, GlobalUint8Array);\n\n\tfunction assertSize (size) {\n\t  if (typeof size !== 'number') {\n\t    throw new TypeError('\"size\" argument must be of type number')\n\t  } else if (size < 0) {\n\t    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n\t  }\n\t}\n\n\tfunction alloc (size, fill, encoding) {\n\t  assertSize(size);\n\t  if (size <= 0) {\n\t    return createBuffer(size)\n\t  }\n\t  if (fill !== undefined) {\n\t    // Only pay attention to encoding if it's a string. This\n\t    // prevents accidentally sending in a number that would\n\t    // be interpreted as a start offset.\n\t    return typeof encoding === 'string'\n\t      ? createBuffer(size).fill(fill, encoding)\n\t      : createBuffer(size).fill(fill)\n\t  }\n\t  return createBuffer(size)\n\t}\n\n\t/**\n\t * Creates a new filled Buffer instance.\n\t * alloc(size[, fill[, encoding]])\n\t **/\n\tBuffer.alloc = function (size, fill, encoding) {\n\t  return alloc(size, fill, encoding)\n\t};\n\n\tfunction allocUnsafe (size) {\n\t  assertSize(size);\n\t  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n\t}\n\n\t/**\n\t * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n\t * */\n\tBuffer.allocUnsafe = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\t/**\n\t * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n\t */\n\tBuffer.allocUnsafeSlow = function (size) {\n\t  return allocUnsafe(size)\n\t};\n\n\tfunction fromString (string, encoding) {\n\t  if (typeof encoding !== 'string' || encoding === '') {\n\t    encoding = 'utf8';\n\t  }\n\n\t  if (!Buffer.isEncoding(encoding)) {\n\t    throw new TypeError('Unknown encoding: ' + encoding)\n\t  }\n\n\t  const length = byteLength(string, encoding) | 0;\n\t  let buf = createBuffer(length);\n\n\t  const actual = buf.write(string, encoding);\n\n\t  if (actual !== length) {\n\t    // Writing a hex string, for example, that contains invalid characters will\n\t    // cause everything after the first invalid character to be ignored. (e.g.\n\t    // 'abxxcd' will be treated as 'ab')\n\t    buf = buf.slice(0, actual);\n\t  }\n\n\t  return buf\n\t}\n\n\tfunction fromArrayLike (array) {\n\t  const length = array.length < 0 ? 0 : checked(array.length) | 0;\n\t  const buf = createBuffer(length);\n\t  for (let i = 0; i < length; i += 1) {\n\t    buf[i] = array[i] & 255;\n\t  }\n\t  return buf\n\t}\n\n\tfunction fromArrayView (arrayView) {\n\t  if (isInstance(arrayView, GlobalUint8Array)) {\n\t    const copy = new GlobalUint8Array(arrayView);\n\t    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n\t  }\n\t  return fromArrayLike(arrayView)\n\t}\n\n\tfunction fromArrayBuffer (array, byteOffset, length) {\n\t  if (byteOffset < 0 || array.byteLength < byteOffset) {\n\t    throw new RangeError('\"offset\" is outside of buffer bounds')\n\t  }\n\n\t  if (array.byteLength < byteOffset + (length || 0)) {\n\t    throw new RangeError('\"length\" is outside of buffer bounds')\n\t  }\n\n\t  let buf;\n\t  if (byteOffset === undefined && length === undefined) {\n\t    buf = new GlobalUint8Array(array);\n\t  } else if (length === undefined) {\n\t    buf = new GlobalUint8Array(array, byteOffset);\n\t  } else {\n\t    buf = new GlobalUint8Array(array, byteOffset, length);\n\t  }\n\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(buf, Buffer.prototype);\n\n\t  return buf\n\t}\n\n\tfunction fromObject (obj) {\n\t  if (Buffer.isBuffer(obj)) {\n\t    const len = checked(obj.length) | 0;\n\t    const buf = createBuffer(len);\n\n\t    if (buf.length === 0) {\n\t      return buf\n\t    }\n\n\t    obj.copy(buf, 0, 0, len);\n\t    return buf\n\t  }\n\n\t  if (obj.length !== undefined) {\n\t    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n\t      return createBuffer(0)\n\t    }\n\t    return fromArrayLike(obj)\n\t  }\n\n\t  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n\t    return fromArrayLike(obj.data)\n\t  }\n\t}\n\n\tfunction checked (length) {\n\t  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n\t  // length is NaN (which is otherwise coerced to zero.)\n\t  if (length >= K_MAX_LENGTH) {\n\t    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n\t                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n\t  }\n\t  return length | 0\n\t}\n\n\tfunction SlowBuffer (length) {\n\t  if (+length != length) { // eslint-disable-line eqeqeq\n\t    length = 0;\n\t  }\n\t  return Buffer.alloc(+length)\n\t}\n\n\tBuffer.isBuffer = function isBuffer (b) {\n\t  return b != null && b._isBuffer === true &&\n\t    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n\t};\n\n\tBuffer.compare = function compare (a, b) {\n\t  if (isInstance(a, GlobalUint8Array)) a = Buffer.from(a, a.offset, a.byteLength);\n\t  if (isInstance(b, GlobalUint8Array)) b = Buffer.from(b, b.offset, b.byteLength);\n\t  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n\t    throw new TypeError(\n\t      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n\t    )\n\t  }\n\n\t  if (a === b) return 0\n\n\t  let x = a.length;\n\t  let y = b.length;\n\n\t  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n\t    if (a[i] !== b[i]) {\n\t      x = a[i];\n\t      y = b[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\tBuffer.isEncoding = function isEncoding (encoding) {\n\t  switch (String(encoding).toLowerCase()) {\n\t    case 'hex':\n\t    case 'utf8':\n\t    case 'utf-8':\n\t    case 'ascii':\n\t    case 'latin1':\n\t    case 'binary':\n\t    case 'base64':\n\t    case 'ucs2':\n\t    case 'ucs-2':\n\t    case 'utf16le':\n\t    case 'utf-16le':\n\t      return true\n\t    default:\n\t      return false\n\t  }\n\t};\n\n\tBuffer.concat = function concat (list, length) {\n\t  if (!Array.isArray(list)) {\n\t    throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t  }\n\n\t  if (list.length === 0) {\n\t    return Buffer.alloc(0)\n\t  }\n\n\t  let i;\n\t  if (length === undefined) {\n\t    length = 0;\n\t    for (i = 0; i < list.length; ++i) {\n\t      length += list[i].length;\n\t    }\n\t  }\n\n\t  const buffer = Buffer.allocUnsafe(length);\n\t  let pos = 0;\n\t  for (i = 0; i < list.length; ++i) {\n\t    let buf = list[i];\n\t    if (isInstance(buf, GlobalUint8Array)) {\n\t      if (pos + buf.length > buffer.length) {\n\t        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf);\n\t        buf.copy(buffer, pos);\n\t      } else {\n\t        GlobalUint8Array.prototype.set.call(\n\t          buffer,\n\t          buf,\n\t          pos\n\t        );\n\t      }\n\t    } else if (!Buffer.isBuffer(buf)) {\n\t      throw new TypeError('\"list\" argument must be an Array of Buffers')\n\t    } else {\n\t      buf.copy(buffer, pos);\n\t    }\n\t    pos += buf.length;\n\t  }\n\t  return buffer\n\t};\n\n\tfunction byteLength (string, encoding) {\n\t  if (Buffer.isBuffer(string)) {\n\t    return string.length\n\t  }\n\t  if (GlobalArrayBuffer.isView(string) || isInstance(string, GlobalArrayBuffer)) {\n\t    return string.byteLength\n\t  }\n\t  if (typeof string !== 'string') {\n\t    throw new TypeError(\n\t      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n\t      'Received type ' + typeof string\n\t    )\n\t  }\n\n\t  const len = string.length;\n\t  const mustMatch = (arguments.length > 2 && arguments[2] === true);\n\t  if (!mustMatch && len === 0) return 0\n\n\t  // Use a for loop to avoid recursion\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return len\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8ToBytes(string).length\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return len * 2\n\t      case 'hex':\n\t        return len >>> 1\n\t      case 'base64':\n\t        return base64ToBytes(string).length\n\t      default:\n\t        if (loweredCase) {\n\t          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n\t        }\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\tBuffer.byteLength = byteLength;\n\n\tfunction slowToString (encoding, start, end) {\n\t  let loweredCase = false;\n\n\t  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n\t  // property of a typed array.\n\n\t  // This behaves neither like String nor Uint8Array in that we set start/end\n\t  // to their upper/lower bounds if the value passed is out of range.\n\t  // undefined is handled specially as per ECMA-262 6th Edition,\n\t  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\t  if (start === undefined || start < 0) {\n\t    start = 0;\n\t  }\n\t  // Return early if start > this.length. Done here to prevent potential uint32\n\t  // coercion fail below.\n\t  if (start > this.length) {\n\t    return ''\n\t  }\n\n\t  if (end === undefined || end > this.length) {\n\t    end = this.length;\n\t  }\n\n\t  if (end <= 0) {\n\t    return ''\n\t  }\n\n\t  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n\t  end >>>= 0;\n\t  start >>>= 0;\n\n\t  if (end <= start) {\n\t    return ''\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  while (true) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexSlice(this, start, end)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Slice(this, start, end)\n\n\t      case 'ascii':\n\t        return asciiSlice(this, start, end)\n\n\t      case 'latin1':\n\t      case 'binary':\n\t        return latin1Slice(this, start, end)\n\n\t      case 'base64':\n\t        return base64Slice(this, start, end)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return utf16leSlice(this, start, end)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = (encoding + '').toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t}\n\n\t// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n\t// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n\t// reliably in a browserify context because there could be multiple different\n\t// copies of the 'buffer' package in use. This method works even for Buffer\n\t// instances that were created from another copy of the `buffer` package.\n\t// See: https://github.com/feross/buffer/issues/154\n\tBuffer.prototype._isBuffer = true;\n\n\tfunction swap (b, n, m) {\n\t  const i = b[n];\n\t  b[n] = b[m];\n\t  b[m] = i;\n\t}\n\n\tBuffer.prototype.swap16 = function swap16 () {\n\t  const len = this.length;\n\t  if (len % 2 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 16-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 2) {\n\t    swap(this, i, i + 1);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap32 = function swap32 () {\n\t  const len = this.length;\n\t  if (len % 4 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 32-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 4) {\n\t    swap(this, i, i + 3);\n\t    swap(this, i + 1, i + 2);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.swap64 = function swap64 () {\n\t  const len = this.length;\n\t  if (len % 8 !== 0) {\n\t    throw new RangeError('Buffer size must be a multiple of 64-bits')\n\t  }\n\t  for (let i = 0; i < len; i += 8) {\n\t    swap(this, i, i + 7);\n\t    swap(this, i + 1, i + 6);\n\t    swap(this, i + 2, i + 5);\n\t    swap(this, i + 3, i + 4);\n\t  }\n\t  return this\n\t};\n\n\tBuffer.prototype.toString = function toString () {\n\t  const length = this.length;\n\t  if (length === 0) return ''\n\t  if (arguments.length === 0) return utf8Slice(this, 0, length)\n\t  return slowToString.apply(this, arguments)\n\t};\n\n\tBuffer.prototype.toLocaleString = Buffer.prototype.toString;\n\n\tBuffer.prototype.equals = function equals (b) {\n\t  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n\t  if (this === b) return true\n\t  return Buffer.compare(this, b) === 0\n\t};\n\n\tBuffer.prototype.inspect = function inspect () {\n\t  let str = '';\n\t  const max = exports.INSPECT_MAX_BYTES;\n\t  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();\n\t  if (this.length > max) str += ' ... ';\n\t  return '<Buffer ' + str + '>'\n\t};\n\tif (customInspectSymbol) {\n\t  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;\n\t}\n\n\tBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n\t  if (isInstance(target, GlobalUint8Array)) {\n\t    target = Buffer.from(target, target.offset, target.byteLength);\n\t  }\n\t  if (!Buffer.isBuffer(target)) {\n\t    throw new TypeError(\n\t      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n\t      'Received type ' + (typeof target)\n\t    )\n\t  }\n\n\t  if (start === undefined) {\n\t    start = 0;\n\t  }\n\t  if (end === undefined) {\n\t    end = target ? target.length : 0;\n\t  }\n\t  if (thisStart === undefined) {\n\t    thisStart = 0;\n\t  }\n\t  if (thisEnd === undefined) {\n\t    thisEnd = this.length;\n\t  }\n\n\t  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n\t    throw new RangeError('out of range index')\n\t  }\n\n\t  if (thisStart >= thisEnd && start >= end) {\n\t    return 0\n\t  }\n\t  if (thisStart >= thisEnd) {\n\t    return -1\n\t  }\n\t  if (start >= end) {\n\t    return 1\n\t  }\n\n\t  start >>>= 0;\n\t  end >>>= 0;\n\t  thisStart >>>= 0;\n\t  thisEnd >>>= 0;\n\n\t  if (this === target) return 0\n\n\t  let x = thisEnd - thisStart;\n\t  let y = end - start;\n\t  const len = Math.min(x, y);\n\n\t  const thisCopy = this.slice(thisStart, thisEnd);\n\t  const targetCopy = target.slice(start, end);\n\n\t  for (let i = 0; i < len; ++i) {\n\t    if (thisCopy[i] !== targetCopy[i]) {\n\t      x = thisCopy[i];\n\t      y = targetCopy[i];\n\t      break\n\t    }\n\t  }\n\n\t  if (x < y) return -1\n\t  if (y < x) return 1\n\t  return 0\n\t};\n\n\t// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n\t// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n\t//\n\t// Arguments:\n\t// - buffer - a Buffer to search\n\t// - val - a string, Buffer, or number\n\t// - byteOffset - an index into `buffer`; will be clamped to an int32\n\t// - encoding - an optional encoding, relevant is val is a string\n\t// - dir - true for indexOf, false for lastIndexOf\n\tfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n\t  // Empty buffer means no match\n\t  if (buffer.length === 0) return -1\n\n\t  // Normalize byteOffset\n\t  if (typeof byteOffset === 'string') {\n\t    encoding = byteOffset;\n\t    byteOffset = 0;\n\t  } else if (byteOffset > 0x7fffffff) {\n\t    byteOffset = 0x7fffffff;\n\t  } else if (byteOffset < -0x80000000) {\n\t    byteOffset = -0x80000000;\n\t  }\n\t  byteOffset = +byteOffset; // Coerce to Number.\n\t  if (numberIsNaN(byteOffset)) {\n\t    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n\t    byteOffset = dir ? 0 : (buffer.length - 1);\n\t  }\n\n\t  // Normalize byteOffset: negative offsets start from the end of the buffer\n\t  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\t  if (byteOffset >= buffer.length) {\n\t    if (dir) return -1\n\t    else byteOffset = buffer.length - 1;\n\t  } else if (byteOffset < 0) {\n\t    if (dir) byteOffset = 0;\n\t    else return -1\n\t  }\n\n\t  // Normalize val\n\t  if (typeof val === 'string') {\n\t    val = Buffer.from(val, encoding);\n\t  }\n\n\t  // Finally, search either indexOf (if dir is true) or lastIndexOf\n\t  if (Buffer.isBuffer(val)) {\n\t    // Special case: looking for empty string/buffer always fails\n\t    if (val.length === 0) {\n\t      return -1\n\t    }\n\t    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n\t  } else if (typeof val === 'number') {\n\t    val = val & 0xFF; // Search for a byte value [0-255]\n\t    if (typeof GlobalUint8Array.prototype.indexOf === 'function') {\n\t      if (dir) {\n\t        return GlobalUint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n\t      } else {\n\t        return GlobalUint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n\t      }\n\t    }\n\t    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n\t  }\n\n\t  throw new TypeError('val must be string, number or Buffer')\n\t}\n\n\tfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n\t  let indexSize = 1;\n\t  let arrLength = arr.length;\n\t  let valLength = val.length;\n\n\t  if (encoding !== undefined) {\n\t    encoding = String(encoding).toLowerCase();\n\t    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n\t        encoding === 'utf16le' || encoding === 'utf-16le') {\n\t      if (arr.length < 2 || val.length < 2) {\n\t        return -1\n\t      }\n\t      indexSize = 2;\n\t      arrLength /= 2;\n\t      valLength /= 2;\n\t      byteOffset /= 2;\n\t    }\n\t  }\n\n\t  function read (buf, i) {\n\t    if (indexSize === 1) {\n\t      return buf[i]\n\t    } else {\n\t      return buf.readUInt16BE(i * indexSize)\n\t    }\n\t  }\n\n\t  let i;\n\t  if (dir) {\n\t    let foundIndex = -1;\n\t    for (i = byteOffset; i < arrLength; i++) {\n\t      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n\t        if (foundIndex === -1) foundIndex = i;\n\t        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n\t      } else {\n\t        if (foundIndex !== -1) i -= i - foundIndex;\n\t        foundIndex = -1;\n\t      }\n\t    }\n\t  } else {\n\t    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\t    for (i = byteOffset; i >= 0; i--) {\n\t      let found = true;\n\t      for (let j = 0; j < valLength; j++) {\n\t        if (read(arr, i + j) !== read(val, j)) {\n\t          found = false;\n\t          break\n\t        }\n\t      }\n\t      if (found) return i\n\t    }\n\t  }\n\n\t  return -1\n\t}\n\n\tBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n\t  return this.indexOf(val, byteOffset, encoding) !== -1\n\t};\n\n\tBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n\t};\n\n\tBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n\t  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n\t};\n\n\tfunction hexWrite (buf, string, offset, length) {\n\t  offset = Number(offset) || 0;\n\t  const remaining = buf.length - offset;\n\t  if (!length) {\n\t    length = remaining;\n\t  } else {\n\t    length = Number(length);\n\t    if (length > remaining) {\n\t      length = remaining;\n\t    }\n\t  }\n\n\t  const strLen = string.length;\n\n\t  if (length > strLen / 2) {\n\t    length = strLen / 2;\n\t  }\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    const parsed = parseInt(string.substr(i * 2, 2), 16);\n\t    if (numberIsNaN(parsed)) return i\n\t    buf[offset + i] = parsed;\n\t  }\n\t  return i\n\t}\n\n\tfunction utf8Write (buf, string, offset, length) {\n\t  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tfunction asciiWrite (buf, string, offset, length) {\n\t  return blitBuffer(asciiToBytes(string), buf, offset, length)\n\t}\n\n\tfunction base64Write (buf, string, offset, length) {\n\t  return blitBuffer(base64ToBytes(string), buf, offset, length)\n\t}\n\n\tfunction ucs2Write (buf, string, offset, length) {\n\t  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n\t}\n\n\tBuffer.prototype.write = function write (string, offset, length, encoding) {\n\t  // Buffer#write(string)\n\t  if (offset === undefined) {\n\t    encoding = 'utf8';\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, encoding)\n\t  } else if (length === undefined && typeof offset === 'string') {\n\t    encoding = offset;\n\t    length = this.length;\n\t    offset = 0;\n\t  // Buffer#write(string, offset[, length][, encoding])\n\t  } else if (isFinite(offset)) {\n\t    offset = offset >>> 0;\n\t    if (isFinite(length)) {\n\t      length = length >>> 0;\n\t      if (encoding === undefined) encoding = 'utf8';\n\t    } else {\n\t      encoding = length;\n\t      length = undefined;\n\t    }\n\t  } else {\n\t    throw new Error(\n\t      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n\t    )\n\t  }\n\n\t  const remaining = this.length - offset;\n\t  if (length === undefined || length > remaining) length = remaining;\n\n\t  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n\t    throw new RangeError('Attempt to write outside buffer bounds')\n\t  }\n\n\t  if (!encoding) encoding = 'utf8';\n\n\t  let loweredCase = false;\n\t  for (;;) {\n\t    switch (encoding) {\n\t      case 'hex':\n\t        return hexWrite(this, string, offset, length)\n\n\t      case 'utf8':\n\t      case 'utf-8':\n\t        return utf8Write(this, string, offset, length)\n\n\t      case 'ascii':\n\t      case 'latin1':\n\t      case 'binary':\n\t        return asciiWrite(this, string, offset, length)\n\n\t      case 'base64':\n\t        // Warning: maxLength not taken into account in base64Write\n\t        return base64Write(this, string, offset, length)\n\n\t      case 'ucs2':\n\t      case 'ucs-2':\n\t      case 'utf16le':\n\t      case 'utf-16le':\n\t        return ucs2Write(this, string, offset, length)\n\n\t      default:\n\t        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n\t        encoding = ('' + encoding).toLowerCase();\n\t        loweredCase = true;\n\t    }\n\t  }\n\t};\n\n\tBuffer.prototype.toJSON = function toJSON () {\n\t  return {\n\t    type: 'Buffer',\n\t    data: Array.prototype.slice.call(this._arr || this, 0)\n\t  }\n\t};\n\n\tfunction base64Slice (buf, start, end) {\n\t  if (start === 0 && end === buf.length) {\n\t    return base64.fromByteArray(buf)\n\t  } else {\n\t    return base64.fromByteArray(buf.slice(start, end))\n\t  }\n\t}\n\n\tfunction utf8Slice (buf, start, end) {\n\t  end = Math.min(buf.length, end);\n\t  const res = [];\n\n\t  let i = start;\n\t  while (i < end) {\n\t    const firstByte = buf[i];\n\t    let codePoint = null;\n\t    let bytesPerSequence = (firstByte > 0xEF)\n\t      ? 4\n\t      : (firstByte > 0xDF)\n\t          ? 3\n\t          : (firstByte > 0xBF)\n\t              ? 2\n\t              : 1;\n\n\t    if (i + bytesPerSequence <= end) {\n\t      let secondByte, thirdByte, fourthByte, tempCodePoint;\n\n\t      switch (bytesPerSequence) {\n\t        case 1:\n\t          if (firstByte < 0x80) {\n\t            codePoint = firstByte;\n\t          }\n\t          break\n\t        case 2:\n\t          secondByte = buf[i + 1];\n\t          if ((secondByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);\n\t            if (tempCodePoint > 0x7F) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 3:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);\n\t            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t          break\n\t        case 4:\n\t          secondByte = buf[i + 1];\n\t          thirdByte = buf[i + 2];\n\t          fourthByte = buf[i + 3];\n\t          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n\t            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);\n\t            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n\t              codePoint = tempCodePoint;\n\t            }\n\t          }\n\t      }\n\t    }\n\n\t    if (codePoint === null) {\n\t      // we did not generate a valid codePoint so insert a\n\t      // replacement char (U+FFFD) and advance only 1 byte\n\t      codePoint = 0xFFFD;\n\t      bytesPerSequence = 1;\n\t    } else if (codePoint > 0xFFFF) {\n\t      // encode to utf16 (surrogate pair dance)\n\t      codePoint -= 0x10000;\n\t      res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n\t      codePoint = 0xDC00 | codePoint & 0x3FF;\n\t    }\n\n\t    res.push(codePoint);\n\t    i += bytesPerSequence;\n\t  }\n\n\t  return decodeCodePointsArray(res)\n\t}\n\n\t// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n\t// the lowest limit is Chrome, with 0x10000 args.\n\t// We go 1 magnitude less, for safety\n\tconst MAX_ARGUMENTS_LENGTH = 0x1000;\n\n\tfunction decodeCodePointsArray (codePoints) {\n\t  const len = codePoints.length;\n\t  if (len <= MAX_ARGUMENTS_LENGTH) {\n\t    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n\t  }\n\n\t  // Decode in chunks to avoid \"call stack size exceeded\".\n\t  let res = '';\n\t  let i = 0;\n\t  while (i < len) {\n\t    res += String.fromCharCode.apply(\n\t      String,\n\t      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n\t    );\n\t  }\n\t  return res\n\t}\n\n\tfunction asciiSlice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i] & 0x7F);\n\t  }\n\t  return ret\n\t}\n\n\tfunction latin1Slice (buf, start, end) {\n\t  let ret = '';\n\t  end = Math.min(buf.length, end);\n\n\t  for (let i = start; i < end; ++i) {\n\t    ret += String.fromCharCode(buf[i]);\n\t  }\n\t  return ret\n\t}\n\n\tfunction hexSlice (buf, start, end) {\n\t  const len = buf.length;\n\n\t  if (!start || start < 0) start = 0;\n\t  if (!end || end < 0 || end > len) end = len;\n\n\t  let out = '';\n\t  for (let i = start; i < end; ++i) {\n\t    out += hexSliceLookupTable[buf[i]];\n\t  }\n\t  return out\n\t}\n\n\tfunction utf16leSlice (buf, start, end) {\n\t  const bytes = buf.slice(start, end);\n\t  let res = '';\n\t  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n\t  for (let i = 0; i < bytes.length - 1; i += 2) {\n\t    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256));\n\t  }\n\t  return res\n\t}\n\n\tBuffer.prototype.slice = function slice (start, end) {\n\t  const len = this.length;\n\t  start = ~~start;\n\t  end = end === undefined ? len : ~~end;\n\n\t  if (start < 0) {\n\t    start += len;\n\t    if (start < 0) start = 0;\n\t  } else if (start > len) {\n\t    start = len;\n\t  }\n\n\t  if (end < 0) {\n\t    end += len;\n\t    if (end < 0) end = 0;\n\t  } else if (end > len) {\n\t    end = len;\n\t  }\n\n\t  if (end < start) end = start;\n\n\t  const newBuf = this.subarray(start, end);\n\t  // Return an augmented `Uint8Array` instance\n\t  Object.setPrototypeOf(newBuf, Buffer.prototype);\n\n\t  return newBuf\n\t};\n\n\t/*\n\t * Need to make sure that buffer isn't trying to write out of bounds.\n\t */\n\tfunction checkOffset (offset, ext, length) {\n\t  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n\t  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n\t}\n\n\tBuffer.prototype.readUintLE =\n\tBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUintBE =\n\tBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    checkOffset(offset, byteLength, this.length);\n\t  }\n\n\t  let val = this[offset + --byteLength];\n\t  let mul = 1;\n\t  while (byteLength > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --byteLength] * mul;\n\t  }\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readUint8 =\n\tBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  return this[offset]\n\t};\n\n\tBuffer.prototype.readUint16LE =\n\tBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return this[offset] | (this[offset + 1] << 8)\n\t};\n\n\tBuffer.prototype.readUint16BE =\n\tBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  return (this[offset] << 8) | this[offset + 1]\n\t};\n\n\tBuffer.prototype.readUint32LE =\n\tBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return ((this[offset]) |\n\t      (this[offset + 1] << 8) |\n\t      (this[offset + 2] << 16)) +\n\t      (this[offset + 3] * 0x1000000)\n\t};\n\n\tBuffer.prototype.readUint32BE =\n\tBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] * 0x1000000) +\n\t    ((this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const lo = first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24;\n\n\t  const hi = this[++offset] +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    last * 2 ** 24;\n\n\t  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n\t});\n\n\tBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const hi = first * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  const lo = this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last;\n\n\t  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n\t});\n\n\tBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let val = this[offset];\n\t  let mul = 1;\n\t  let i = 0;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    val += this[offset + i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) checkOffset(offset, byteLength, this.length);\n\n\t  let i = byteLength;\n\t  let mul = 1;\n\t  let val = this[offset + --i];\n\t  while (i > 0 && (mul *= 0x100)) {\n\t    val += this[offset + --i] * mul;\n\t  }\n\t  mul *= 0x80;\n\n\t  if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n\n\t  return val\n\t};\n\n\tBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 1, this.length);\n\t  if (!(this[offset] & 0x80)) return (this[offset])\n\t  return ((0xff - this[offset] + 1) * -1)\n\t};\n\n\tBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset] | (this[offset + 1] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 2, this.length);\n\t  const val = this[offset + 1] | (this[offset] << 8);\n\t  return (val & 0x8000) ? val | 0xFFFF0000 : val\n\t};\n\n\tBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset]) |\n\t    (this[offset + 1] << 8) |\n\t    (this[offset + 2] << 16) |\n\t    (this[offset + 3] << 24)\n\t};\n\n\tBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\n\t  return (this[offset] << 24) |\n\t    (this[offset + 1] << 16) |\n\t    (this[offset + 2] << 8) |\n\t    (this[offset + 3])\n\t};\n\n\tBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = this[offset + 4] +\n\t    this[offset + 5] * 2 ** 8 +\n\t    this[offset + 6] * 2 ** 16 +\n\t    (last << 24); // Overflow\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(first +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 24)\n\t});\n\n\tBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n\t  offset = offset >>> 0;\n\t  validateNumber(offset, 'offset');\n\t  const first = this[offset];\n\t  const last = this[offset + 7];\n\t  if (first === undefined || last === undefined) {\n\t    boundsError(offset, this.length - 8);\n\t  }\n\n\t  const val = (first << 24) + // Overflow\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    this[++offset];\n\n\t  return (BigInt(val) << BigInt(32)) +\n\t    BigInt(this[++offset] * 2 ** 24 +\n\t    this[++offset] * 2 ** 16 +\n\t    this[++offset] * 2 ** 8 +\n\t    last)\n\t});\n\n\tBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, true, 23, 4)\n\t};\n\n\tBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 4, this.length);\n\t  return ieee754$1.read(this, offset, false, 23, 4)\n\t};\n\n\tBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, true, 52, 8)\n\t};\n\n\tBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkOffset(offset, 8, this.length);\n\t  return ieee754$1.read(this, offset, false, 52, 8)\n\t};\n\n\tfunction checkInt (buf, value, offset, ext, max, min) {\n\t  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n\t  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t}\n\n\tBuffer.prototype.writeUintLE =\n\tBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let mul = 1;\n\t  let i = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUintBE =\n\tBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  byteLength = byteLength >>> 0;\n\t  if (!noAssert) {\n\t    const maxBytes = Math.pow(2, 8 * byteLength) - 1;\n\t    checkInt(this, value, offset, byteLength, maxBytes, 0);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    this[offset + i] = (value / mul) & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeUint8 =\n\tBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeUint16LE =\n\tBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint16BE =\n\tBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeUint32LE =\n\tBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset + 3] = (value >>> 24);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeUint32BE =\n\tBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset++] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset++] = hi;\n\t  return offset\n\t}\n\n\tfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n\t  checkIntBI(value, min, max, buf, offset, 7);\n\n\t  let lo = Number(value & BigInt(0xffffffff));\n\t  buf[offset + 7] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 6] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 5] = lo;\n\t  lo = lo >> 8;\n\t  buf[offset + 4] = lo;\n\t  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));\n\t  buf[offset + 3] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 2] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset + 1] = hi;\n\t  hi = hi >> 8;\n\t  buf[offset] = hi;\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = 0;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset] = value & 0xFF;\n\t  while (++i < byteLength && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    const limit = Math.pow(2, (8 * byteLength) - 1);\n\n\t    checkInt(this, value, offset, byteLength, limit - 1, -limit);\n\t  }\n\n\t  let i = byteLength - 1;\n\t  let mul = 1;\n\t  let sub = 0;\n\t  this[offset + i] = value & 0xFF;\n\t  while (--i >= 0 && (mul *= 0x100)) {\n\t    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n\t      sub = 1;\n\t    }\n\t    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;\n\t  }\n\n\t  return offset + byteLength\n\t};\n\n\tBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n\t  if (value < 0) value = 0xff + value + 1;\n\t  this[offset] = (value & 0xff);\n\t  return offset + 1\n\t};\n\n\tBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\t  this[offset] = (value >>> 8);\n\t  this[offset + 1] = (value & 0xff);\n\t  return offset + 2\n\t};\n\n\tBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  this[offset] = (value & 0xff);\n\t  this[offset + 1] = (value >>> 8);\n\t  this[offset + 2] = (value >>> 16);\n\t  this[offset + 3] = (value >>> 24);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\t  if (value < 0) value = 0xffffffff + value + 1;\n\t  this[offset] = (value >>> 24);\n\t  this[offset + 1] = (value >>> 16);\n\t  this[offset + 2] = (value >>> 8);\n\t  this[offset + 3] = (value & 0xff);\n\t  return offset + 4\n\t};\n\n\tBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n\t  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n\t  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n\t});\n\n\tfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n\t  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n\t  if (offset < 0) throw new RangeError('Index out of range')\n\t}\n\n\tfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 4);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 23, 4);\n\t  return offset + 4\n\t}\n\n\tBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n\t  return writeFloat(this, value, offset, false, noAssert)\n\t};\n\n\tfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n\t  value = +value;\n\t  offset = offset >>> 0;\n\t  if (!noAssert) {\n\t    checkIEEE754(buf, value, offset, 8);\n\t  }\n\t  ieee754$1.write(buf, value, offset, littleEndian, 52, 8);\n\t  return offset + 8\n\t}\n\n\tBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, true, noAssert)\n\t};\n\n\tBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n\t  return writeDouble(this, value, offset, false, noAssert)\n\t};\n\n\t// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\tBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n\t  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n\t  if (!start) start = 0;\n\t  if (!end && end !== 0) end = this.length;\n\t  if (targetStart >= target.length) targetStart = target.length;\n\t  if (!targetStart) targetStart = 0;\n\t  if (end > 0 && end < start) end = start;\n\n\t  // Copy 0 bytes; we're done\n\t  if (end === start) return 0\n\t  if (target.length === 0 || this.length === 0) return 0\n\n\t  // Fatal error conditions\n\t  if (targetStart < 0) {\n\t    throw new RangeError('targetStart out of bounds')\n\t  }\n\t  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n\t  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n\t  // Are we oob?\n\t  if (end > this.length) end = this.length;\n\t  if (target.length - targetStart < end - start) {\n\t    end = target.length - targetStart + start;\n\t  }\n\n\t  const len = end - start;\n\n\t  if (this === target && typeof GlobalUint8Array.prototype.copyWithin === 'function') {\n\t    // Use built-in when available, missing from IE11\n\t    this.copyWithin(targetStart, start, end);\n\t  } else {\n\t    GlobalUint8Array.prototype.set.call(\n\t      target,\n\t      this.subarray(start, end),\n\t      targetStart\n\t    );\n\t  }\n\n\t  return len\n\t};\n\n\t// Usage:\n\t//    buffer.fill(number[, offset[, end]])\n\t//    buffer.fill(buffer[, offset[, end]])\n\t//    buffer.fill(string[, offset[, end]][, encoding])\n\tBuffer.prototype.fill = function fill (val, start, end, encoding) {\n\t  // Handle string cases:\n\t  if (typeof val === 'string') {\n\t    if (typeof start === 'string') {\n\t      encoding = start;\n\t      start = 0;\n\t      end = this.length;\n\t    } else if (typeof end === 'string') {\n\t      encoding = end;\n\t      end = this.length;\n\t    }\n\t    if (encoding !== undefined && typeof encoding !== 'string') {\n\t      throw new TypeError('encoding must be a string')\n\t    }\n\t    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n\t      throw new TypeError('Unknown encoding: ' + encoding)\n\t    }\n\t    if (val.length === 1) {\n\t      const code = val.charCodeAt(0);\n\t      if ((encoding === 'utf8' && code < 128) ||\n\t          encoding === 'latin1') {\n\t        // Fast path: If `val` fits into a single byte, use that numeric value.\n\t        val = code;\n\t      }\n\t    }\n\t  } else if (typeof val === 'number') {\n\t    val = val & 255;\n\t  } else if (typeof val === 'boolean') {\n\t    val = Number(val);\n\t  }\n\n\t  // Invalid ranges are not set to a default, so can range check early.\n\t  if (start < 0 || this.length < start || this.length < end) {\n\t    throw new RangeError('Out of range index')\n\t  }\n\n\t  if (end <= start) {\n\t    return this\n\t  }\n\n\t  start = start >>> 0;\n\t  end = end === undefined ? this.length : end >>> 0;\n\n\t  if (!val) val = 0;\n\n\t  let i;\n\t  if (typeof val === 'number') {\n\t    for (i = start; i < end; ++i) {\n\t      this[i] = val;\n\t    }\n\t  } else {\n\t    const bytes = Buffer.isBuffer(val)\n\t      ? val\n\t      : Buffer.from(val, encoding);\n\t    const len = bytes.length;\n\t    if (len === 0) {\n\t      throw new TypeError('The value \"' + val +\n\t        '\" is invalid for argument \"value\"')\n\t    }\n\t    for (i = 0; i < end - start; ++i) {\n\t      this[i + start] = bytes[i % len];\n\t    }\n\t  }\n\n\t  return this\n\t};\n\n\t// CUSTOM ERRORS\n\t// =============\n\n\t// Simplified versions from Node, changed for Buffer-only usage\n\tconst errors = {};\n\tfunction E (sym, getMessage, Base) {\n\t  errors[sym] = class NodeError extends Base {\n\t    constructor () {\n\t      super();\n\n\t      Object.defineProperty(this, 'message', {\n\t        value: getMessage.apply(this, arguments),\n\t        writable: true,\n\t        configurable: true\n\t      });\n\n\t      // Add the error code to the name to include it in the stack trace.\n\t      this.name = `${this.name} [${sym}]`;\n\t      // Access the stack to generate the error message including the error code\n\t      // from the name.\n\t      this.stack; // eslint-disable-line no-unused-expressions\n\t      // Reset the name to the actual name.\n\t      delete this.name;\n\t    }\n\n\t    get code () {\n\t      return sym\n\t    }\n\n\t    set code (value) {\n\t      Object.defineProperty(this, 'code', {\n\t        configurable: true,\n\t        enumerable: true,\n\t        value,\n\t        writable: true\n\t      });\n\t    }\n\n\t    toString () {\n\t      return `${this.name} [${sym}]: ${this.message}`\n\t    }\n\t  };\n\t}\n\n\tE('ERR_BUFFER_OUT_OF_BOUNDS',\n\t  function (name) {\n\t    if (name) {\n\t      return `${name} is outside of buffer bounds`\n\t    }\n\n\t    return 'Attempt to access memory outside buffer bounds'\n\t  }, RangeError);\n\tE('ERR_INVALID_ARG_TYPE',\n\t  function (name, actual) {\n\t    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n\t  }, TypeError);\n\tE('ERR_OUT_OF_RANGE',\n\t  function (str, range, input) {\n\t    let msg = `The value of \"${str}\" is out of range.`;\n\t    let received = input;\n\t    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n\t      received = addNumericalSeparator(String(input));\n\t    } else if (typeof input === 'bigint') {\n\t      received = String(input);\n\t      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n\t        received = addNumericalSeparator(received);\n\t      }\n\t      received += 'n';\n\t    }\n\t    msg += ` It must be ${range}. Received ${received}`;\n\t    return msg\n\t  }, RangeError);\n\n\tfunction addNumericalSeparator (val) {\n\t  let res = '';\n\t  let i = val.length;\n\t  const start = val[0] === '-' ? 1 : 0;\n\t  for (; i >= start + 4; i -= 3) {\n\t    res = `_${val.slice(i - 3, i)}${res}`;\n\t  }\n\t  return `${val.slice(0, i)}${res}`\n\t}\n\n\t// CHECK FUNCTIONS\n\t// ===============\n\n\tfunction checkBounds (buf, offset, byteLength) {\n\t  validateNumber(offset, 'offset');\n\t  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n\t    boundsError(offset, buf.length - (byteLength + 1));\n\t  }\n\t}\n\n\tfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n\t  if (value > max || value < min) {\n\t    const n = typeof min === 'bigint' ? 'n' : '';\n\t    let range;\n\t    if (byteLength > 3) {\n\t      if (min === 0 || min === BigInt(0)) {\n\t        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;\n\t      } else {\n\t        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n\t                `${(byteLength + 1) * 8 - 1}${n}`;\n\t      }\n\t    } else {\n\t      range = `>= ${min}${n} and <= ${max}${n}`;\n\t    }\n\t    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n\t  }\n\t  checkBounds(buf, offset, byteLength);\n\t}\n\n\tfunction validateNumber (value, name) {\n\t  if (typeof value !== 'number') {\n\t    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n\t  }\n\t}\n\n\tfunction boundsError (value, length, type) {\n\t  if (Math.floor(value) !== value) {\n\t    validateNumber(value, type);\n\t    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n\t  }\n\n\t  if (length < 0) {\n\t    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n\t  }\n\n\t  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n\t                                    `>= ${type ? 1 : 0} and <= ${length}`,\n\t                                    value)\n\t}\n\n\t// HELPER FUNCTIONS\n\t// ================\n\n\tconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;\n\n\tfunction base64clean (str) {\n\t  // Node takes equal signs as end of the Base64 encoding\n\t  str = str.split('=')[0];\n\t  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n\t  str = str.trim().replace(INVALID_BASE64_RE, '');\n\t  // Node converts strings with length < 2 to ''\n\t  if (str.length < 2) return ''\n\t  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\t  while (str.length % 4 !== 0) {\n\t    str = str + '=';\n\t  }\n\t  return str\n\t}\n\n\tfunction utf8ToBytes (string, units) {\n\t  units = units || Infinity;\n\t  let codePoint;\n\t  const length = string.length;\n\t  let leadSurrogate = null;\n\t  const bytes = [];\n\n\t  for (let i = 0; i < length; ++i) {\n\t    codePoint = string.charCodeAt(i);\n\n\t    // is surrogate component\n\t    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n\t      // last char was a lead\n\t      if (!leadSurrogate) {\n\t        // no lead yet\n\t        if (codePoint > 0xDBFF) {\n\t          // unexpected trail\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        } else if (i + 1 === length) {\n\t          // unpaired lead\n\t          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t          continue\n\t        }\n\n\t        // valid lead\n\t        leadSurrogate = codePoint;\n\n\t        continue\n\t      }\n\n\t      // 2 leads in a row\n\t      if (codePoint < 0xDC00) {\n\t        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t        leadSurrogate = codePoint;\n\t        continue\n\t      }\n\n\t      // valid surrogate pair\n\t      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n\t    } else if (leadSurrogate) {\n\t      // valid bmp char, but last char was a lead\n\t      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n\t    }\n\n\t    leadSurrogate = null;\n\n\t    // encode utf8\n\t    if (codePoint < 0x80) {\n\t      if ((units -= 1) < 0) break\n\t      bytes.push(codePoint);\n\t    } else if (codePoint < 0x800) {\n\t      if ((units -= 2) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x6 | 0xC0,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x10000) {\n\t      if ((units -= 3) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0xC | 0xE0,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else if (codePoint < 0x110000) {\n\t      if ((units -= 4) < 0) break\n\t      bytes.push(\n\t        codePoint >> 0x12 | 0xF0,\n\t        codePoint >> 0xC & 0x3F | 0x80,\n\t        codePoint >> 0x6 & 0x3F | 0x80,\n\t        codePoint & 0x3F | 0x80\n\t      );\n\t    } else {\n\t      throw new Error('Invalid code point')\n\t    }\n\t  }\n\n\t  return bytes\n\t}\n\n\tfunction asciiToBytes (str) {\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    // Node's code seems to be doing this and not & 0x7F..\n\t    byteArray.push(str.charCodeAt(i) & 0xFF);\n\t  }\n\t  return byteArray\n\t}\n\n\tfunction utf16leToBytes (str, units) {\n\t  let c, hi, lo;\n\t  const byteArray = [];\n\t  for (let i = 0; i < str.length; ++i) {\n\t    if ((units -= 2) < 0) break\n\n\t    c = str.charCodeAt(i);\n\t    hi = c >> 8;\n\t    lo = c % 256;\n\t    byteArray.push(lo);\n\t    byteArray.push(hi);\n\t  }\n\n\t  return byteArray\n\t}\n\n\tfunction base64ToBytes (str) {\n\t  return base64.toByteArray(base64clean(str))\n\t}\n\n\tfunction blitBuffer (src, dst, offset, length) {\n\t  let i;\n\t  for (i = 0; i < length; ++i) {\n\t    if ((i + offset >= dst.length) || (i >= src.length)) break\n\t    dst[i + offset] = src[i];\n\t  }\n\t  return i\n\t}\n\n\t// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n\t// the `instanceof` check but they should be treated as of that type.\n\t// See: https://github.com/feross/buffer/issues/166\n\tfunction isInstance (obj, type) {\n\t  return obj instanceof type ||\n\t    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n\t      obj.constructor.name === type.name)\n\t}\n\tfunction numberIsNaN (obj) {\n\t  // For IE11 support\n\t  return obj !== obj // eslint-disable-line no-self-compare\n\t}\n\n\t// Create lookup table for `toString('hex')`\n\t// See: https://github.com/feross/buffer/issues/219\n\tconst hexSliceLookupTable = (function () {\n\t  const alphabet = '0123456789abcdef';\n\t  const table = new Array(256);\n\t  for (let i = 0; i < 16; ++i) {\n\t    const i16 = i * 16;\n\t    for (let j = 0; j < 16; ++j) {\n\t      table[i16 + j] = alphabet[i] + alphabet[j];\n\t    }\n\t  }\n\t  return table\n\t})();\n\n\t// Return not function with Error if BigInt not supported\n\tfunction defineBigIntMethod (fn) {\n\t  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n\t}\n\n\tfunction BufferBigIntNotDefined () {\n\t  throw new Error('BigInt not supported')\n\t} \n} (buffer));\n\nconst Buffer = buffer.Buffer;\n\nconst Blob = buffer.Blob;\nconst BlobOptions = buffer.BlobOptions;\nconst Buffer$1 = buffer.Buffer;\nconst File = buffer.File;\nconst FileOptions = buffer.FileOptions;\nconst INSPECT_MAX_BYTES = buffer.INSPECT_MAX_BYTES;\nconst SlowBuffer = buffer.SlowBuffer;\nconst TranscodeEncoding = buffer.TranscodeEncoding;\nconst atob = buffer.atob;\nconst btoa = buffer.btoa;\nconst constants = buffer.constants;\nconst isAscii = buffer.isAscii;\nconst isUtf8 = buffer.isUtf8;\nconst kMaxLength = buffer.kMaxLength;\nconst kStringMaxLength = buffer.kStringMaxLength;\nconst resolveObjectURL = buffer.resolveObjectURL;\nconst transcode = buffer.transcode;\nexport { Blob, BlobOptions, Buffer$1 as Buffer, File, FileOptions, INSPECT_MAX_BYTES, SlowBuffer, TranscodeEncoding, atob, btoa, constants, Buffer as default, isAscii, isUtf8, kMaxLength, kStringMaxLength, resolveObjectURL, transcode };\n//# sourceMappingURL=index.js.map\n","/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.7';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = typeof btoa === 'function' ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 §5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 §5.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, bin = '', r1, r2;\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        bin += r1 === 64 ? _fromCC(u24 >> 16 & 255)\n            : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255)\n                : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n    }\n    return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = typeof atob === 'function' ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n","import type { ISSoTokensParams, Payload } from 'interfaces/loginInfo'\nimport { Env, LoginType } from 'interfaces/loginInfo'\nimport { XterioAuthInfo, XterioAuthTokensManager, XterioAuthUserInfoManager } from './XterAuthInfo'\nimport { XterEventEmiter } from './XterEventEmitter'\nimport { XterioAuthService } from './AuthService'\nimport { log, XTERIO_CONST, XTERIO_EVENTS } from 'utils'\nimport { XterAuthModal } from './XterAuthModal/XterAuthModal'\nimport qs from 'query-string'\nimport { XterioCache } from './XterCache'\nimport { decode } from 'js-base64'\n\nconst EnvBaseURLConst: Record<Env, string> = {\n  [Env.Dev]: 'https://api.playvrs.net',\n  [Env.Staging]: 'https://api.xterio.net',\n  [Env.Production]: 'https://api.xterio.net'\n}\n\nexport class XterioAuth {\n  static get isLogin() {\n    return !!XterioAuthUserInfoManager.userInfo?.uuid\n  }\n  static get userinfo() {\n    return XterioAuthUserInfoManager.userInfo\n  }\n  private static get isVaildIdToken() {\n    const id_token = XterioAuthTokensManager.idToken\n\n    if (!id_token) {\n      log('invalid token 1')\n      return false\n    }\n    const payload = id_token.split('.')?.[1]\n    if (!payload) {\n      log('invalid token 2')\n      return false\n    }\n\n    try {\n      const { aud, exp = 0, sub } = JSON.parse(decode(payload)) as Payload\n      const isExpire = !aud || Date.now() > (exp - 60) * 1000\n      return !isExpire\n    } catch (error) {\n      log('invalid token 3', error)\n      return false\n    }\n  }\n\n  private static async checkToken(_flag: string = 'init') {\n    const _tokens = XterioCache.tokens\n    if (_tokens) {\n      XterioAuthTokensManager.setTokens(_tokens)\n    }\n    const id_token = XterioAuthTokensManager.idToken\n    const refresh_token = XterioAuthTokensManager.refreshToken\n    if (!id_token && refresh_token) {\n      //req tokens by refresh\n      const res = await XterioAuthService.refreshTokenService(refresh_token)\n      XterioAuthTokensManager.setTokens({ refresh_token, id_token: res.id_token, access_token: res.access_token })\n    }\n\n    const isvalid = XterioAuth.isVaildIdToken\n    log('check the tokens valid status:', isvalid)\n    if (!isvalid) {\n      this.clearData()\n    } else if (_flag === 'init') {\n      //get userinfo\n      await XterioAuthService.getUserInfo()\n    }\n    return XterioAuthTokensManager.idToken || ''\n  }\n\n  private static async checkCode() {\n    const _type = XterioCache.loginType\n    log('check the authorize status', _type)\n\n    if (_type !== LoginType.Default && _type !== LoginType.Email) return\n\n    const uri = XterioAuthInfo.config?.redirect_uri\n    if (!uri || !location.href.startsWith(uri)) {\n      log('not check, different redirect_uri')\n      return\n    }\n\n    const queryParams = qs.parseUrl(location.href, { types: { code: 'string' } })\n    const code = queryParams.query?.code\n    if (!code) {\n      throw new Error('no authorize')\n    }\n    if (uri) {\n      history.pushState(null, '', uri)\n    }\n    log('going to login ...')\n    const res = await XterioAuthService.login(code as string)\n    if (res?.uuid) {\n      XterioCache.delete(XTERIO_CONST.LOGIN_TYPE)\n    }\n  }\n\n  static async getIdToken() {\n    return await this.checkToken('getIdToken')\n  }\n\n  static async init(config: Partial<ISSoTokensParams>, env?: Env) {\n    const {\n      app_id = '',\n      client_id = '',\n      client_secret = '',\n      redirect_uri = '',\n      mode = 'default',\n      logout = '1'\n    } = config\n    const _env = env ?? Env.Dev\n    const _baseURL = EnvBaseURLConst[_env]\n    const _config: ISSoTokensParams = {\n      app_id,\n      client_id,\n      client_secret,\n      redirect_uri,\n      response_type: 'code',\n      scope: 'all',\n      mode,\n      grant_type: 'authorization_code',\n      logout\n    }\n    XterioAuthInfo.app_id = app_id\n    XterioAuthInfo.client_id = client_id\n    XterioAuthInfo.env = _env\n    XterioAuthInfo.baseURL = _baseURL\n    const { response_type, scope } = _config\n    XterioAuthInfo.authorizeUrl =\n      _baseURL +\n      `/account/v1/oauth2/authorize?` +\n      qs.stringify({ client_id, redirect_uri, response_type, scope, mode, logout })\n    XterioAuthInfo.config = _config\n\n    XterEventEmiter.clear()\n\n    // init XterAuthLoginModal\n    // must init before async function\n    XterAuthModal.init(_baseURL)\n    log(XterAuthModal.instance)\n\n    await this.checkToken()\n    window.addEventListener('load', async (event: Event) => {\n      await this.checkCode()\n    })\n  }\n  private static clearData() {\n    XterioCache.deleteTokens()\n    XterioCache.deleteUserInfo()\n    XterioAuthTokensManager.removeTokens()\n    XterioAuthUserInfoManager.removeUserInfo()\n  }\n  static logout() {\n    log('logout success')\n    this.clearData()\n    XterAuthModal?.instance?.store?.logout()\n  }\n  static async login(mode?: LoginType) {\n    if (!XterioAuthInfo.config) {\n      log('xterio auth sdk initial failed')\n      return\n    }\n    if (mode && mode !== LoginType.Mini) {\n      XterioAuthInfo.config = { ...XterioAuthInfo.config, mode }\n      const { response_type, scope, logout, client_id, redirect_uri } = XterioAuthInfo.config\n      XterioAuthInfo.authorizeUrl =\n        XterioAuthInfo.baseURL +\n        `/account/v1/oauth2/authorize?` +\n        qs.stringify({ client_id, redirect_uri, response_type, scope, mode, logout })\n    }\n\n    if (XterioAuth.isLogin) {\n      //logined, callback the account info\n      log('already logined.')\n      XterEventEmiter.emit(XTERIO_EVENTS.ACCOUNT, XterioAuthUserInfoManager.userInfo)\n      return\n    }\n    if (XterioAuth.isVaildIdToken) {\n      //idtoken not expired\n      log('get userinfo')\n      return XterioAuthService.getUserInfo()\n    }\n\n    if (mode === LoginType.Mini) {\n      XterAuthModal.instance.open()\n      return\n    }\n\n    XterioCache.loginType = mode || LoginType.Default\n\n    //go to authorize\n    log('going to authorize ...')\n    location.href = XterioAuthInfo.authorizeUrl\n  }\n}\n","import { IUserInfo } from 'interfaces/loginInfo'\nimport { XterAuthModal } from './XterAuthModal'\n\nexport const useXterLoginModal = ({\n  onLoginStateChange\n}: {\n  onLoginStateChange: (isLogin: boolean, userInfo: IUserInfo | null | undefined) => void\n}) => {\n  // modal\n  const modal = XterAuthModal.instance\n\n  // initial user info\n\n  function open() {\n    modal.open()\n  }\n\n  function logout() {\n    modal.store.logout()\n  }\n\n  modal.store.subscribe(() => {\n    onLoginStateChange?.(modal.store.userState.isLogin, modal.store.userState.userInfo)\n  })\n\n  return { open, logout }\n}\n"],"names":["Env","LoginType","token","singleMatcher","multiMatcher","decodeComponents","components","split","e","left","right","decode","input","tokens","i","customDecodeURIComponent","replaceMap","match","result","entries","key","decodeUriComponent","encodedURI","includeKeys","object","predicate","descriptor","value","splitOnFirst","string","separator","separatorIndex","isNullOrUndefined","strictUriEncode","x","encodeFragmentIdentifier","encoderForArrayFormat","options","index","encode","keyValueSeparator","parserForArrayFormat","accumulator","isArray","isEncodedArray","newValue","item","arrayValue","validateArrayFormatSeparator","decodeComponent","keysSorter","a","b","removeHash","hashStart","getHash","url","hash","parseValue","type","extract","queryStart","parse","query","__spreadValues","formatter","returnValue","parameter","parameter_","key2","value2","stringify","shouldFilter","objectCopy","keys","parseUrl","url_","_b","_a","stringifyUrl","queryFromUrl","queryString","urlObjectForFragmentEncode","pick","filter","fragmentIdentifier","exclude","exclusionFilter","version","log","args","getPackageVersion","randomNonceStr","c","n","XTERIO_EVENTS","XTERIO_CONST","assign","target","source","defaultConverter","init","converter","defaultAttributes","set","name","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","api","XterioCache","_type","access_token","id_token","refresh_token","Cookies","err","_XterioAuthInfo","XterioAuthInfo","XterioAuthTokensManager","XterioAuthUserInfoManager","resolveResp","resp","__async","res","fullUrl","apiPath","apiBase","fetcher","_0","method","path","params","headers","data","Authorization","queryParam","qs","requestOptions","needStringify","req","getFetcher","postFetcher","deleteFetcher","putFetcher","_XterEventEmiter","p","event","listener","l","callback","_event","_key","_callback","info","XterEventEmiter","XterioAuthService","code","client_id","client_secret","redirect_uri","grant_type","param","profileInfo","wallet","__spreadProps","username","password","subscribe","email","iconLogo","Logo","logo","iconContentMap","generateSVGIcon","iconName","size","color","iconContainer","Input","props","id","label","wrapperClassNames","showClearIcon","showPasswordToggleIcon","onChange","onBlur","onFocus","containerDiv","className","labelElement","inputInnerDiv","inputElement","clearIcon","toggleIcon","onClick","onCountdownEnd","addBtn","countdown","timer","_val","errorTipElement","wrapper","message","errorTip","Loader","Button","text","disabled","button","loader","isDisabled","isLoading","EAuthState","BaseModalState","modal","extraData","XterAuthModalForm","formItem","find","_c","isEmail","isRightPassword","validateEmail","inputStr","validatePassword","validatePasswordMatch","confirmPassword","XterModalFormItem","formItemElement","getValue","error","XterAuthModalSignIn","_container","emailInput","pwdInput","tips","loginButton","signUpLink","forgotPasswordLink","userName","err_code","_d","_e","_f","_g","_h","_i","container","element","PrivacyURL","TermsURL","Checkbox","XterAuthModalSignUp","toSignInTips","signUpButton","tipItemTerms","checkbox","checked","checkBoxNode","tipSubscribe","checkbox2","checkBoxNode2","formItem2","confirmPwdInput","signInLink","termsChecked","subscribeChecked","XterAuthModalForgetPwd","codeInput","continueButton","ModalObservable","XterAuthModalTokenManager","accessToken","refreshToken","idToken","XterAuthModalStore","_userState","prop","profile","XterioAuth","XterAuthModalSignUpCode","codelInput","iconSuccess","successIcon","XterAuthModaPwdSuccess","confirmButton","XterAuthModal","apiUrl","modalOverlay","modalContainer","iconClose","titleContainer","title","subTitle","extraTitle","subTitleContainer","thirdTitleContainer","state","buffer","base64Js","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","len","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","extraBytes","maxChunkLength","len2","ieee754","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","s","rt","exports","base64","ieee754$1","customInspectSymbol","Buffer","SlowBuffer","K_MAX_LENGTH","GlobalUint8Array","GlobalArrayBuffer","GlobalSharedArrayBuffer","typedArraySupport","proto","createBuffer","length","buf","arg","encodingOrOffset","allocUnsafe","from","fromString","fromArrayView","isInstance","fromArrayBuffer","valueOf","fromObject","assertSize","alloc","fill","encoding","actual","fromArrayLike","array","arrayView","copy","byteOffset","obj","numberIsNaN","y","list","pos","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","str","max","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","arrayIndexOf","indexSize","arrLength","valLength","read","foundIndex","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","base64Write","ucs2Write","utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","ret","out","hexSliceLookupTable","bytes","newBuf","checkOffset","ext","noAssert","mul","defineBigIntMethod","validateNumber","first","last","boundsError","lo","__pow","hi","checkInt","min","maxBytes","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","limit","sub","checkIEEE754","writeFloat","littleEndian","writeDouble","targetStart","errors","E","sym","getMessage","Base","range","msg","received","addNumericalSeparator","checkBounds","INVALID_BASE64_RE","base64clean","units","leadSurrogate","byteArray","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","_hasBuffer","_TD","b64chs","b64tab","tab","b64re","_fromCC","_U8Afrom","it","_tidyB64","re_btou","cb_btou","cccc","cp","btou","_atob","asc","u24","bin","r1","r2","_toUint8Array","_decode","_unURI","m0","EnvBaseURLConst","payload","aud","exp","_flag","_tokens","isvalid","uri","config","env","app_id","mode","logout","_env","_baseURL","_config","response_type","scope","useXterLoginModal","onLoginStateChange","open"],"mappings":"k7BA0DY,IAAAA,GAAAA,IACVA,EAAA,IAAM,MACNA,EAAA,QAAU,UACVA,EAAA,WAAa,aAHHA,IAAAA,GAAA,CAAA,CAAA,EAcAC,GAAAA,IACVA,EAAA,QAAU,UACVA,EAAA,MAAQ,QACRA,EAAA,KAAO,OAHGA,IAAAA,GAAA,CAAA,CAAA,ECxEZ,MAAMC,GAAQ,eACRC,GAAgB,IAAI,OAAO,IAAMD,GAAQ,aAAc,IAAI,EAC3DE,GAAe,IAAI,OAAO,IAAMF,GAAQ,KAAM,IAAI,EAExD,SAASG,GAAiBC,EAAYC,EAAO,CAC5C,GAAI,CAEH,MAAO,CAAC,mBAAmBD,EAAW,KAAK,EAAE,CAAC,CAAC,CACjD,OAASE,EAAA,CAEP,CAED,GAAIF,EAAW,SAAW,EACzB,OAAOA,EAGRC,EAAQA,GAAS,EAGjB,MAAME,EAAOH,EAAW,MAAM,EAAGC,CAAK,EAChCG,EAAQJ,EAAW,MAAMC,CAAK,EAEpC,OAAO,MAAM,UAAU,OAAO,KAAK,CAAA,EAAIF,GAAiBI,CAAI,EAAGJ,GAAiBK,CAAK,CAAC,CACvF,CAEA,SAASC,GAAOC,EAAO,CACtB,GAAI,CACH,OAAO,mBAAmBA,CAAK,CACjC,OAASJ,EAAA,CACP,IAAIK,EAASD,EAAM,MAAMT,EAAa,GAAK,CAAA,EAE3C,QAASW,EAAI,EAAGA,EAAID,EAAO,OAAQC,IAClCF,EAAQP,GAAiBQ,EAAQC,CAAC,EAAE,KAAK,EAAE,EAE3CD,EAASD,EAAM,MAAMT,EAAa,GAAK,CAAA,EAGxC,OAAOS,CACP,CACF,CAEA,SAASG,EAAyBH,EAAO,CAExC,MAAMI,EAAa,CAClB,SAAU,KACV,SAAU,IACZ,EAEC,IAAIC,EAAQb,GAAa,KAAKQ,CAAK,EACnC,KAAOK,GAAO,CACb,GAAI,CAEHD,EAAWC,EAAM,CAAC,CAAC,EAAI,mBAAmBA,EAAM,CAAC,CAAC,CACrD,OAAUT,EAAA,CACP,MAAMU,EAASP,GAAOM,EAAM,CAAC,CAAC,EAE1BC,IAAWD,EAAM,CAAC,IACrBD,EAAWC,EAAM,CAAC,CAAC,EAAIC,EAExB,CAEDD,EAAQb,GAAa,KAAKQ,CAAK,CAC/B,CAGDI,EAAW,KAAK,EAAI,IAEpB,MAAMG,EAAU,OAAO,KAAKH,CAAU,EAEtC,UAAWI,KAAOD,EAEjBP,EAAQA,EAAM,QAAQ,IAAI,OAAOQ,EAAK,GAAG,EAAGJ,EAAWI,CAAG,CAAC,EAG5D,OAAOR,CACR,CAEe,SAASS,GAAmBC,EAAY,CACtD,GAAI,OAAOA,GAAe,SACzB,MAAM,IAAI,UAAU,sDAAwD,OAAOA,EAAa,GAAG,EAGpG,GAAI,CAEH,OAAO,mBAAmBA,CAAU,CACtC,OAASd,EAAA,CAEP,OAAOO,EAAyBO,CAAU,CAC1C,CACF,CCzFO,SAASC,GAAYC,EAAQC,EAAW,CAC9C,MAAMP,EAAS,CAAA,EAEf,GAAI,MAAM,QAAQO,CAAS,EAC1B,UAAWL,KAAOK,EAAW,CAC5B,MAAMC,EAAa,OAAO,yBAAyBF,EAAQJ,CAAG,EAC1DM,GAAA,MAAAA,EAAY,YACf,OAAO,eAAeR,EAAQE,EAAKM,CAAU,CAE9C,KAGD,WAAWN,KAAO,QAAQ,QAAQI,CAAM,EAAG,CAC1C,MAAME,EAAa,OAAO,yBAAyBF,EAAQJ,CAAG,EAC9D,GAAIM,EAAW,WAAY,CAC1B,MAAMC,EAAQH,EAAOJ,CAAG,EACpBK,EAAUL,EAAKO,EAAOH,CAAM,GAC/B,OAAO,eAAeN,EAAQE,EAAKM,CAAU,CAE9C,CACD,CAGF,OAAOR,CACR,CCxBe,SAASU,GAAaC,EAAQC,EAAW,CACvD,GAAI,EAAE,OAAOD,GAAW,UAAY,OAAOC,GAAc,UACxD,MAAM,IAAI,UAAU,+CAA+C,EAGpE,GAAID,IAAW,IAAMC,IAAc,GAClC,MAAO,GAGR,MAAMC,EAAiBF,EAAO,QAAQC,CAAS,EAE/C,OAAIC,IAAmB,GACf,GAGD,CACNF,EAAO,MAAM,EAAGE,CAAc,EAC9BF,EAAO,MAAME,EAAiBD,EAAU,MAAM,CAChD,CACA,CCfA,MAAME,GAAoBL,GAASA,GAAU,KAGvCM,GAAkBJ,GAAU,mBAAmBA,CAAM,EAAE,WAAW,WAAYK,GAAK,IAAIA,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAW,CAAE,EAAE,EAEnIC,GAA2B,OAAO,0BAA0B,EAElE,SAASC,GAAsBC,EAAS,CACvC,OAAQA,EAAQ,YAAW,CAC1B,IAAK,QACJ,OAAOjB,GAAO,CAACF,EAAQS,IAAU,CAChC,MAAMW,EAAQpB,EAAO,OAErB,OACCS,IAAU,QACNU,EAAQ,UAAYV,IAAU,MAC9BU,EAAQ,iBAAmBV,IAAU,GAElCT,EAGJS,IAAU,KACN,CACN,GAAGT,EAAQ,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,IAAKC,EAAO,GAAG,EAAE,KAAK,EAAE,CAChE,EAGW,CACN,GAAGpB,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,IAAKE,EAAOD,EAAOD,CAAO,EAAG,KAAME,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAK,EAAE,CAC9F,CACA,EAGE,IAAK,UACJ,OAAOjB,GAAO,CAACF,EAAQS,IAErBA,IAAU,QACNU,EAAQ,UAAYV,IAAU,MAC9BU,EAAQ,iBAAmBV,IAAU,GAElCT,EAGJS,IAAU,KACN,CACN,GAAGT,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,IAAI,EAAE,KAAK,EAAE,CAC1C,EAGW,CACN,GAAGnB,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,MAAOE,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAK,EAAE,CAClE,EAIE,IAAK,uBACJ,OAAOjB,GAAO,CAACF,EAAQS,IAErBA,IAAU,QACNU,EAAQ,UAAYV,IAAU,MAC9BU,EAAQ,iBAAmBV,IAAU,GAElCT,EAGJS,IAAU,KACN,CACN,GAAGT,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,QAAQ,EAAE,KAAK,EAAE,CAC9C,EAGW,CACN,GAAGnB,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,SAAUE,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAK,EAAE,CACrE,EAIE,IAAK,QACL,IAAK,YACL,IAAK,oBAAqB,CACzB,MAAMG,EAAoBH,EAAQ,cAAgB,oBAC/C,MACA,IAEH,OAAOjB,GAAO,CAACF,EAAQS,IAErBA,IAAU,QACNU,EAAQ,UAAYV,IAAU,MAC9BU,EAAQ,iBAAmBV,IAAU,GAElCT,GAIRS,EAAQA,IAAU,KAAO,GAAKA,EAE1BT,EAAO,SAAW,EACd,CAAC,CAACqB,EAAOnB,EAAKiB,CAAO,EAAGG,EAAmBD,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAG5E,CAAC,CAACnB,EAAQqB,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAKA,EAAQ,oBAAoB,CAAC,EAE5E,CAED,QACC,OAAOjB,GAAO,CAACF,EAAQS,IAErBA,IAAU,QACNU,EAAQ,UAAYV,IAAU,MAC9BU,EAAQ,iBAAmBV,IAAU,GAElCT,EAGJS,IAAU,KACN,CACN,GAAGT,EACHqB,EAAOnB,EAAKiB,CAAO,CACzB,EAGW,CACN,GAAGnB,EACH,CAACqB,EAAOnB,EAAKiB,CAAO,EAAG,IAAKE,EAAOZ,EAAOU,CAAO,CAAC,EAAE,KAAK,EAAE,CAChE,CAGE,CACF,CAEA,SAASI,GAAqBJ,EAAS,CACtC,IAAInB,EAEJ,OAAQmB,EAAQ,YAAW,CAC1B,IAAK,QACJ,MAAO,CAACjB,EAAKO,EAAOe,IAAgB,CAKnC,GAJAxB,EAAS,YAAY,KAAKE,CAAG,EAE7BA,EAAMA,EAAI,QAAQ,UAAW,EAAE,EAE3B,CAACF,EAAQ,CACZwB,EAAYtB,CAAG,EAAIO,EACnB,MACA,CAEGe,EAAYtB,CAAG,IAAM,SACxBsB,EAAYtB,CAAG,EAAI,IAGpBsB,EAAYtB,CAAG,EAAEF,EAAO,CAAC,CAAC,EAAIS,CAClC,EAGE,IAAK,UACJ,MAAO,CAACP,EAAKO,EAAOe,IAAgB,CAInC,GAHAxB,EAAS,SAAS,KAAKE,CAAG,EAC1BA,EAAMA,EAAI,QAAQ,OAAQ,EAAE,EAExB,CAACF,EAAQ,CACZwB,EAAYtB,CAAG,EAAIO,EACnB,MACA,CAED,GAAIe,EAAYtB,CAAG,IAAM,OAAW,CACnCsB,EAAYtB,CAAG,EAAI,CAACO,CAAK,EACzB,MACA,CAEDe,EAAYtB,CAAG,EAAI,CAAC,GAAGsB,EAAYtB,CAAG,EAAGO,CAAK,CAClD,EAGE,IAAK,uBACJ,MAAO,CAACP,EAAKO,EAAOe,IAAgB,CAInC,GAHAxB,EAAS,WAAW,KAAKE,CAAG,EAC5BA,EAAMA,EAAI,QAAQ,SAAU,EAAE,EAE1B,CAACF,EAAQ,CACZwB,EAAYtB,CAAG,EAAIO,EACnB,MACA,CAED,GAAIe,EAAYtB,CAAG,IAAM,OAAW,CACnCsB,EAAYtB,CAAG,EAAI,CAACO,CAAK,EACzB,MACA,CAEDe,EAAYtB,CAAG,EAAI,CAAC,GAAGsB,EAAYtB,CAAG,EAAGO,CAAK,CAClD,EAGE,IAAK,QACL,IAAK,YACJ,MAAO,CAACP,EAAKO,EAAOe,IAAgB,CACnC,MAAMC,EAAU,OAAOhB,GAAU,UAAYA,EAAM,SAASU,EAAQ,oBAAoB,EAClFO,EAAkB,OAAOjB,GAAU,UAAY,CAACgB,GAAWhC,GAAOgB,EAAOU,CAAO,EAAE,SAASA,EAAQ,oBAAoB,EAC7HV,EAAQiB,EAAiBjC,GAAOgB,EAAOU,CAAO,EAAIV,EAClD,MAAMkB,EAAWF,GAAWC,EAAiBjB,EAAM,MAAMU,EAAQ,oBAAoB,EAAE,IAAIS,GAAQnC,GAAOmC,EAAMT,CAAO,CAAC,EAAKV,IAAU,KAAOA,EAAQhB,GAAOgB,EAAOU,CAAO,EAC3KK,EAAYtB,CAAG,EAAIyB,CACvB,EAGE,IAAK,oBACJ,MAAO,CAACzB,EAAKO,EAAOe,IAAgB,CACnC,MAAMC,EAAU,SAAS,KAAKvB,CAAG,EAGjC,GAFAA,EAAMA,EAAI,QAAQ,OAAQ,EAAE,EAExB,CAACuB,EAAS,CACbD,EAAYtB,CAAG,EAAIO,GAAQhB,GAAOgB,EAAOU,CAAO,EAChD,MACA,CAED,MAAMU,EAAapB,IAAU,KAC1B,CAAE,EACFA,EAAM,MAAMU,EAAQ,oBAAoB,EAAE,IAAIS,GAAQnC,GAAOmC,EAAMT,CAAO,CAAC,EAE9E,GAAIK,EAAYtB,CAAG,IAAM,OAAW,CACnCsB,EAAYtB,CAAG,EAAI2B,EACnB,MACA,CAEDL,EAAYtB,CAAG,EAAI,CAAC,GAAGsB,EAAYtB,CAAG,EAAG,GAAG2B,CAAU,CAC1D,EAGE,QACC,MAAO,CAAC3B,EAAKO,EAAOe,IAAgB,CACnC,GAAIA,EAAYtB,CAAG,IAAM,OAAW,CACnCsB,EAAYtB,CAAG,EAAIO,EACnB,MACA,CAEDe,EAAYtB,CAAG,EAAI,CAAC,GAAG,CAACsB,EAAYtB,CAAG,CAAC,EAAE,OAAQO,CAAK,CAC3D,CAEE,CACF,CAEA,SAASqB,GAA6BrB,EAAO,CAC5C,GAAI,OAAOA,GAAU,UAAYA,EAAM,SAAW,EACjD,MAAM,IAAI,UAAU,sDAAsD,CAE5E,CAEA,SAASY,EAAOZ,EAAOU,EAAS,CAC/B,OAAIA,EAAQ,OACJA,EAAQ,OAASJ,GAAgBN,CAAK,EAAI,mBAAmBA,CAAK,EAGnEA,CACR,CAEA,SAAShB,GAAOgB,EAAOU,EAAS,CAC/B,OAAIA,EAAQ,OACJY,GAAgBtB,CAAK,EAGtBA,CACR,CAEA,SAASuB,GAAWtC,EAAO,CAC1B,OAAI,MAAM,QAAQA,CAAK,EACfA,EAAM,OAGV,OAAOA,GAAU,SACbsC,GAAW,OAAO,KAAKtC,CAAK,CAAC,EAClC,KAAK,CAACuC,EAAGC,IAAM,OAAOD,CAAC,EAAI,OAAOC,CAAC,CAAC,EACpC,IAAIhC,GAAOR,EAAMQ,CAAG,CAAC,EAGjBR,CACR,CAEA,SAASyC,GAAWzC,EAAO,CAC1B,MAAM0C,EAAY1C,EAAM,QAAQ,GAAG,EACnC,OAAI0C,IAAc,KACjB1C,EAAQA,EAAM,MAAM,EAAG0C,CAAS,GAG1B1C,CACR,CAEA,SAAS2C,GAAQC,EAAK,CACrB,IAAIC,EAAO,GACX,MAAMH,EAAYE,EAAI,QAAQ,GAAG,EACjC,OAAIF,IAAc,KACjBG,EAAOD,EAAI,MAAMF,CAAS,GAGpBG,CACR,CAEA,SAASC,GAAW/B,EAAOU,EAASsB,EAAM,CACzC,OAAIA,IAAS,UAAY,OAAOhC,GAAU,SAClCA,EAGJ,OAAOgC,GAAS,YAAc,OAAOhC,GAAU,SAC3CgC,EAAKhC,CAAK,EAGdU,EAAQ,eAAiBV,IAAU,OAASA,EAAM,YAAa,IAAK,QAAUA,EAAM,YAAa,IAAK,SAClGA,EAAM,YAAa,IAAK,OAG5BgC,IAAS,UAAY,CAAC,OAAO,MAAM,OAAOhC,CAAK,CAAC,GAAM,OAAOA,GAAU,UAAYA,EAAM,KAAM,IAAK,IAIpGU,EAAQ,cAAgB,CAAC,OAAO,MAAM,OAAOV,CAAK,CAAC,GAAM,OAAOA,GAAU,UAAYA,EAAM,KAAM,IAAK,GACnG,OAAOA,CAAK,EAGbA,CACR,CAEO,SAASiC,GAAQhD,EAAO,CAC9BA,EAAQyC,GAAWzC,CAAK,EACxB,MAAMiD,EAAajD,EAAM,QAAQ,GAAG,EACpC,OAAIiD,IAAe,GACX,GAGDjD,EAAM,MAAMiD,EAAa,CAAC,CAClC,CAEO,SAASC,GAAMC,EAAO1B,EAAS,CACrCA,EAAU2B,EAAA,CACT,OAAQ,GACR,KAAM,GACN,YAAa,OACb,qBAAsB,IACtB,aAAc,GACd,cAAe,GACf,MAAO,OAAO,OAAO,IAAI,GACtB3B,GAGJW,GAA6BX,EAAQ,oBAAoB,EAEzD,MAAM4B,EAAYxB,GAAqBJ,CAAO,EAGxC6B,EAAc,OAAO,OAAO,IAAI,EAQtC,GANI,OAAOH,GAAU,WAIrBA,EAAQA,EAAM,KAAI,EAAG,QAAQ,SAAU,EAAE,EAErC,CAACA,GACJ,OAAOG,EAGR,UAAWC,KAAaJ,EAAM,MAAM,GAAG,EAAG,CACzC,GAAII,IAAc,GACjB,SAGD,MAAMC,EAAa/B,EAAQ,OAAS8B,EAAU,WAAW,IAAK,GAAG,EAAIA,EAErE,GAAI,CAAC/C,EAAKO,CAAK,EAAIC,GAAawC,EAAY,GAAG,EAE3ChD,IAAQ,SACXA,EAAMgD,GAKPzC,EAAQA,IAAU,OAAY,KAAQ,CAAC,QAAS,YAAa,mBAAmB,EAAE,SAASU,EAAQ,WAAW,EAAIV,EAAQhB,GAAOgB,EAAOU,CAAO,EAC/I4B,EAAUtD,GAAOS,EAAKiB,CAAO,EAAGV,EAAOuC,CAAW,CAClD,CAED,SAAW,CAAC9C,EAAKO,CAAK,IAAK,OAAO,QAAQuC,CAAW,EACpD,GAAI,OAAOvC,GAAU,UAAYA,IAAU,MAAQU,EAAQ,MAAMjB,CAAG,IAAM,SACzE,SAAW,CAACiD,EAAMC,CAAM,IAAK,OAAO,QAAQ3C,CAAK,EAAG,CACnD,MAAMgC,EAAOtB,EAAQ,MAAMjB,CAAG,EAAIiB,EAAQ,MAAMjB,CAAG,EAAE,QAAQ,KAAM,EAAE,EAAI,OACzEO,EAAM0C,CAAI,EAAIX,GAAWY,EAAQjC,EAASsB,CAAI,CAC9C,MACS,OAAOhC,GAAU,UAAYA,IAAU,MAAQU,EAAQ,MAAMjB,CAAG,IAAM,SAChF8C,EAAY9C,CAAG,EAAI,OAAO,OAAOO,CAAK,EAAE,KAAKU,EAAQ,oBAAoB,EAEzE6B,EAAY9C,CAAG,EAAIsC,GAAW/B,EAAOU,EAASA,EAAQ,MAAMjB,CAAG,CAAC,EAIlE,OAAIiB,EAAQ,OAAS,GACb6B,GAKA7B,EAAQ,OAAS,GAAO,OAAO,KAAK6B,CAAW,EAAE,OAAS,OAAO,KAAKA,CAAW,EAAE,KAAK7B,EAAQ,IAAI,GAAG,OAAO,CAACnB,EAAQE,IAAQ,CACtI,MAAMO,EAAQuC,EAAY9C,CAAG,EAC7B,OAAAF,EAAOE,CAAG,EAAYO,GAAU,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAK,EAAIuB,GAAWvB,CAAK,EAAIA,EAClGT,CACP,EAAE,OAAO,OAAO,IAAI,CAAC,CACvB,CAEO,SAASqD,GAAU/C,EAAQa,EAAS,CAC1C,GAAI,CAACb,EACJ,MAAO,GAGRa,EAAU2B,EAAA,CACT,OAAQ,GACR,OAAQ,GACR,YAAa,OACb,qBAAsB,KACnB3B,GAGJW,GAA6BX,EAAQ,oBAAoB,EAEzD,MAAMmC,EAAepD,GACnBiB,EAAQ,UAAYL,GAAkBR,EAAOJ,CAAG,CAAC,GAC9CiB,EAAQ,iBAAmBb,EAAOJ,CAAG,IAAM,GAG1C6C,EAAY7B,GAAsBC,CAAO,EAEzCoC,EAAa,CAAA,EAEnB,SAAW,CAACrD,EAAKO,CAAK,IAAK,OAAO,QAAQH,CAAM,EAC1CgD,EAAapD,CAAG,IACpBqD,EAAWrD,CAAG,EAAIO,GAIpB,MAAM+C,EAAO,OAAO,KAAKD,CAAU,EAEnC,OAAIpC,EAAQ,OAAS,IACpBqC,EAAK,KAAKrC,EAAQ,IAAI,EAGhBqC,EAAK,IAAItD,GAAO,CACtB,MAAMO,EAAQH,EAAOJ,CAAG,EAExB,OAAIO,IAAU,OACN,GAGJA,IAAU,KACNY,EAAOnB,EAAKiB,CAAO,EAGvB,MAAM,QAAQV,CAAK,EAClBA,EAAM,SAAW,GAAKU,EAAQ,cAAgB,oBAC1CE,EAAOnB,EAAKiB,CAAO,EAAI,KAGxBV,EACL,OAAOsC,EAAU7C,CAAG,EAAG,EAAE,EACzB,KAAK,GAAG,EAGJmB,EAAOnB,EAAKiB,CAAO,EAAI,IAAME,EAAOZ,EAAOU,CAAO,CAC3D,CAAE,EAAE,OAAOH,GAAKA,EAAE,OAAS,CAAC,EAAE,KAAK,GAAG,CACtC,CAEO,SAASyC,GAASnB,EAAKnB,EAAS,SACtCA,EAAU2B,EAAA,CACT,OAAQ,IACL3B,GAGJ,GAAI,CAACuC,EAAMnB,CAAI,EAAI7B,GAAa4B,EAAK,GAAG,EAExC,OAAIoB,IAAS,SACZA,EAAOpB,GAGDQ,EAAA,CACN,KAAKa,GAAAC,EAAAF,GAAA,YAAAA,EAAM,MAAM,OAAZ,YAAAE,EAAmB,KAAnB,KAAAD,EAAyB,GAC9B,MAAOf,GAAMF,GAAQJ,CAAG,EAAGnB,CAAO,GAC9BA,GAAWA,EAAQ,yBAA2BoB,EAAO,CAAC,mBAAoB9C,GAAO8C,EAAMpB,CAAO,CAAC,EAAI,CAAA,EAEzG,CAEO,SAAS0C,GAAavD,EAAQa,EAAS,CAC7CA,EAAU2B,EAAA,CACT,OAAQ,GACR,OAAQ,GACR,CAAC7B,EAAwB,EAAG,IACzBE,GAGJ,MAAMmB,EAAMH,GAAW7B,EAAO,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC,GAAK,GAC9CwD,EAAepB,GAAQpC,EAAO,GAAG,EAEjCuC,EAAQC,IAAA,GACVF,GAAMkB,EAAc,CAAC,KAAM,EAAK,CAAC,GACjCxD,EAAO,OAGX,IAAIyD,EAAcV,GAAUR,EAAO1B,CAAO,EAC1C4C,MAAgB,IAAIA,CAAW,IAE/B,IAAIxB,EAAOF,GAAQ/B,EAAO,GAAG,EAC7B,GAAI,OAAOA,EAAO,oBAAuB,SAAU,CAClD,MAAM0D,EAA6B,IAAI,IAAI1B,CAAG,EAC9C0B,EAA2B,KAAO1D,EAAO,mBACzCiC,EAAOpB,EAAQF,EAAwB,EAAI+C,EAA2B,KAAO,IAAI1D,EAAO,kBAAkB,EAC1G,CAED,MAAO,GAAGgC,CAAG,GAAGyB,CAAW,GAAGxB,CAAI,EACnC,CAEO,SAAS0B,GAAKvE,EAAOwE,EAAQ/C,EAAS,CAC5CA,EAAU2B,EAAA,CACT,wBAAyB,GACzB,CAAC7B,EAAwB,EAAG,IACzBE,GAGJ,KAAM,CAAC,IAAAmB,EAAK,MAAAO,EAAO,mBAAAsB,CAAkB,EAAIV,GAAS/D,EAAOyB,CAAO,EAEhE,OAAO0C,GAAa,CACnB,IAAAvB,EACA,MAAOjC,GAAYwC,EAAOqB,CAAM,EAChC,mBAAAC,CACA,EAAEhD,CAAO,CACX,CAEO,SAASiD,GAAQ1E,EAAOwE,EAAQ/C,EAAS,CAC/C,MAAMkD,EAAkB,MAAM,QAAQH,CAAM,EAAIhE,GAAO,CAACgE,EAAO,SAAShE,CAAG,EAAI,CAACA,EAAKO,IAAU,CAACyD,EAAOhE,EAAKO,CAAK,EAEjH,OAAOwD,GAAKvE,EAAO2E,EAAiBlD,CAAO,CAC5C,qLC3hBMmD,GAAU,QACHC,EAAM,IAAIC,IAAgB,CACrC,QAAQ,IAAI,gBAAgBF,EAAO,KAAM,GAAGE,CAAI,CAClD,EAEaC,GAAoB,IACxBH,GASII,GAAkBC,GAAuB,CACpDA,EAAIA,GAAK,GACT,MAAM,EAAI,mDACJ1C,EAAI,EAAE,OACZ,IAAI2C,EAAI,GACR,QAAShF,EAAI,EAAGA,EAAI+E,EAAG/E,IAAUgF,GAAA,EAAE,OAAO,KAAK,MAAM,KAAK,OAAO,EAAI3C,CAAC,CAAC,EAChE,OAAA2C,CACT,ECtBaC,GAAgB,CAC3B,MAAO,0BACP,QAAS,8BACT,YAAa,4BACf,EACaC,EAAe,CAC1B,WAAY,uBACZ,OAAQ,yBACR,SAAU,qBACV,cAAe,0BACf,aAAc,yBACd,SAAU,oBACZ,ECZA,6BAEA,SAASC,GAAQC,EAAQ,CACvB,QAASpF,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAIqF,EAAS,UAAUrF,CAAC,EACxB,QAASM,KAAO+E,EACdD,EAAO9E,CAAG,EAAI+E,EAAO/E,CAAG,CAE3B,CACD,OAAO8E,CACT,CAIA,IAAIE,GAAmB,CACrB,KAAM,SAAUzE,EAAO,CACrB,OAAIA,EAAM,CAAC,IAAM,MACfA,EAAQA,EAAM,MAAM,EAAG,EAAE,GAEpBA,EAAM,QAAQ,mBAAoB,kBAAkB,CAC5D,EACD,MAAO,SAAUA,EAAO,CACtB,OAAO,mBAAmBA,CAAK,EAAE,QAC/B,2CACA,kBACD,CACF,CACH,EAKA,SAAS0E,GAAMC,EAAWC,EAAmB,CAC3C,SAASC,EAAKC,EAAM9E,EAAO+E,EAAY,CACrC,GAAI,OAAO,UAAa,YAIxB,CAAAA,EAAaT,GAAO,CAAA,EAAIM,EAAmBG,CAAU,EAEjD,OAAOA,EAAW,SAAY,WAChCA,EAAW,QAAU,IAAI,KAAK,KAAK,IAAG,EAAKA,EAAW,QAAU,KAAK,GAEnEA,EAAW,UACbA,EAAW,QAAUA,EAAW,QAAQ,YAAW,GAGrDD,EAAO,mBAAmBA,CAAI,EAC3B,QAAQ,uBAAwB,kBAAkB,EAClD,QAAQ,QAAS,MAAM,EAE1B,IAAIE,EAAwB,GAC5B,QAASC,KAAiBF,EACnBA,EAAWE,CAAa,IAI7BD,GAAyB,KAAOC,EAE5BF,EAAWE,CAAa,IAAM,KAWlCD,GAAyB,IAAMD,EAAWE,CAAa,EAAE,MAAM,GAAG,EAAE,CAAC,IAGvE,OAAQ,SAAS,OACfH,EAAO,IAAMH,EAAU,MAAM3E,EAAO8E,CAAI,EAAIE,EAC/C,CAED,SAASE,EAAKJ,EAAM,CAClB,GAAI,SAAO,UAAa,aAAgB,UAAU,QAAU,CAACA,GAQ7D,SAFIK,EAAU,SAAS,OAAS,SAAS,OAAO,MAAM,IAAI,EAAI,GAC1DC,EAAM,CAAA,EACDjG,EAAI,EAAGA,EAAIgG,EAAQ,OAAQhG,IAAK,CACvC,IAAIkG,EAAQF,EAAQhG,CAAC,EAAE,MAAM,GAAG,EAC5Ba,EAAQqF,EAAM,MAAM,CAAC,EAAE,KAAK,GAAG,EAEnC,GAAI,CACF,IAAIC,EAAQ,mBAAmBD,EAAM,CAAC,CAAC,EAGvC,GAFAD,EAAIE,CAAK,EAAIX,EAAU,KAAK3E,EAAOsF,CAAK,EAEpCR,IAASQ,EACX,KAEV,OAAezG,EAAG,CAAE,CACf,CAED,OAAOiG,EAAOM,EAAIN,CAAI,EAAIM,EAC3B,CAED,OAAO,OAAO,OACZ,CACE,IAAAP,EACA,IAAAK,EACA,OAAQ,SAAUJ,EAAMC,EAAY,CAClCF,EACEC,EACA,GACAR,GAAO,CAAE,EAAES,EAAY,CACrB,QAAS,EACrB,CAAW,CACX,CACO,EACD,eAAgB,SAAUA,EAAY,CACpC,OAAOL,GAAK,KAAK,UAAWJ,GAAO,CAAA,EAAI,KAAK,WAAYS,CAAU,CAAC,CACpE,EACD,cAAe,SAAUJ,EAAW,CAClC,OAAOD,GAAKJ,GAAO,GAAI,KAAK,UAAWK,CAAS,EAAG,KAAK,UAAU,CACnE,CACF,EACD,CACE,WAAY,CAAE,MAAO,OAAO,OAAOC,CAAiB,CAAG,EACvD,UAAW,CAAE,MAAO,OAAO,OAAOD,CAAS,CAAG,CAC/C,CACF,CACH,CAEA,IAAIY,GAAMb,GAAKD,GAAkB,CAAE,KAAM,GAAG,CAAE,EC9HvC,MAAMe,CAAY,CACvB,WAAW,UAAUC,EAAe,CACrB,aAAA,QAAQpB,EAAa,WAAYoB,CAAK,CACrD,CACA,WAAW,WAAgC,CACzC,MAAMA,EAAQ,aAAa,QAAQpB,EAAa,UAAU,EAC1D,OAAOoB,GAAgB,MACzB,CACA,WAAW,OAAOzF,EAA2B,CAC3C,KAAM,CAAE,aAAA0F,EAAe,GAAI,SAAAC,EAAW,GAAI,cAAAC,EAAgB,EAAO,EAAA5F,EACjE6F,GAAQ,IAAIxB,EAAa,aAAcqB,EAAc,CAAE,QAAS,EAAG,EACnEG,GAAQ,IAAIxB,EAAa,SAAUsB,EAAU,CAAE,QAAS,EAAG,EACnDE,GAAA,IAAIxB,EAAa,cAAeuB,CAAa,CACvD,CACA,WAAW,QAAgC,CAMlC,MALe,CACpB,aAAcC,GAAQ,IAAIxB,EAAa,YAAY,GAAK,GACxD,SAAUwB,GAAQ,IAAIxB,EAAa,QAAQ,GAAK,GAChD,cAAewB,GAAQ,IAAIxB,EAAa,aAAa,GAAK,EAAA,CAG9D,CACA,OAAO,cAAe,CACZwB,GAAA,OAAOxB,EAAa,YAAY,EAChCwB,GAAA,OAAOxB,EAAa,aAAa,EACjCwB,GAAA,OAAOxB,EAAa,QAAQ,CACtC,CAEA,WAAW,SAASrE,EAAkB,CACpC,aAAa,QAAQqE,EAAa,SAAU,KAAK,UAAUrE,CAAK,CAAC,CACnE,CACA,WAAW,UAAkC,CAC3C,MAAMA,EAAQ,aAAa,QAAQqE,EAAa,QAAQ,EACpD,GAAA,CACF,GAAIrE,EACK,OAAA,KAAK,MAAMA,CAAK,QAElB8F,EAAK,CACL,MACT,CAEF,CACA,OAAO,gBAAiB,CACT,aAAA,WAAWzB,EAAa,QAAQ,CAC/C,CACA,OAAO,OAAO5E,EAAa,CACzB,aAAa,WAAWA,CAAG,CAC7B,CACF,CChDO,MAAMsG,GAAN,MAAMA,EAAe,CAqB5B,EAnBEA,GAAO,UAAoB,GAE3BA,GAAO,OAAiB,GAIxBA,GAAO,QAAkB,GAEzBA,GAAO,aAAuB,GAVzB,IAAMC,EAAND,GAuBA,MAAME,CAAwB,CACnC,OAAO,UAAUjG,EAA2B,CACpC,KAAA,CAAE,SAAA2F,EAAW,GAAI,aAAAD,EAAe,GAAI,cAAAE,EAAgB,EAAA,EAAO5F,GAAS,GAC1EgG,EAAe,OAAS,CAAE,SAAAL,EAAU,aAAAD,EAAc,cAAAE,CAAc,EAChEJ,EAAY,OAASxF,CACvB,CACA,OAAO,cAAe,CACpBgG,EAAe,OAAS,MAC1B,CACA,WAAW,SAAU,OACZ,QAAA7C,EAAA6C,EAAe,SAAf,YAAA7C,EAAuB,WAAY,EAC5C,CACA,WAAW,cAAe,OACjB,QAAAA,EAAA6C,EAAe,SAAf,YAAA7C,EAAuB,gBAAiB,EACjD,CACF,CAEO,MAAM+C,EAA0B,CACrC,OAAO,YAAYlG,EAAkB,CACnCgG,EAAe,SAAWhG,EAC1BwF,EAAY,SAAWxF,CACzB,CACA,OAAO,gBAAiB,CACtBgG,EAAe,SAAW,MAC5B,CACA,WAAW,UAAW,CACpB,OAAOA,EAAe,QACxB,CACF,CCjDA,SAAeG,GAAeC,EAA4B,QAAAC,EAAA,sBAClD,MAAAC,EAAoB,MAAMF,EAAK,OACjC,OAAAE,EAAI,UAAY,GACdF,EAAK,SAAW,KAAOE,EAAI,WAAa,OAGjCF,EAAK,OAGT,QAAQ,OAAOE,CAAG,GAGpBA,EAAI,IACb,GAEA,SAASC,GAAQC,EAAiBC,EAA0B,CAC1D,MAAI,CAACA,GAAW,gBAAgB,KAAKD,CAAO,EACnCA,EAELA,EAAQ,WAAW,GAAG,EACjB,GAAGC,CAAO,GAAGD,CAAO,GAEpB,GAAGC,CAAO,IAAID,CAAO,EAEhC,CAWA,MAAME,GAAoBC,GAAsFN,EAAA,MAAtFM,GAAsF,UAAtF,CAAE,OAAAC,EAAQ,KAAAC,EAAM,OAAAC,EAAQ,QAAAC,EAAS,KAAAC,EAAM,cAAAC,GAA+C,OAC1G,GAAA,CAACjB,EAAe,UACZ,MAAA,IAAI,MAAM,+BAA+B,EAGjD,GAAIc,EAAQ,CACJ,MAAAI,EAAaC,GAAG,UAAUL,CAAM,EACtCD,IAASA,EAAK,SAAS,GAAG,EAAI,IAAM,KAAO,GAAGK,CAAU,EAC1D,CACA,MAAMrF,EAAM0E,GAAQM,EAAMb,EAAe,OAAO,EAE1CoB,EAA8B,CAClC,OAAAR,EACA,QAASvE,EAAA,CACP,eAAgB,mBAChB,gBAAiB,QAAU2B,GAAkB,EAC7C,aAAc,MACd,WAAYgC,EAAe,OAC3B,cAAeA,EAAe,UAC9B,cAAe,KAAK,IAAI,EAAE,SAAS,EACnC,aAAc,KACd,UAAW/B,GAAe,EAC1B,cAAegD,KAAiB9D,EAAAqC,EAAY,SAAZ,YAAArC,EAAoB,WAAY,IAC7D4D,EACL,EAGF,GAAIC,EAAM,CAER,MAAMK,EAAgBT,IAAW,QAASG,GAAA,YAAAA,EAAU,mBAAoB,oCACxEK,EAAe,KAAOC,EAAgB,KAAK,UAAUL,CAAI,EAAKA,CAChE,CAEA,MAAMM,EAAM,IAAI,QAAQzF,EAAKuF,CAAc,EACvC,GAAA,CACI,MAAAhB,EAAO,MAAM,MAAMkB,CAAG,EAC5B,OAAOV,IAAW,MAASR,EAAaD,GAAeC,CAAI,CAAA,OACrDvH,EAAA,CACA,MAAA,IAAI,MAAM,eAAe,CACjC,CACF,GAEsB,SAAA0I,GACpBV,EACAC,EACAG,EACY,QAAAZ,EAAA,sBACZ,OAAOK,GAAQ,CACb,OAAQ,MACR,KAAAG,EACA,OAAAC,EACA,cAAAG,CAAA,CACD,CACH,GAEA,SAAsBO,GACpBX,EACAG,EACAC,EACAF,EACY,QAAAV,EAAA,sBACZ,OAAOK,GAAQ,CACb,OAAQ,OACR,KAAAG,EACA,KAAAG,EACA,QAAAD,EACA,cAAAE,CAAA,CACD,CACH,GAEsB,SAAAQ,GAAoBZ,EAAcG,EAAqB,QAAAX,EAAA,sBAC3E,OAAOK,GAAQ,CACb,OAAQ,SACR,KAAAG,EACA,KAAAG,CAAA,CACD,CACH,GAEsB,SAAAU,GAAiBb,EAAcG,EAASD,EAA8C,QAAAV,EAAA,sBAC1G,OAAOK,GAAQ,CACb,OAAQ,MACR,KAAAG,EACA,KAAAG,EACA,QAAAD,CAAA,CACD,CACH,GC1HO,MAAMY,GAAN,MAAMA,EAAgB,CAE3B,WAAW,UAAUC,EAA8B,CACjD,KAAK,WAAaA,CACpB,CACA,WAAW,WAAY,CACrB,OAAO,KAAK,UACd,CACA,OAAO,GAAGC,EAAeC,EAAgB,CAClC,KAAK,WAAWD,CAAK,IACnB,KAAA,WAAWA,CAAK,EAAI,IAE3B,KAAK,WAAWA,CAAK,EAAE,KAAKC,CAAQ,CACtC,CACA,OAAO,IAAID,EAAeC,EAAgB,CACpC,KAAK,WAAWD,CAAK,IAClB,KAAA,WAAWA,CAAK,EAAI,KAAK,WAAWA,CAAK,EAAE,OAAQE,GAAMA,IAAMD,CAAQ,EAEhF,CACA,OAAO,KAAKD,KAAkB9D,EAAW,CACnC,KAAK,WAAW8D,CAAK,GACvB,KAAK,WAAWA,CAAK,EAAE,QAASE,GAAM,CACpCA,EAAE,GAAGhE,CAAI,CAAA,CACV,CAEL,CACA,OAAe,OAAO8D,EAAe,CAC/B,KAAK,WAAWA,CAAK,GAChB,OAAA,KAAK,WAAWA,CAAK,CAEhC,CAIA,OAAO,UAAaG,EAA0BC,EAAiB,CACvD,MAAAC,EAAOD,GAAU7D,GAAc,QACrCN,EAAI,kBAAmBoE,CAAI,EACrB,MAAAC,EAAaC,GAAY,CAC7BJ,GAAA,MAAAA,EAAWI,EAAI,EAEZ,KAAA,UAAU,IAAIF,EAAMC,CAAS,EAC7B,KAAA,GAAGD,EAAMC,CAAS,CACzB,CACA,OAAO,YAAYF,EAAiB,CAC5B,MAAAC,EAAOD,GAAU7D,GAAc,QACrCN,EAAI,oBAAqBoE,CAAI,EAC7B,MAAMC,EAAY,KAAK,UAAU,IAAID,CAAI,EACrCC,IACG,KAAA,IAAID,EAAMC,CAAS,EACnB,KAAA,UAAU,OAAOD,CAAI,EAE9B,CACA,OAAO,OAAQ,CACb,KAAK,UAAY,GACjB,KAAK,UAAU,OACjB,CACF,EAvDEP,GAAe,WAAwC,GAgCxCA,GAAA,cAAmC,IAjC7C,IAAMU,GAANV,GCcA,MAAMW,CAAkB,CAM7B,OAAa,MAAMC,EAAc,QAAAlC,EAAA,sBAC/B,KAAM,CAAE,UAAAmC,EAAY,GAAI,cAAAC,EAAgB,GAAI,aAAAC,EAAe,GAAI,WAAAC,EAAa,EAAG,EAAI3C,EAAe,QAAU,CAAA,EACtG4C,EAAQ,CAAE,UAAAJ,EAAW,cAAAC,EAAe,aAAAC,EAAc,WAAAC,EAAY,KAAAJ,GAC9DvB,EAAO,IAAI,gBAAgB4B,CAAK,EACtC9E,EAAI,UAAU,EAEd,MAAMwC,EAAM,MAAMkB,GAAoC,2BAA4BR,EAAM,GAAI,CACzF,eAAiB,mCAAA,CACnB,EACE,KAAMV,IACLxC,EAAI,gBAAgB,EACpBmC,EAAwB,UAAUK,CAAG,EAC9BA,EACR,EACA,MAAOR,IACNhC,EAAI,eAAe,EACZ,KACR,EACH,GAAIwC,GAAA,MAAAA,EAAK,SAAU,CACjBxC,EAAI,cAAc,EACZ,MAAAsE,EAAO,MAAM,KAAK,cACxB,GAAIA,EAAK,KACA,OAAAA,CAEX,CACO,OAAA,IACT,GAMA,OAAa,aAAkC,QAAA/B,EAAA,sBAC7C,KAAM,CAACwC,EAAaC,CAAM,EAAI,MAAM,QAAQ,IAAI,CAAC,KAAK,WAAW,EAAG,KAAK,UAAA,CAAW,CAAC,EAC/ExC,EAAMyC,EAAA1G,EAAA,GACPwG,GADO,CAEV,OAAAC,CAAA,GAEF,OAAA5C,GAA0B,YAAYI,CAAG,EACrCA,GAAA,MAAAA,EAAK,MACS+B,GAAA,KAAKjE,GAAc,QAASkC,CAAG,EAE1CA,CACT,GAEA,OAAqB,YAAoC,QAAAD,EAAA,sBACvD,MAAMC,EAAM,MAAMiB,GAAyB,0BAA0B,EAClE,KAAMjB,IACLxC,EAAI,sBAAsB,EACnBwC,EACR,EACA,MAAOR,IACNhC,EAAI,qBAAqB,EAClB,KACR,EAEH,OAAOwC,GAAA,MAAAA,EAAK,KAAOjE,EAAA,GAAKiE,GAAQ,CAAA,CAClC,GAEA,OAAqB,WAAoC,QAAAD,EAAA,sBACvD,MAAMC,EAAM,MAAMiB,GAAsC,oBAAoB,EACzE,KAAMjB,IACLxC,EAAI,qBAAqB,EAClBwC,EACR,EACA,MAAOR,IACNhC,EAAI,oBAAoB,EACjB,KACR,EACI,OAAAwC,GAAA,YAAAA,EAAK,SAAU,EACxB,GAQA,OAAa,aAAa0C,EAAkBC,EAA6C,QAAA5C,EAAA,sBACjF,MAAAC,EAAM,MAAMkB,GAAiD,oBAAqB,CACtF,SAAAwB,EACA,SAAAC,CAAA,CACD,EAAE,MAAOpK,GACDkK,EAAA1G,EAAA,GACFxD,GADE,CAEL,MAAO,EAAA,EAEV,EACD,OAAAiF,EAAI,YAAawC,GAAA,MAAAA,EAAK,MAAQ,SAAW,SAAS,EAC7CA,GAAA,MAAAA,EAAK,OACRL,EAAwB,UAAUK,CAAG,EAEhCA,GAAA,MAAAA,EAAK,MAAQyC,EAAA1G,EAAA,GAAKiE,GAAL,CAAU,MAAO,EAAK,GAAIyC,EAAA1G,EAAA,GAAKiE,GAAL,CAAU,MAAO,EAAM,EACvE,GAOA,OAAO,oBAAoBV,EAAoD,CAC7E,OAAO4B,GAAqD,mBAAoB,CAC9E,cAAA5B,CAAA,CACD,EAAE,MAAM,KACA,GACR,CACH,CAEA,OAAa,gBAAgBe,EAW1B,QAAAN,EAAA,yBAX0B,CAC3B,SAAA2C,EACA,SAAAC,EACA,UAAAC,CAAA,EAQC,CACK,MAAA5C,EAAM,MAAMkB,GAAuC,uBAAwB,CAC/E,SAAAwB,EACA,SAAAC,EACA,UAAWC,EAAY,EAAI,EAC3B,YAAa,GACb,uBAAwB,EAAA,CACzB,EAAE,MAAOrK,GACDkK,EAAA1G,EAAA,GACFxD,GADE,CAEL,MAAO,EAAA,EAEV,EACM,OAAAyH,GAAA,MAAAA,EAAK,MAAQ,CAAE,MAAO,GAAM,SAAUA,GAAA,YAAAA,EAAK,QAAS,EAAI,CAAE,MAAO,EAAM,CAChF,GAEA,OAAa,uBAAuBK,EAQN,QAAAN,EAAA,yBARM,CAClC,SAAA2C,EACA,SAAAC,EACA,KAAAV,CAAA,EAK4B,CACtB,MAAAjC,EAAM,MAAMkB,GAA2D,oCAAqC,CAChH,SAAAwB,EACA,KAAAT,EACA,SAAAU,CAAA,CACD,EAAE,MAAOpK,IACD,CACL,MAAO,GACP,SAAUA,EAAE,QAAA,EAEf,EACG,OAACyH,GAAA,MAAAA,EAAK,OACRL,EAAwB,UAAUK,CAAG,EAEhCA,GAAA,MAAAA,EAAK,MAAQA,EAAMyC,EAAA1G,EAAA,GAAKiE,GAAL,CAAU,MAAO,IAC7C,GAEA,OAAa,sBAAsBK,EAAyD,QAAAN,EAAA,yBAAzD,CAAE,MAAA8C,GAAuD,CACpF,MAAA7C,EAAM,MAAMkB,GAAoD,4CAA6C,CACjH,SAAU2B,CAAA,CACX,EAAE,MAAOtK,IACD,CACL,MAAO,GACP,SAAUA,EAAE,QAAA,EAEf,EACD,OAAOyH,GAAA,MAAAA,EAAK,MAAQA,EAAMyC,EAAA1G,EAAA,GAAKiE,GAAL,CAAU,MAAO,IAC7C,GAEA,OAAa,cAAcK,EAA8E,QAAAN,EAAA,yBAA9E,CAAE,MAAA8C,EAAO,KAAAZ,EAAM,SAAAU,GAA+D,CACjG,MAAA3C,EAAM,MAAMkB,GAOhB,sCAAuC,CACvC,SAAU2B,EACV,SAAAF,EACA,kBAAmBV,CAAA,CACpB,EAAE,MAAO1J,IACD,CACL,MAAO,GACP,SAAUA,EAAE,QAAA,EAEf,EACD,OAAOyH,GAAA,MAAAA,EAAK,MAAQA,EAAMyC,EAAA1G,EAAA,GAAKiE,GAAL,CAAU,MAAO,IAC7C,GACF,CCxNe,MAAA8C,GAAA,yrKCER,MAAMC,EAAK,CAChB,YAAa,CACL,MAAAC,EAAO,SAAS,cAAc,KAAK,EACpC,OAAAA,EAAA,UAAU,IAAI,eAAe,EAClCA,EAAK,UAAY;AAAA,kBACHF,EAAQ;AAAA,MAEfE,CACT,CACF,CCXA,MAAMC,GAAiB,CACrB,aAAc,2PACd,YAAa,8jBACb,YAAa,mzBACf,EAYaC,GAAkB,CAC7BC,EACAC,EAAwB,GACxBC,IACmB,CACb,MAAAC,EAAgB,SAAS,cAAc,KAAK,EACpC,OAAAA,EAAA,MAAM,QAAU,UAAUF,CAAI,cAAcA,CAAI,oCAAoCC,GAAA,KAAAA,EAAS,MAAM,IACnGC,EAAA,UAAYL,IAAA,YAAAA,GAAiBE,GAEpCG,CACT,ECDO,MAAMC,CAAM,CAMjB,YAAYC,EAAmB,CAFI,KAAA,UAAA,KAGjC,KAAK,MAAQA,EACb,KAAK,aAAe,KACf,KAAA,KAAO,KAAK,qBACjB,KAAK,oBAAoB,CAC3B,CAEQ,oBAAkC,CAClC,KAAA,CAAE,GAAAC,EAAI,KAAA/H,EAAM,MAAAgI,EAAO,kBAAAC,EAAmB,cAAAC,EAAe,uBAAAC,EAAwB,SAAAC,EAAU,OAAAC,EAAQ,QAAAC,GACnG,KAAK,MACDC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,mBAAoB,oBAAoBvI,CAAI,EAAE,EAErEiI,GACFA,EAAkB,QAASO,GAAcD,EAAa,UAAU,IAAIC,CAAS,CAAC,EAG1E,MAAAC,EAAe,SAAS,cAAc,MAAM,EAClDA,EAAa,UAAY,iBACzBA,EAAa,YAAcT,EAC3BO,EAAa,YAAYE,CAAY,EAE/B,MAAAC,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAY,iBAEpB,MAAAC,EAAe,SAAS,cAAc,OAAO,EAQnD,GAPaA,EAAA,KAAO3I,IAAS,WAAa,WAAaA,EACvD2I,EAAa,GAAK,aAClBA,EAAa,UAAY,WACzBA,EAAa,YAAc,GAC3B,KAAK,aAAeA,EACpBD,EAAc,YAAYC,CAAY,EAElCT,EAAe,CACX,MAAAU,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAY,iBACZA,EAAA,YAAYpB,GAAgB,YAAY,CAAC,EACnDoB,EAAU,MAAM,WAAa,SACnBA,EAAA,iBAAiB,QAAS,IAAM,CACxCD,EAAa,MAAQ,GACrBC,EAAU,MAAM,WAAa,QAAA,CAC9B,EACD,KAAK,UAAYA,EACjBF,EAAc,YAAYE,CAAS,CACrC,CAEI,GAAA5I,IAAS,YAAcmI,EAAwB,CAC3C,MAAAU,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAY,sBACZA,EAAA,iBAAiB,QAAS,IAAM,CACrCF,EAAa,OAAS,YACxBA,EAAa,KAAO,OACpBE,EAAW,UAAY,wBAEvBF,EAAa,KAAO,WACpBE,EAAW,UAAY,sBACzB,CACD,EAEDH,EAAc,YAAYG,CAAU,CACtC,CAEI,GAAA,KAAK,MAAM,qBAAsB,CACnC,KAAM,CAAE,QAAAC,EAAS,eAAAC,CAAe,EAAI,KAAK,MAAM,qBACzCC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,UAAY,qBACnBA,EAAO,YAAc,OACdA,EAAA,iBAAiB,QAAUnM,IAAM,CACtCA,GAAE,gBAAgB,EAClBA,GAAE,eAAe,EACjBmM,EAAO,SAAW,GAElB,IAAIC,GAAY,GACV,MAAAC,GAAQ,YAAY,IAAM,CAC9BD,KACIA,KAAc,GAChBD,EAAO,SAAW,GAClBA,EAAO,YAAc,OACrB,cAAcE,EAAK,EACFH,GAAA,MAAAA,MAEjBC,EAAO,SAAW,GACXA,EAAA,YAAc,GAAGC,GAAY,CAAC,MAEtC,GAAI,EACAD,EAAA,YAAc,GAAGC,EAAS,IACvBH,GAAA,MAAAA,GAAA,CACX,EACDJ,EAAc,YAAYM,CAAM,CAClC,CAgBaL,EAAA,iBAAiB,QAAU9C,GAAU,UAC1C,MAAAsD,GAAQjI,IAAAC,EAAA0E,EAAM,SAAN,YAAA1E,EAAmC,QAAnC,KAAAD,GAA4C,GACtD,KAAK,YACP,KAAK,UAAU,MAAM,WAAaiI,EAAO,UAAY,UAEnDf,GACFA,EAASe,CAAI,CACf,CACD,EAEYR,EAAA,iBAAiB,QAAU9C,GAAU,SAC5CyC,GACOA,GAAApH,GAAAC,EAAA0E,EAAM,SAAN,YAAA1E,EAAmC,QAAnC,KAAAD,EAA4C,EAAE,CACzD,CACD,EAEYyH,EAAA,iBAAiB,OAAS9C,GAAU,SAC3CwC,GACMA,GAAAnH,GAAAC,EAAA0E,EAAM,SAAN,YAAA1E,EAAmC,QAAnC,KAAAD,EAA4C,EAAE,CACxD,CACD,EAEDqH,EAAa,YAAYG,CAAa,EAGhC,MAAAU,EAAkB,SAAS,cAAc,GAAG,EAClD,OAAAA,EAAgB,UAAY,eACxB,KAAK,MAAM,UACGA,EAAA,YAAc,KAAK,MAAM,cAAgB,GAEzDA,EAAgB,MAAM,QAAU,OAElCb,EAAa,YAAYa,CAAe,EAEjCb,CACT,CAEO,YAA0B,CAC/B,OAAO,KAAK,IACd,CAEQ,qBAAsB,CACX,KAAK,KAEjB,KAAA,KAAK,iBAAiB,QAAS,IAAM,CACxC,MAAMtL,EAAQ,KAAK,KAAK,cAAgC,WAAW,EAE/DA,GACFA,EAAM,MAAM,CACd,CACD,EAEc,KAAK,KAAK,iBAAmC,WAAW,EAChE,QAASA,GAAU,CAClBA,EAAA,iBAAiB,QAAS,IAAM,CAC9B,MAAAoM,EAAUpM,EAAM,QAAQ,mBAAmB,EAC3C+K,EAAQqB,GAAA,YAAAA,EAAS,cAAc,mBACjCrB,GACIA,EAAA,UAAU,IAAI,uBAAuB,CAC7C,CACD,EAEK/K,EAAA,iBAAiB,OAAQ,IAAM,CAC7B,MAAAoM,EAAUpM,EAAM,QAAQ,mBAAmB,EAC3C+K,EAAQqB,GAAA,YAAAA,EAAS,cAAc,mBACjCrB,GAAS/K,EAAM,QAAU,IACrB+K,EAAA,UAAU,OAAO,uBAAuB,CAChD,CACD,CAAA,CACF,CACH,CAEO,UAAUsB,EAAiB,CAChC,MAAMC,EAAW,KAAK,KAAK,cAAc,eAAe,EACxDA,EAAS,YAAcD,EACvBC,EAAS,MAAM,QAAU,OAC3B,CAEO,WAAY,CACjB,MAAMA,EAAW,KAAK,KAAK,cAAc,eAAe,EACxDA,EAAS,MAAM,QAAU,MAC3B,CAGO,UAAmB,CACxB,OAAO,KAAK,aAAc,KAC5B,CAGO,SAASvL,EAAe,CAC7B,KAAK,aAAc,MAAQA,EAEvB,KAAK,MAAM,UACR,KAAA,MAAM,SAASA,CAAK,CAE7B,CACF,CCvOO,MAAMwL,EAAO,CAElB,aAAc,CACP,KAAA,OAAS,SAAS,cAAc,KAAK,CAC5C,CACA,YAAa,CACN,YAAA,OAAQ,UAAU,IAAI,WAAW,EAC/B,KAAK,MACd,CAEA,MAAO,QACArI,EAAA,KAAA,SAAA,MAAAA,EAAQ,UAAU,OAAO,UAChC,CACA,MAAO,QACAA,EAAA,KAAA,SAAA,MAAAA,EAAQ,UAAU,IAAI,UAC7B,CACF,CCNO,MAAMsI,EAAO,CAKlB,YAAY3B,EAAoB,CAC9B,KAAK,MAAQA,EACR,KAAA,KAAO,KAAK,qBAEnB,CAEQ,qBAAyC,CAC/C,KAAM,CAAE,GAAAC,EAAI,KAAA2B,EAAM,kBAAAzB,EAAmB,SAAA0B,EAAU,QAAAb,GAAY,KAAK,MAC1Dc,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,UAAY,kBACnBA,EAAO,YAAcF,EAEf,MAAAG,EAAS,IAAIL,GACnB,OAAAK,EAAO,KAAK,EACZD,EAAO,aAAaC,EAAO,WAAW,EAAGD,EAAO,UAAU,EAC1D,KAAK,OAASC,EAEV5B,GACFA,EAAkB,QAASO,GAAcoB,EAAO,UAAU,IAAIpB,CAAS,CAAC,EAGtEmB,IACFC,EAAO,SAAW,GACXA,EAAA,UAAU,IAAI,0BAA0B,GAI7Cd,GACFc,EAAO,iBAAiB,QAAU/D,GAAUiD,EAASjD,CAAK,CAAC,EAGtD+D,CACT,CAEO,YAA0B,CAC/B,OAAO,KAAK,IACd,CAEO,YAAYE,EAAqB,CACtC,KAAK,KAAK,SAAWA,EACjBA,EACG,KAAA,KAAK,UAAU,IAAI,0BAA0B,EAE7C,KAAA,KAAK,UAAU,OAAO,0BAA0B,CAEzD,CAEO,WAAWC,EAAoB,SAChCA,GACF5I,EAAA,KAAK,SAAL,MAAAA,EAAa,QAEbD,EAAA,KAAK,SAAL,MAAAA,EAAa,MAEjB,CACF,CCtEY,IAAA8I,GAAAA,IACVA,EAAA,MAAQ,QACRA,EAAA,OAAS,SACTA,EAAA,WAAa,aACbA,EAAA,eAAiB,iBACjBA,EAAA,gBAAkB,kBALRA,IAAAA,GAAA,CAAA,CAAA,ECGL,MAAeC,EAAe,CAGnC,YAAYC,EAAsBC,EAA4B,CAC5D,KAAK,MAAQD,CACf,CAGF,CCTO,MAAME,EAAkB,CAE7B,aAAc,CADd,KAAQ,SAAW,EACJ,CAEf,IAAItH,EAAcuH,EAA6B,CAC7C,KAAK,SAAS,KAAK,CAAE,KAAAvH,EAAM,SAAAuH,CAAU,CAAA,CACvC,CAEA,aAAavH,EAAc,OAElB,OADM3B,EAAA,KAAK,SAAS,KAAMhC,GAASA,EAAK,OAAS2D,CAAI,IAA/C,YAAA3B,EAAkD,QAEjE,CAEA,mBAAmB2B,EAAc,OACzB,MAAAwH,GAAOnJ,EAAA,KAAK,SAAS,KAAMhC,GAASA,EAAK,OAAS2D,CAAI,IAA/C,YAAA3B,EAAkD,SAC/DmJ,GAAA,MAAAA,EAAM,YACR,CAEA,iBAAiBxH,EAAsB,WAC/B,MAAAwH,GAAOnJ,EAAA,KAAK,SAAS,KAAMhC,GAASA,EAAK,OAAS2D,CAAI,IAA/C,YAAA3B,EAAkD,SACxD,OAAAoJ,GAAArJ,EAAAoJ,GAAA,YAAAA,EAAM,QAAN,YAAApJ,EAAa,aAAb,KAAAqJ,EAA2B,EACpC,CAEA,mBAAmBzH,EAAuB,OAClC,MAAAwH,GAAOnJ,EAAA,KAAK,SAAS,KAAMhC,GAASA,EAAK,OAAS2D,CAAI,IAA/C,YAAA3B,EAAkD,SACxD,MAAA,CAAC,EAACmJ,GAAA,MAAAA,EAAM,MACjB,CACF,CC7Ba,MAAAE,GAAWrD,GACf,CAAC,CAACA,GAAS,8CAA8C,KAAKA,CAAK,EAG/DsD,GAAmBxD,GACvB,CAAC,CAACA,GAAY,gCAAgC,KAAKA,CAAQ,EAWvDyD,GAAiBC,GACrBH,GAAQG,CAAQ,EAAI,GAAK,gBAGrBC,GAAoBD,GACxBF,GAAgBE,CAAQ,EAAI,GAAK,+EAG7BE,GAAwB,CAAC5D,EAAkB6D,IAC/C7D,IAAa6D,EAAkB,GAAK,4BCzBtC,MAAMC,CAAkB,CAO7B,YAAYjI,EAAckI,EAA8BC,EAAkC,CAD1F,KAAQ,OAAS,GAEV,KAAA,KAAO,SAAS,cAAc,KAAK,EACxC,KAAK,KAAK,UAAY,eACtB,KAAK,KAAK,UAAY;AAAA,4CAEjB,KAAA,KAAK,aAAa,YAAanI,CAAI,EACxC,KAAK,KAAK,aAAakI,EAAiB,KAAK,KAAK,UAAU,EAEvD,KAAA,MAAQ,SAAS,cAAc,MAAM,EAC1C,KAAK,iBAAmBC,CAC1B,CAEA,YAA0B,CACxB,OAAO,KAAK,IACd,CAEA,IAAI,OAAQ,CACV,OAAO,KAAK,kBACd,CAEA,SAASC,EAAe,SACtB,KAAK,KAAK,cAAc,qBAAqB,EAAG,UAAYA,EACxDA,GACF/J,EAAA,KAAK,KAAK,cAAc,mBAAmB,IAA3C,MAAAA,EAA8C,UAAU,IAAI,oBAE5DD,EAAA,KAAK,KAAK,cAAc,mBAAmB,IAA3C,MAAAA,EAA8C,UAAU,OAAO,kBAEnE,CAEA,YAAsB,OACpB,MAAO,GAACC,EAAA,KAAK,KAAK,cAAc,qBAAqB,IAA7C,MAAAA,EAAgD,UAC1D,CAEA,YAAa,OACX,KAAK,KAAK,cAAc,qBAAqB,EAAG,UAAY,IAC5DA,EAAA,KAAK,KAAK,cAAc,mBAAmB,IAA3C,MAAAA,EAA8C,UAAU,OAAO,kBACjE,CACF,CC9BO,MAAMgK,WAA4BlB,EAAe,CAMtD,YAAYC,EAAsBC,EAA4B,CAC5D,MAAMD,CAAK,EACX,KAAK,YAAc,KACnB,KAAK,WAAa,KAClB,KAAK,SAAW,KAEX,KAAA,KAAO,IAAIE,EAClB,CAEA,QAAe,CACT,GAAA,CAAC,KAAK,MAAM,eAAgB,OAE1B,MAAAgB,EAAa,KAAK,MAAM,eAEzB,KAAA,MAAM,SAAS,UAAW,oBAAoB,EAGnD,KAAK,iBAAiBA,CAAU,EAGhC,KAAK,eAAeA,CAAU,EAG9B,KAAK,WAAWA,CAAU,EAG1B,KAAK,kBAAkBA,CAAU,EAEjC,KAAK,eAAe,CACtB,CAEQ,iBAAiBA,EAAyB,CAC1C,MAAAC,EAAa,IAAIxD,EAAM,CAC3B,MAAO,QACP,KAAM,OACN,cAAe,GACf,SAAW7J,GAAU,CACd,KAAA,KAAK,mBAAmB,SAC7B,KAAK,kBAAkBA,CAAK,CAC9B,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KAAK,aAAa,OAAA,IAAvB,MAAAA,EAA6C,SAASuJ,GAAc1M,CAAK,GACzE,KAAK,kBAAkBA,CAAK,CAC9B,CAAA,CACD,EACD,KAAK,WAAaqN,EAClB,MAAMhB,EAAW,IAAIU,EAAkB,QAAqBM,EAAW,WAAA,EAAc,IAC5EA,EAAW,UACnB,EACI,KAAA,KAAK,IAAI,QAAqBhB,CAAQ,EAC3C,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,eAAee,EAAyB,CACxC,MAAAE,EAAW,IAAIzD,EAAM,CACzB,MAAO,WACP,KAAM,WACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,qBAAqBA,CAAK,CACjC,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KAAK,aAAa,UAAA,IAAvB,MAAAA,EAAgD,SAASyJ,GAAiB5M,CAAK,GAC/E,KAAK,qBAAqBA,CAAK,CACjC,CAAA,CACD,EACD,KAAK,SAAWsN,EAChB,MAAMjB,EAAW,IAAIU,EAAkB,WAAwBO,EAAS,WAAA,EAAc,IAC7EA,EAAS,UACjB,EACI,KAAA,KAAK,IAAI,WAAwBjB,CAAQ,EAC9C,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,WAAWe,EAAyB,CACpC,MAAAG,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAQ,eAAgB,UAAW,oBAAqB,EACvEA,EAAK,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,MAMjBH,EAAW,YAAYG,CAAI,CAC7B,CAEQ,kBAAkBH,EAAyB,CAC3C,MAAAI,EAAc,IAAI/B,GAAO,CAC7B,KAAM,UACN,SAAU,GACV,QAAU5D,GAAU,CAClB,KAAK,YAAY,CACnB,CAAA,CACD,EACD,KAAK,YAAc2F,EACnB,KAAK,OAAOJ,EAAYI,EAAY,WAAY,CAAA,CAClD,CAEQ,gBAAuB,SAC7B,MAAMC,GAAatK,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,kBAChDsK,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiBzB,EAAW,MAAM,GAEzF,MAAM0B,GAAqBxK,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,oBAChDwK,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiB1B,EAAW,cAAc,EAC3G,CAEQ,kBAAkBhM,EAAqB,UAC7CkD,EAAA,KAAK,cAAL,MAAAA,EAAkB,YAAYlD,EAAM,SAAW,GAAK,GAACmD,EAAA,KAAK,KAAK,aAAa,OAAA,IAAvB,MAAAA,EAA6C,cACpG,CACQ,qBAAqBnD,EAAqB,UAChDkD,EAAA,KAAK,cAAL,MAAAA,EAAkB,YAAYlD,EAAM,SAAW,GAAK,GAACmD,EAAA,KAAK,KAAK,aAAa,UAAA,IAAvB,MAAAA,EAAgD,cACvG,CAEc,aAAc,QAAAkD,EAAA,4CACpB,MAAAsH,GAAWxK,EAAA,KAAK,aAAL,YAAAA,EAAiB,WAC5B8F,GAAW/F,EAAA,KAAK,WAAL,YAAAA,EAAe,WAC5B,GAAA,CAACyK,GAAY,CAAC1E,EAAU,QACvBsD,EAAA,KAAA,cAAA,MAAAA,EAAa,WAAW,IACvB,KAAA,CAAE,MAAAW,EAAO,SAAAU,CAAa,EAAA,MAAM,KAAK,MAAM,MAAM,MAAMD,EAAU1E,CAAQ,EAE3E,IADK4E,EAAA,KAAA,cAAA,MAAAA,EAAa,WAAW,IACzBX,EAAO,CAUT,OAAQU,EAAU,CAChB,IAAK,QACHE,EAAA,KAAK,KAAK,aAAa,OAAmB,IAA1C,MAAAA,EAA6C,SAAS,2BACtD,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,UAAsB,IAA7C,MAAAA,EAAgD,SAAS,oBACzD,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,UAAsB,IAA7C,MAAAA,EAAgD,SAAS,wBACzD,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,UAAsB,IAA7C,MAAAA,EAAgD,SAAS,8BACzD,MACF,SACEC,EAAA,KAAK,KAAK,aAAa,UAAsB,IAA7C,MAAAA,EAAgD,SAAS,yCACzD,KACJ,CACA,MACF,CAEA,KAAK,MAAM,OACb,GAEQ,OAAOC,EAAwBC,EAAsB,CAC3DD,EAAU,YAAYC,CAAO,CAC/B,CACF,CChLO,MAAMC,GAAa,iCACbC,GAAW,mCCKjB,MAAMC,EAAS,CAOpB,YAAYzE,EAAsB,CAHlC,KAAQ,SAAW,GAIZ,KAAA,SAAW,CAAC,CAACA,EAAM,eACxB,KAAK,MAAQA,EAER,KAAA,KAAO,SAAS,cAAc,KAAK,EACxC,KAAK,KAAK,UAAY,sBAEjB,KAAA,cAAgB,SAAS,cAAc,OAAO,EACnD,KAAK,cAAc,KAAO,WAC1B,KAAK,cAAc,UAAY,oBAC1B,KAAA,cAAc,QAAU,KAAK,SAE7B,KAAA,cAAgB,SAAS,cAAc,OAAO,EACnD,KAAK,cAAc,UAAY,oBAE1B,KAAA,KAAK,YAAY,KAAK,aAAa,EACnC,KAAA,KAAK,YAAY,KAAK,aAAa,EAExC,KAAK,KAAK,iBAAiB,QAAS,KAAK,qBAAqB,KAAK,IAAI,CAAC,EAExE,KAAK,oBAAoB,CAC3B,CAEA,YAA0B,CACxB,OAAO,KAAK,IACd,CAEQ,sBAAuB,CACvB,KAAA,CAAE,SAAAM,CAAS,EAAI,KAAK,MACrB,KAAA,SAAW,CAAC,KAAK,SACtB,KAAK,oBAAoB,EACzBA,GAAA,MAAAA,EAAW,KAAK,SAClB,CACQ,qBAAsB,CACxB,KAAK,UACF,KAAA,cAAc,MAAM,YAAc,UAClC,KAAA,cAAc,MAAM,gBAAkB,UAC3C,KAAK,cAAc,QAAU,KAExB,KAAA,cAAc,MAAM,YAAc,UAClC,KAAA,cAAc,MAAM,gBAAkB,cAC3C,KAAK,cAAc,QAAU,GAEjC,CAEA,IAAI,SAAmB,CACrB,OAAO,KAAK,QACd,CACF,CC1CO,MAAMoE,WAA4BvC,EAAe,CAOtD,YAAYC,EAAsBC,EAA4B,CAC5D,MAAMD,CAAK,EACX,KAAK,aAAe,KACf,KAAA,UAAYC,GAAa,GAEzB,KAAA,KAAO,IAAIC,EAClB,CAEA,QAAe,CACT,GAAA,CAAC,KAAK,MAAM,eAAgB,OAC1B,MAAAgB,EAAa,KAAK,MAAM,eAEzB,KAAA,MAAM,SAAS,wBAAyB,oBAAoB,EAGjE,KAAK,iBAAiBA,CAAU,EAGhC,KAAK,eAAeA,CAAU,EAG9B,KAAK,sBAAsBA,CAAU,EAGrC,KAAK,oBAAoBA,CAAU,EAGnC,KAAK,oBAAoBA,CAAU,EAGnC,KAAK,cAAcA,CAAU,EAE7B,KAAK,eAAe,CACtB,CAEQ,cAAcA,EAAyB,CACvC,MAAAqB,EAAe,SAAS,cAAc,KAAK,EACpCA,EAAA,UAAU,IAAI,YAAa,gBAAgB,EACxDA,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpB,KAAA,OAAOrB,EAAYqB,CAAY,CACtC,CAEQ,oBAAoBrB,EAAyB,CAC7C,MAAAsB,EAAe,IAAIjD,GAAO,CAC9B,KAAM,UACN,SAAU,GACV,QAAU5D,GAAU,CAClB,KAAK,aAAa,CACpB,CAAA,CAED,EACD,KAAK,aAAe6G,EACpB,KAAK,OAAOtB,EAAYsB,EAAa,WAAY,CAAA,CACnD,CAEQ,oBAAoBtB,EAAyB,CAC7C,MAAAG,EAAO,SAAS,cAAc,KAAK,EACnCoB,EAAe,SAAS,cAAc,KAAK,EACpCA,EAAA,UAAU,IAAI,eAAgB,SAAS,EACpDA,EAAa,UAAY;AAAA;AAAA;AAAA,mBAGVL,EAAQ;AAAA;AAAA,mBAERD,EAAU;AAAA;AAAA,UAGnB,MAAAO,EAAW,IAAIL,GAAS,CAC5B,eAAgB,GAChB,SAAWM,GAAY,CAChB,KAAA,KAAK,mBAAmB,QAC/B,CAAA,CACD,EACKC,EAAeF,EAAS,aACjBE,EAAA,UAAU,IAAI,uBAAuB,EACrCH,EAAA,aAAaG,EAAcH,EAAa,UAAU,EAC/DpB,EAAK,YAAYoB,CAAY,EAC7B,MAAMtC,EAAW,IAAIU,EAAkB,QAAqB4B,EAAc,IACjEC,EAAS,OACjB,EACI,KAAA,KAAK,IAAI,QAAqBvC,CAAQ,EACtCkB,EAAA,YAAYlB,EAAS,WAAY,CAAA,EAEhC,MAAA0C,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,eAAgB,UAAW,iBAAiB,EACvEA,EAAa,UAAY;AAAA;AAAA,cAGzB,MAAMC,EAAY,IAAIT,GAAS,CAAE,eAAgB,EAAO,CAAA,EAClDU,EAAgBD,EAAU,aAClBC,EAAA,UAAU,IAAI,uBAAuB,EACtCF,EAAA,aAAaE,EAAeF,EAAa,UAAU,EAChExB,EAAK,YAAYwB,CAAY,EAC7B,MAAMG,EAAY,IAAInC,EAAkB,YAAyBgC,EAAc,IACtEC,EAAU,OAClB,EACI,KAAA,KAAK,IAAI,YAAyBE,CAAS,EAC3C3B,EAAA,YAAY2B,EAAU,WAAY,CAAA,EAElC,KAAA,OAAO9B,EAAYG,CAAI,CAC9B,CAEQ,sBAAsBH,EAAyB,CAC/C,MAAA+B,EAAkB,IAAItF,EAAM,CAChC,MAAO,mBACP,KAAM,WACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,qBAAqBA,CAAK,CACjC,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KACF,aAAa,iBAA6B,IAD7C,MAAAA,EAEI,SAAS0J,GAAsB,KAAK,KAAK,iBAAiB,UAAA,EAAyB7M,CAAK,EAC9F,CAAA,CACD,EAED,KAAK,gBAAkBmP,EACvB,MAAM9C,EAAW,IAAIU,EAAkB,kBAA+BoC,EAAgB,WAAA,EAAc,IAC3F,KAAK,gBAAgB,UAC7B,EACI,KAAA,KAAK,IAAI,kBAA+B9C,CAAQ,EACrD,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,eAAee,EAAyB,CACxC,MAAAE,EAAW,IAAIzD,EAAM,CACzB,MAAO,WACP,KAAM,WACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,qBAAqBA,CAAK,CACjC,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KAAK,aAAa,UAAA,IAAvB,MAAAA,EAAgD,SAASyJ,GAAiB5M,CAAK,EACjF,CAAA,CACD,EACD,KAAK,SAAWsN,EAChB,MAAMjB,EAAW,IAAIU,EAAkB,WAAwBO,EAAS,WAAA,EAAc,IAC7E,KAAK,SAAS,UACtB,EACI,KAAA,KAAK,IAAI,WAAwBjB,CAAQ,EAC9C,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,iBAAiBe,EAAyB,CAC1C,MAAAC,EAAa,IAAIxD,EAAM,CAC3B,MAAO,QACP,KAAM,OACN,cAAe,GACf,SAAW7J,GAAU,CACd,KAAA,KAAK,mBAAmB,SAC7B,KAAK,kBAAkBA,CAAK,CAC9B,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KAAK,aAAa,OAAA,IAAvB,MAAAA,EAA6C,SAASuJ,GAAc1M,CAAK,EAC3E,CAAA,CACD,EACD,KAAK,WAAaqN,EAClB,MAAMhB,EAAW,IAAIU,EAAkB,QAAqBM,EAAW,WAAA,EAAc,IAC5E,KAAK,WAAW,UACxB,EACI,KAAA,KAAK,IAAI,QAAqBhB,CAAQ,EAC3C,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,gBAAuB,SAC7B,MAAM+C,GAAajM,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,kBAChDiM,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiBpD,EAAW,KAAK,GAExF,MAAM0B,GAAqBxK,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,oBAChDwK,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiB1B,EAAW,cAAc,EAC3G,CAEQ,kBAAkBhM,EAAqB,QAC7CmD,EAAA,KAAK,eAAL,MAAAA,EAAmB,YAAYnD,EAAM,SAAW,EAClD,CACQ,qBAAqBA,EAAqB,CAElD,CAEc,cAAe,QAAAqG,EAAA,sCAC3B,MAAMsH,EAAW,KAAK,KAAK,iBAAiB,OAAmB,EACzD1E,EAAW,KAAK,KAAK,iBAAiB,UAAsB,EAC/C,KAAK,KAAK,iBAAiB,iBAA6B,EAC3E,MAAMoG,EAAe,CAAC,CAAC,KAAK,KAAK,mBAAmB,SAC9CC,EAAmB,CAAC,CAAC,KAAK,KAAK,mBAAmB,aAExD,GAAI,CAACD,EAAc,EACjBlM,EAAA,KAAK,KACF,aAAa,OAAmB,IADnC,MAAAA,EAEI,SAAS,uEACb,MACF,CAEI,GAAA,CAACwK,GAAY,CAAC1E,EAAU,QACvB/F,EAAA,KAAA,eAAA,MAAAA,EAAc,WAAW,IAC9B,KAAM,CAAE,MAAAgK,EAAO,SAAAU,CAAa,EAAA,MAAMtF,EAAkB,gBAAgB,CAClE,SAAUqF,EACV,SAAA1E,EACA,UAAWqG,CAAA,CACZ,EAED,IADK/C,EAAA,KAAA,eAAA,MAAAA,EAAc,WAAW,IAC1BW,EAAO,CAUT,OAAQU,EAAU,CAChB,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,OAAmB,IAA1C,MAAAA,EAA6C,SAAS,4BACtD,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,UAAsB,IAA7C,MAAAA,EAAgD,SAAS,qBACzD,MACF,SACEC,EAAA,KAAK,KAAK,aAAa,WAAuB,IAA9C,MAAAA,EAAiD,SAAS,0CAC1D,KACJ,CACA,MACF,CAEK,KAAA,MAAM,iBAAiB/B,EAAW,WAAY,CAAE,MAAO2B,EAAU,SAAA1E,EAAU,CAIlF,GAEQ,OAAOkF,EAAwBC,EAAsB,CAC3DD,EAAU,YAAYC,CAAO,CAC/B,CACF,CC1PO,MAAMmB,WAA+BtD,EAAe,CAIzD,YAAYC,EAAsBC,EAA4B,CAC5D,MAAMD,CAAK,EACX,KAAK,eAAiB,KAEjB,KAAA,KAAO,IAAIE,EAClB,CAEA,QAAe,CACT,GAAA,CAAC,KAAK,MAAM,eAAgB,OAC1B,MAAAgB,EAAa,KAAK,MAAM,eAEzB,KAAA,MAAM,SAAS,kBAAmB,qDAAqD,EAG5F,KAAK,iBAAiBA,CAAU,EAGhC,KAAK,gBAAgBA,CAAU,EAG/B,KAAK,eAAeA,CAAU,EAG9B,KAAK,sBAAsBA,CAAU,EAGrC,KAAK,oBAAoBA,CAAU,EAGnC,KAAK,cAAcA,CAAU,EAE7B,KAAK,eAAe,CACtB,CAEQ,iBAAiBA,EAAyB,CAC1C,MAAAC,EAAa,IAAIxD,EAAM,CAC3B,MAAO,QACP,KAAM,OACN,cAAe,GACf,SAAW7J,GAAU,CACd,KAAA,KAAK,mBAAmB,SAC7B,KAAK,kBAAkBA,CAAK,CAC9B,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KAAK,aAAa,OAAA,IAAvB,MAAAA,EAAmD,SAASuJ,GAAc1M,CAAK,EACjF,CAAA,CACD,EAEKqM,EAAW,IAAIU,EAAkB,QAA2BM,EAAW,WAAA,EAAc,IAClFA,EAAW,UACnB,EACI,KAAA,KAAK,IAAI,QAA2BhB,CAAQ,EACjD,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,gBAAgBe,EAAyB,CACzC,MAAAoC,EAAY,IAAI3F,EAAM,CAC1B,MAAO,aACP,KAAM,OACN,SAAW7J,GAAU,CACnB,KAAK,kBAAkBA,CAAK,CAC9B,EACA,qBAAsB,CACpB,QAAS,IAAM,OAEb,GAAI,CADU,KAAK,KAAK,iBAAiB,OAAyB,EACtD,EACVmD,EAAA,KAAK,KAAK,aAAa,OAAyB,IAAhD,MAAAA,EAAmD,SAAS,qBAC5D,MACF,CACkBmF,EAAA,sBAAsB,CAAE,MAAO,KAAK,KAAK,iBAAiB,SAA4B,CAC1G,EACA,eAAgB,IAAM,CAAC,CACzB,CAAA,CACD,EAEK+D,EAAW,IAAIU,EAAkB,OAA0ByC,EAAU,WAAA,EAAc,IAChFA,EAAU,UAClB,EACI,KAAA,KAAK,IAAI,OAA0BnD,CAAQ,EAChD,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,eAAee,EAAyB,CACxC,MAAAE,EAAW,IAAIzD,EAAM,CACzB,MAAO,eACP,KAAM,WACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,qBAAqBA,CAAK,CACjC,CAAA,CACD,EACKqM,EAAW,IAAIU,EAAkB,WAA8BO,EAAS,WAAA,EAAc,IACnFA,EAAS,UACjB,EACI,KAAA,KAAK,IAAI,WAA8BjB,CAAQ,EACpD,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,sBAAsBe,EAAyB,CAC/C,MAAA+B,EAAkB,IAAItF,EAAM,CAChC,MAAO,mBACP,KAAM,WACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,qBAAqBA,CAAK,CACjC,EACA,OAASA,GAAU,QACjBmD,EAAA,KAAK,KACF,aAAa,iBAAmC,IADnD,MAAAA,EAEI,SAAS0J,GAAsB,KAAK,KAAK,iBAAiB,UAAA,EAA+B7M,CAAK,EACpG,CAAA,CACD,EAEKqM,EAAW,IAAIU,EAAkB,kBAAqCoC,EAAgB,WAAA,EAAc,IACjGA,EAAgB,UACxB,EACI,KAAA,KAAK,IAAI,kBAAqC9C,CAAQ,EAC3D,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,oBAAoBe,EAAyB,CAC7C,MAAAqC,EAAiB,IAAIhE,GAAO,CAChC,KAAM,WACN,SAAU,GACV,QAAU5D,GAAU,CAClB,KAAK,qBAAqB,CAC5B,CAAA,CAED,EACD,KAAK,eAAiB4H,EACtB,KAAK,OAAOrC,EAAYqC,EAAe,WAAY,CAAA,CACrD,CAEQ,cAAcrC,EAAyB,CACvC,MAAAqB,EAAe,SAAS,cAAc,KAAK,EACpCA,EAAA,UAAU,IAAI,YAAa,gBAAgB,EACxDA,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpB,KAAA,OAAOrB,EAAYqB,CAAY,CACtC,CAEQ,gBAAuB,SAC7B,MAAMW,GAAajM,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,kBAChDiM,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiBpD,EAAW,KAAK,GAExF,MAAM0B,GAAqBxK,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,oBAChDwK,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiB1B,EAAW,cAAc,EAC3G,CAEQ,kBAAkBhM,EAAqB,QAC7CmD,EAAA,KAAK,iBAAL,MAAAA,EAAqB,YAAYnD,EAAM,SAAW,EACpD,CACQ,qBAAqBA,EAAqB,CAElD,CAEc,sBAAuB,QAAAqG,EAAA,wCACnC,MAAM8C,EAAQ,KAAK,KAAK,iBAAiB,OAAyB,EAC5DF,EAAW,KAAK,KAAK,iBAAiB,UAA4B,EACrD,KAAK,KAAK,iBAAiB,iBAAmC,EACjF,MAAMV,EAAO,KAAK,KAAK,iBAAiB,MAAwB,EAE5D,GAAA,CAACY,GAAS,CAACF,EAAU,QACpB9F,EAAA,KAAA,iBAAA,MAAAA,EAAgB,WAAW,IAChC,KAAM,CAAE,MAAA+J,EAAO,SAAAU,CAAa,EAAA,MAAMtF,EAAkB,cAAc,CAChE,MAAAa,EACA,SAAAF,EACA,KAAAV,CAAA,CACD,EAED,IADKrF,EAAA,KAAA,iBAAA,MAAAA,EAAgB,WAAW,IAC5BgK,EAAO,CAUT,OAAQU,EAAU,CAChB,IAAK,QACHrB,EAAA,KAAK,KAAK,aAAa,MAAwB,IAA/C,MAAAA,EAAkD,SAAS,6BAC3D,MACF,IAAK,QACHsB,EAAA,KAAK,KAAK,aAAa,MAAwB,IAA/C,MAAAA,EAAkD,SAAS,6BAC3D,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,MAAwB,IAA/C,MAAAA,EAAkD,SAAS,6BAC3D,MACF,IAAK,QACHC,EAAA,KAAK,KAAK,aAAa,OAAyB,IAAhD,MAAAA,EAAmD,SAAS,uBAC5D,MACF,SACEC,EAAA,KAAK,KACF,aAAa,iBAAmC,IADnD,MAAAA,EAEI,SAAS,0CACb,KACJ,CACA,MACF,CAEK,KAAA,MAAM,iBAAiBhC,EAAW,eAAe,CACxD,GAEQ,OAAOmC,EAAwBC,EAAsB,CAC3DD,EAAU,YAAYC,CAAO,CAC/B,CACF,CCxOO,MAAMsB,EAAgB,CAAtB,aAAA,CACG,KAAA,cAA+B,GAAI,CAE3C,UAAU5H,EAAgC,CACnC,YAAA,UAAU,IAAIA,CAAQ,EACpB,IAAM,KAAK,UAAU,OAAOA,CAAQ,CAC7C,CAEA,QAAe,CACb,KAAK,UAAU,QAASA,GAAaA,EAAU,CAAA,CACjD,CACF,CCVO,MAAM6H,EAA0B,CAKrC,aAAc,WACP,KAAA,aAAcxM,EAAAqC,EAAY,SAAZ,YAAArC,EAAoB,aAClC,KAAA,cAAeD,EAAAsC,EAAY,SAAZ,YAAAtC,EAAoB,cACnC,KAAA,SAAUqJ,EAAA/G,EAAY,SAAZ,YAAA+G,EAAoB,QACrC,CAEO,UAAU,CACf,YAAAqD,EACA,aAAAC,EACA,QAAAC,CAAA,EAKC,CACD,KAAK,YAAcF,EACnB,KAAK,aAAeC,EACpB,KAAK,QAAUC,EACftK,EAAY,OAAS,CAAE,aAAcoK,EAAa,SAAUE,EAAS,cAAeD,EACtF,CAEO,cAAe,CACpB,KAAK,YAAc,OACnB,KAAK,aAAe,OACpB,KAAK,QAAU,OACfrK,EAAY,aAAa,CAC3B,CACF,CCtBO,MAAMuK,WAA2BL,EAAgB,CAItD,aAAc,CACN,QAJR,KAAO,UAAuB,CAAE,QAAS,GAAO,SAAU,MAMnD,KAAA,aAAe,IAAIC,GAExB,KAAK,gBAAgB,EAErB,KAAK,kBAAkB,CACzB,CAEQ,mBAAoB,CAC1B,MAAMK,EAAwB,CAC5B,QAAS,GACT,SAAU,IAAA,EAEP,KAAA,UAAY,IAAI,MAAMA,EAAY,CACrC,IAAK,CAACzL,EAAQ0L,EAAMjQ,KACduE,EAAO0L,CAAuB,IAAMjQ,IACtCuE,EAAO0L,CAAuB,EAAIjQ,EAClC,KAAK,mBAAmB,EACxB,KAAK,OAAO,GAEP,GACT,CACD,CACH,CAGa,MAAMgJ,EAAkBC,EAAkB,QAAA5C,EAAA,sBAC/C,KAAA,CAAE,MAAA6G,EAAO,SAAAU,EAAU,aAAAlI,EAAc,SAAAC,EAAU,cAAAC,CAAc,EAAI,MAAM0C,EAAkB,aACzFU,EACAC,CAAA,EAGE,MAAA,CAACiE,GAASxH,GAAgBE,GACvB,KAAA,aAAa,UAAU,CAAE,YAAaF,EAAc,aAAcE,EAAe,QAASD,CAAA,CAAU,EAEzG,MAAM,KAAK,cAEX,KAAK,UAAU,QAAU,IAEzB,KAAK,UAAU,QAAU,GAGpB,CAAE,MAAO,CAAC,CAACuH,EAAO,SAAAU,CAAS,CACpC,GAEa,mBAAmBjH,EAAoF,QAAAN,EAAA,yBAApF,CAAE,SAAA2C,EAAU,SAAAC,EAAU,KAAAV,GAA8D,CAC5G,KAAA,CAAE,MAAA2E,EAAO,SAAAU,EAAU,aAAAlI,EAAc,SAAAC,EAAU,cAAAC,CAAc,EAAI,MAAM0C,EAAkB,uBAAuB,CAChH,SAAAU,EACA,SAAAC,EACA,KAAAV,CAAA,CACD,EAEG,MAAA,CAAC2E,GAASxH,GAAgBE,GACvB,KAAA,aAAa,UAAU,CAAE,YAAaF,EAAc,aAAcE,EAAe,QAASD,CAAA,CAAU,EAEzG,MAAM,KAAK,cAEX,KAAK,UAAU,QAAU,IAEzB,KAAK,UAAU,QAAU,GAEpB,CAAE,MAAO,CAAC,CAACuH,EAAO,SAAAU,CAAS,CACpC,GAEc,aAAc,QAAAvH,EAAA,sBACpB,MAAA6J,EAAU,MAAM5H,EAAkB,cACpC,OAAA4H,GAAWA,EAAQ,OAChB,KAAA,UAAU,SAAW7N,IAAA,GAAK,KAAK,UAAU,UAAa6N,GAC3D,KAAK,UAAU,QAAU,IAEpBA,CACT,GAEQ,oBAAqB,CACvB,KAAK,UAAU,WACL1K,EAAA,SAAW,KAAK,UAAU,SAE1C,CAEO,oBAAqB,CAC1B,OAAOA,EAAY,QACrB,CAEc,iBAAkB,QAAAa,EAAA,sBACdgC,GAAA,UAAW/B,GAAmB,CAC5C,KAAK,UAAU,SAAWA,EACrB,KAAA,UAAU,QAAU6J,GAAW,OAAA,CACrC,EAkBI,KAAK,aAAa,SACrB,KAAK,OAAO,CAEhB,GAGO,QAAe,CACpB,KAAK,UAAU,QAAU,GACzB,KAAK,UAAU,SAAW,KAE1B,KAAK,aAAa,cACpB,CACF,CC3HO,MAAMC,WAAgCnE,EAAe,CAK1D,YAAYC,EAAsBC,EAA4B,CAC5D,MAAMD,CAAK,EACX,KAAK,aAAe,KACf,KAAA,UAAYC,GAAa,GAEzB,KAAA,KAAO,IAAIC,EAClB,CAEA,QAAe,CACT,GAAA,CAAC,KAAK,MAAM,eAAgB,OAC1B,MAAAgB,EAAa,KAAK,MAAM,eAE9B,KAAK,MAAM,SAAS,eAAgB,qCAAsC,KAAK,UAAU,KAAK,EAE9F,KAAK,gBAAgBA,CAAU,EAE/B,KAAK,oBAAoBA,CAAU,EAEnC,KAAK,cAAcA,CAAU,EAE7B,KAAK,eAAe,CACtB,CAEQ,gBAAgBA,EAAyB,CAEzC,MAAAiD,EAAa,IAAIxG,EAAM,CAC3B,GAAI,cACJ,MAAO,aACP,KAAM,OACN,cAAe,GACf,SAAW7J,GAAU,CACnB,KAAK,iBAAiBA,CAAK,CAC7B,CAAA,CACD,EAEKqM,EAAW,IAAIU,EAAkB,OAA4BsD,EAAW,WAAA,EAAc,IACnFA,EAAW,UACnB,EACI,KAAA,KAAK,IAAI,OAA4BhE,CAAQ,EAClD,KAAK,OAAOe,EAAYf,EAAS,WAAY,CAAA,CAC/C,CAEQ,oBAAoBe,EAAyB,CAC7C,MAAAsB,EAAe,IAAIjD,GAAO,CAC9B,KAAM,WACN,SAAU,GACV,QAAU5D,GAAU,CAClB,KAAK,qBAAqB,CAC5B,CAAA,CACD,EACD,KAAK,aAAe6G,EACpB,KAAK,OAAOtB,EAAYsB,EAAa,WAAY,CAAA,CACnD,CAEQ,cAActB,EAAyB,CACvC,MAAAqB,EAAe,SAAS,cAAc,KAAK,EACpCA,EAAA,UAAU,IAAI,YAAa,gBAAgB,EACxDA,EAAa,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpB,KAAA,OAAOrB,EAAYqB,CAAY,CACtC,CAEQ,gBAAuB,SAC7B,MAAMW,GAAajM,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,kBAChDiM,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiBpD,EAAW,KAAK,GAExF,MAAM0B,GAAqBxK,EAAA,KAAK,MAAM,iBAAX,YAAAA,EAA2B,cAAc,oBAChDwK,GAAA,MAAAA,EAAA,iBAAiB,QAAS,IAAM,KAAK,MAAM,iBAAiB1B,EAAW,cAAc,EAC3G,CAEQ,iBAAiBhM,EAAqB,QAC5CmD,EAAA,KAAK,eAAL,MAAAA,EAAmB,YAAYnD,EAAM,SAAW,EAClD,CAEQ,OAAOmO,EAAwBC,EAAsB,CAC3DD,EAAU,YAAYC,CAAO,CAC/B,CAEc,sBAAuB,QAAA/H,EAAA,sCACnC,MAAMkC,EAAO,KAAK,KAAK,iBAAiB,MAA0B,EAC5DU,GAAW9F,EAAA,KAAK,YAAL,YAAAA,EAAgB,SAC3B6F,GAAW9F,EAAA,KAAK,YAAL,YAAAA,EAAgB,MAEjC,GAAI,CAAC+F,GAAY,CAACD,GAAY,CAACT,EAAM,QAChCgE,EAAA,KAAA,eAAA,MAAAA,EAAc,WAAW,IACxB,KAAA,CAAE,MAAAW,EAAO,SAAAU,CAAS,EAAI,MAAM,KAAK,MAAM,MAAM,mBAAmB,CACpE,SAAA5E,EACA,SAAAC,EACA,KAAAV,CAAA,CACD,EAED,IADKsF,EAAA,KAAA,eAAA,MAAAA,EAAc,WAAW,IAC1BX,EAAO,CAUT,OAAQU,EAAU,CAChB,IAAK,QACHE,EAAA,KAAK,KAAK,aAAa,MAA0B,IAAjD,MAAAA,EAAoD,SAAS,6BAC7D,MACF,SACEC,EAAA,KAAK,KAAK,aAAa,MAA0B,IAAjD,MAAAA,EAAoD,SAAS,0CAC7D,KACJ,CACA,MACF,CAGA,KAAK,MAAM,OACb,GACF,CCxIe,MAAAuC,GAAA,6vBCQf,SAASC,IAAc,CACf,MAAAjH,EAAO,SAAS,cAAc,KAAK,EACpC,OAAAA,EAAA,UAAU,IAAI,eAAe,EAClCA,EAAK,UAAY;AAAA,kBACDgH,EAAW;AAAA,MAEpBhH,CACT,CAEO,MAAMkH,WAA+BvE,EAAe,CACzD,YAAYC,EAAsBC,EAA4B,CAC5D,MAAMD,CAAK,CACb,CAEA,QAAe,CACT,GAAA,CAAC,KAAK,MAAM,eAAgB,OAC1B,MAAAkB,EAAa,KAAK,MAAM,eAEzB,KAAA,OAAOA,EAAYmD,GAAa,CAAA,EAEhC,KAAA,MAAM,SAAS,6BAA8B,6CAA6C,EAE/F,KAAK,oBAAoBnD,CAAU,CACrC,CAEQ,oBAAoBA,EAAyB,CAC7C,MAAAqD,EAAgB,IAAIhF,GAAO,CAC/B,KAAM,UACN,QAAU5D,GAAU,CACb,KAAA,MAAM,iBAAiBmE,EAAW,KAAK,CAC9C,CAAA,CACD,EACD,KAAK,OAAOoB,EAAYqD,EAAc,WAAY,CAAA,CACpD,CAEQ,OAAOtC,EAAwBC,EAAsB,CAC3DD,EAAU,YAAYC,CAAO,CAC/B,CACF,CCjCO,MAAMsC,CAAc,CAUzB,YAAYC,EAAgB,CAC1B,KAAK,OAASA,EACT,KAAA,aAAe,IAAIxD,GAAoB,IAAI,EAE3C,KAAA,MAAQ,IAAI4C,EACnB,CAEA,WAAkB,UAA0B,CACtC,GAAA,CAACW,EAAc,UACX,MAAA,IAAI,MAAM,2EAA2E,EAE7F,OAAOA,EAAc,SACvB,CAEA,OAAc,KAAKC,EAAsB,CAClCD,EAAc,YACHA,EAAA,UAAY,IAAIA,EAAcC,CAAM,EAEtD,CAEO,MAAa,CACZ,MAAAC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAY,mBACzB,KAAK,aAAeA,EACPA,EAAA,iBAAiB,QAAU/R,GAAM,CACxCA,EAAE,MAEN,CACD,EAEK,MAAAgS,EAAiB,SAAS,cAAc,KAAK,EACnD,KAAK,eAAiBA,EACtBA,EAAe,UAAY,WAE3B,KAAK,oBAAoBA,CAAc,EAEvCD,EAAa,YAAYC,CAAc,EAC9B,SAAA,KAAK,YAAYD,CAAY,EAEtC,KAAK,aAAa,QACpB,CAEO,OAAc,UACnBzN,EAAA,KAAK,iBAAL,MAAAA,EAAqB,UACrBD,EAAA,KAAK,eAAL,MAAAA,EAAmB,QACrB,CAEQ,oBAAoBkK,EAAyB,CAE7C,MAAA9D,EAAO,IAAID,GACN+D,EAAA,YAAY9D,EAAK,WAAY,CAAA,EAGxC,MAAMwH,EAAYtH,GAAgB,aAAc,GAAI,SAAS,EAC7DsH,EAAU,iBAAiB,QAAS,IAAM,KAAK,MAAO,CAAA,EACtDA,EAAU,UAAY,kBACtB1D,EAAW,YAAY0D,CAAS,EAG1B,MAAAC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,4BAC3BA,EAAe,UAAY;AAAA;AAAA;AAAA;AAAA,SAM3B3D,EAAW,YAAY2D,CAAc,CACvC,CAEO,SAASC,EAAeC,EAAkBC,EAAqB,CAC9D,MAAAH,EAAiB,SAAS,cAAc,kBAAkB,EAC1DI,EAAoB,SAAS,cAAc,sBAAsB,EACjEC,EAAsB,SAAS,cAAc,wBAAwB,EAC3EL,EAAgB,UAAYC,EAC5BG,EAAmB,UAAYF,EAC3BG,GAAuBF,IAAYE,EAAqB,UAAYF,EAC1E,CAEQ,eAAgB,CAElB,KAAK,iBACP,KAAK,eAAe,UAAY,GAE3B,KAAA,oBAAoB,KAAK,cAAc,GAE9C,KAAK,aAAa,QAEpB,CAEO,iBAAiBG,EAAmBrK,EAAuB,CAChE,OAAQqK,EAAO,CACb,IAAK,QACH,KAAK,aAAe,IAAIlE,GAAoB,KAAMnG,CAAI,EACtD,MACF,IAAK,SACH,KAAK,aAAe,IAAIwH,GAAoB,KAAMxH,CAAI,EACtD,MACF,IAAK,aACH,KAAK,aAAe,IAAIoJ,GAAwB,KAAMpJ,CAAI,EAC1D,MACF,IAAK,iBACH,KAAK,aAAe,IAAIuI,GAAuB,KAAMvI,CAAI,EACzD,MACF,KAAKgF,EAAW,gBACd,KAAK,aAAe,IAAIwE,GAAuB,KAAMxJ,CAAI,EACzD,KACJ,CACA,KAAK,cAAc,CACrB,CACF,CCrIA,IAAIsK,GAAS,CAAA,EAETC,GAAW,CAAA,EAEfA,GAAS,WAAaC,GACtBD,GAAS,YAAcE,GACvBF,GAAS,cAAgBG,GAOzB,QALIC,EAAS,CAAA,EACTC,EAAY,CAAA,EACZC,GAAM,OAAO,YAAe,YAAc,WAAa,MAEvDtJ,GAAO,mEACFpJ,GAAI,EAAG2S,GAAMvJ,GAAK,OAAQpJ,GAAI2S,GAAK,EAAE3S,GAC5CwS,EAAOxS,EAAC,EAAIoJ,GAAKpJ,EAAC,EAClByS,EAAUrJ,GAAK,WAAWpJ,EAAC,CAAC,EAAIA,GAKlCyS,EAAU,EAAiB,EAAI,GAC/BA,EAAU,EAAiB,EAAI,GAE/B,SAASG,GAASC,EAAK,CACrB,IAAIF,EAAME,EAAI,OAEd,GAAIF,EAAM,EAAI,EACZ,MAAM,IAAI,MAAM,gDAAgD,EAKlE,IAAIG,EAAWD,EAAI,QAAQ,GAAG,EAC1BC,IAAa,KAAIA,EAAWH,GAEhC,IAAII,EAAkBD,IAAaH,EAC/B,EACA,EAAKG,EAAW,EAEpB,MAAO,CAACA,EAAUC,CAAe,CACnC,CAGA,SAASV,GAAYQ,EAAK,CACxB,IAAIG,EAAOJ,GAAQC,CAAG,EAClBC,EAAWE,EAAK,CAAC,EACjBD,EAAkBC,EAAK,CAAC,EAC5B,OAASF,EAAWC,GAAmB,EAAI,EAAKA,CAClD,CAEA,SAASE,GAAaJ,EAAKC,EAAUC,EAAiB,CACpD,OAASD,EAAWC,GAAmB,EAAI,EAAKA,CAClD,CAEA,SAAST,GAAaO,EAAK,CACzB,IAAIK,EACAF,EAAOJ,GAAQC,CAAG,EAClBC,EAAWE,EAAK,CAAC,EACjBD,EAAkBC,EAAK,CAAC,EAExBG,EAAM,IAAIT,GAAIO,GAAYJ,EAAKC,EAAUC,CAAe,CAAC,EAEzDK,EAAU,EAGVT,EAAMI,EAAkB,EACxBD,EAAW,EACXA,EAEA9S,EACJ,IAAKA,EAAI,EAAGA,EAAI2S,EAAK3S,GAAK,EACxBkT,EACGT,EAAUI,EAAI,WAAW7S,CAAC,CAAC,GAAK,GAChCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,GAAK,GACpCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,GAAK,EACrCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,EACjCmT,EAAIC,GAAS,EAAKF,GAAO,GAAM,IAC/BC,EAAIC,GAAS,EAAKF,GAAO,EAAK,IAC9BC,EAAIC,GAAS,EAAIF,EAAM,IAGzB,OAAIH,IAAoB,IACtBG,EACGT,EAAUI,EAAI,WAAW7S,CAAC,CAAC,GAAK,EAChCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,GAAK,EACvCmT,EAAIC,GAAS,EAAIF,EAAM,KAGrBH,IAAoB,IACtBG,EACGT,EAAUI,EAAI,WAAW7S,CAAC,CAAC,GAAK,GAChCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,GAAK,EACpCyS,EAAUI,EAAI,WAAW7S,EAAI,CAAC,CAAC,GAAK,EACvCmT,EAAIC,GAAS,EAAKF,GAAO,EAAK,IAC9BC,EAAIC,GAAS,EAAIF,EAAM,KAGlBC,CACT,CAEA,SAASE,GAAiBC,EAAK,CAC7B,OAAOd,EAAOc,GAAO,GAAK,EAAI,EAC5Bd,EAAOc,GAAO,GAAK,EAAI,EACvBd,EAAOc,GAAO,EAAI,EAAI,EACtBd,EAAOc,EAAM,EAAI,CACrB,CAEA,SAASC,GAAaC,EAAOC,EAAOC,EAAK,CAGvC,QAFIR,EACAS,EAAS,CAAA,EACJ3T,EAAIyT,EAAOzT,EAAI0T,EAAK1T,GAAK,EAChCkT,GACIM,EAAMxT,CAAC,GAAK,GAAM,WAClBwT,EAAMxT,EAAI,CAAC,GAAK,EAAK,QACtBwT,EAAMxT,EAAI,CAAC,EAAI,KAClB2T,EAAO,KAAKN,GAAgBH,CAAG,CAAC,EAElC,OAAOS,EAAO,KAAK,EAAE,CACvB,CAEA,SAASpB,GAAeiB,EAAO,CAQ7B,QAPIN,EACAP,EAAMa,EAAM,OACZI,EAAajB,EAAM,EACnBzM,EAAQ,CAAA,EACR2N,EAAiB,MAGZ7T,EAAI,EAAG8T,EAAOnB,EAAMiB,EAAY5T,EAAI8T,EAAM9T,GAAK6T,EACtD3N,EAAM,KAAKqN,GAAYC,EAAOxT,EAAIA,EAAI6T,EAAkBC,EAAOA,EAAQ9T,EAAI6T,CAAe,CAAC,EAI7F,OAAID,IAAe,GACjBV,EAAMM,EAAMb,EAAM,CAAC,EACnBzM,EAAM,KACJsM,EAAOU,GAAO,CAAC,EACfV,EAAQU,GAAO,EAAK,EAAI,EACxB,IACN,GACaU,IAAe,IACxBV,GAAOM,EAAMb,EAAM,CAAC,GAAK,GAAKa,EAAMb,EAAM,CAAC,EAC3CzM,EAAM,KACJsM,EAAOU,GAAO,EAAE,EAChBV,EAAQU,GAAO,EAAK,EAAI,EACxBV,EAAQU,GAAO,EAAK,EAAI,EACxB,GACN,GAGShN,EAAM,KAAK,EAAE,CACtB,CAEA,IAAI6N,GAAU,CAAA,EAEd,yFAEAA,GAAQ,KAAO,SAAU5B,EAAQ6B,EAAQC,EAAMC,EAAMC,EAAQ,CAC3D,IAAIzU,EAAG0U,EACHC,EAAQF,EAAS,EAAKD,EAAO,EAC7BI,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,EAAQ,GACRxU,EAAIiU,EAAQE,EAAS,EAAK,EAC1BM,EAAIR,EAAO,GAAK,EAChBS,EAAIvC,EAAO6B,EAAShU,CAAC,EAOzB,IALAA,GAAKyU,EAEL/U,EAAIgV,GAAM,GAAM,CAACF,GAAU,EAC3BE,IAAO,CAACF,EACRA,GAASH,EACFG,EAAQ,EAAG9U,EAAKA,EAAI,IAAOyS,EAAO6B,EAAShU,CAAC,EAAGA,GAAKyU,EAAGD,GAAS,EAAG,CAK1E,IAHAJ,EAAI1U,GAAM,GAAM,CAAC8U,GAAU,EAC3B9U,IAAO,CAAC8U,EACRA,GAASN,EACFM,EAAQ,EAAGJ,EAAKA,EAAI,IAAOjC,EAAO6B,EAAShU,CAAC,EAAGA,GAAKyU,EAAGD,GAAS,EAAG,CAE1E,GAAI9U,IAAM,EACRA,EAAI,EAAI6U,MACH,IAAI7U,IAAM4U,EACf,OAAOF,EAAI,KAAQM,EAAI,GAAK,GAAK,MAEjCN,EAAIA,EAAI,KAAK,IAAI,EAAGF,CAAI,EACxBxU,EAAIA,EAAI6U,EAEV,OAAQG,EAAI,GAAK,GAAKN,EAAI,KAAK,IAAI,EAAG1U,EAAIwU,CAAI,CAChD,EAEAH,GAAQ,MAAQ,SAAU5B,EAAQtR,EAAOmT,EAAQC,EAAMC,EAAMC,EAAQ,CACnE,IAAIzU,EAAG,EAAGqF,EACNsP,EAAQF,EAAS,EAAKD,EAAO,EAC7BI,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBK,EAAMT,IAAS,GAAK,KAAK,IAAI,EAAG,GAAG,EAAI,KAAK,IAAI,EAAG,GAAG,EAAI,EAC1DlU,EAAIiU,EAAO,EAAKE,EAAS,EACzBM,EAAIR,EAAO,EAAI,GACfS,EAAI7T,EAAQ,GAAMA,IAAU,GAAK,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQ,KAAK,IAAIA,CAAK,EAElB,MAAMA,CAAK,GAAKA,IAAU,KAC5B,EAAI,MAAMA,CAAK,EAAI,EAAI,EACvBnB,EAAI4U,IAEJ5U,EAAI,KAAK,MAAM,KAAK,IAAImB,CAAK,EAAI,KAAK,GAAG,EACrCA,GAASkE,EAAI,KAAK,IAAI,EAAG,CAACrF,CAAC,GAAK,IAClCA,IACAqF,GAAK,GAEHrF,EAAI6U,GAAS,EACf1T,GAAS8T,EAAK5P,EAEdlE,GAAS8T,EAAK,KAAK,IAAI,EAAG,EAAIJ,CAAK,EAEjC1T,EAAQkE,GAAK,IACfrF,IACAqF,GAAK,GAGHrF,EAAI6U,GAASD,GACf,EAAI,EACJ5U,EAAI4U,GACK5U,EAAI6U,GAAS,GACtB,GAAM1T,EAAQkE,EAAK,GAAK,KAAK,IAAI,EAAGmP,CAAI,EACxCxU,EAAIA,EAAI6U,IAER,EAAI1T,EAAQ,KAAK,IAAI,EAAG0T,EAAQ,CAAC,EAAI,KAAK,IAAI,EAAGL,CAAI,EACrDxU,EAAI,IAIDwU,GAAQ,EAAG/B,EAAO6B,EAAShU,CAAC,EAAI,EAAI,IAAMA,GAAKyU,EAAG,GAAK,IAAKP,GAAQ,EAAG,CAI9E,IAFAxU,EAAKA,GAAKwU,EAAQ,EAClBG,GAAQH,EACDG,EAAO,EAAGlC,EAAO6B,EAAShU,CAAC,EAAIN,EAAI,IAAMM,GAAKyU,EAAG/U,GAAK,IAAK2U,GAAQ,EAAG,CAE7ElC,EAAO6B,EAAShU,EAAIyU,CAAC,GAAKC,EAAI,GAChC,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOC,SAAUE,EAAS,CAEnB,MAAMC,EAASzC,GACT0C,EAAYf,GACZgB,EACH,OAAO,QAAW,YAAc,OAAO,OAAO,KAAW,WACtD,OAAO,IAAO,4BAA4B,EAC1C,KAENH,EAAQ,OAASI,EACjBJ,EAAQ,WAAaK,GACrBL,EAAQ,kBAAoB,GAE5B,MAAMM,EAAe,WACrBN,EAAQ,WAAaM,EACrB,KAAM,CAAE,WAAYC,EAAkB,YAAaC,EAAmB,kBAAmBC,CAAyB,EAAG,WAgBrHL,EAAO,oBAAsBM,IAEzB,CAACN,EAAO,qBAAuB,OAAO,SAAY,aAClD,OAAO,QAAQ,OAAU,YAC3B,QAAQ,MACN,+IAEL,EAGC,SAASM,GAAqB,CAE5B,GAAI,CACF,MAAMnC,EAAM,IAAIgC,EAAiB,CAAC,EAC5BI,EAAQ,CAAE,IAAK,UAAY,CAAE,MAAO,GAAI,CAAA,EAC9C,cAAO,eAAeA,EAAOJ,EAAiB,SAAS,EACvD,OAAO,eAAehC,EAAKoC,CAAK,EACzBpC,EAAI,IAAG,IAAO,EACtB,OAAQzT,EAAG,CACV,MAAO,EACR,CACF,CAED,OAAO,eAAesV,EAAO,UAAW,SAAU,CAChD,WAAY,GACZ,IAAK,UAAY,CACf,GAAKA,EAAO,SAAS,IAAI,EACzB,OAAO,KAAK,MACb,CACJ,CAAE,EAED,OAAO,eAAeA,EAAO,UAAW,SAAU,CAChD,WAAY,GACZ,IAAK,UAAY,CACf,GAAKA,EAAO,SAAS,IAAI,EACzB,OAAO,KAAK,UACb,CACJ,CAAE,EAED,SAASQ,EAAcC,EAAQ,CAC7B,GAAIA,EAASP,EACX,MAAM,IAAI,WAAW,cAAgBO,EAAS,gCAAgC,EAGhF,MAAMC,EAAM,IAAIP,EAAiBM,CAAM,EACvC,cAAO,eAAeC,EAAKV,EAAO,SAAS,EACpCU,CACR,CAYD,SAASV,EAAQW,EAAKC,EAAkBH,EAAQ,CAE9C,GAAI,OAAOE,GAAQ,SAAU,CAC3B,GAAI,OAAOC,GAAqB,SAC9B,MAAM,IAAI,UACR,oEACD,EAEH,OAAOC,EAAYF,CAAG,CACvB,CACD,OAAOG,EAAKH,EAAKC,EAAkBH,CAAM,CAC1C,CAEDT,EAAO,SAAW,KAElB,SAASc,EAAMjV,EAAO+U,EAAkBH,EAAQ,CAC9C,GAAI,OAAO5U,GAAU,SACnB,OAAOkV,EAAWlV,EAAO+U,CAAgB,EAG3C,GAAIR,EAAkB,OAAOvU,CAAK,EAChC,OAAOmV,EAAcnV,CAAK,EAG5B,GAAIA,GAAS,KACX,MAAM,IAAI,UACR,kHAC0C,OAAOA,CAClD,EAQH,GALIoV,EAAWpV,EAAOuU,CAAiB,GAClCvU,GAASoV,EAAWpV,EAAM,OAAQuU,CAAiB,GAIpD,OAAOC,GAA4B,cAClCY,EAAWpV,EAAOwU,CAAuB,GACzCxU,GAASoV,EAAWpV,EAAM,OAAQwU,CAAuB,GAC5D,OAAOa,GAAgBrV,EAAO+U,EAAkBH,CAAM,EAGxD,GAAI,OAAO5U,GAAU,SACnB,MAAM,IAAI,UACR,uEACD,EAGH,MAAMsV,EAAUtV,EAAM,SAAWA,EAAM,QAAO,EAC9C,GAAIsV,GAAW,MAAQA,IAAYtV,EACjC,OAAOmU,EAAO,KAAKmB,EAASP,EAAkBH,CAAM,EAGtD,MAAMnT,EAAI8T,GAAWvV,CAAK,EAC1B,GAAIyB,EAAG,OAAOA,EAEd,GAAI,OAAO,QAAW,aAAe,OAAO,aAAe,MACvD,OAAOzB,EAAM,OAAO,WAAW,GAAM,WACvC,OAAOmU,EAAO,KAAKnU,EAAM,OAAO,WAAW,EAAE,QAAQ,EAAG+U,EAAkBH,CAAM,EAGlF,MAAM,IAAI,UACR,kHAC0C,OAAO5U,CAClD,CACF,CAUDmU,EAAO,KAAO,SAAUnU,EAAO+U,EAAkBH,EAAQ,CACvD,OAAOK,EAAKjV,EAAO+U,EAAkBH,CAAM,CAC9C,EAIC,OAAO,eAAeT,EAAO,UAAWG,EAAiB,SAAS,EAClE,OAAO,eAAeH,EAAQG,CAAgB,EAE9C,SAASkB,EAAY9L,EAAM,CACzB,GAAI,OAAOA,GAAS,SAClB,MAAM,IAAI,UAAU,wCAAwC,EACvD,GAAIA,EAAO,EAChB,MAAM,IAAI,WAAW,cAAgBA,EAAO,gCAAgC,CAE/E,CAED,SAAS+L,EAAO/L,EAAMgM,EAAMC,EAAU,CAEpC,OADAH,EAAW9L,CAAI,EACXA,GAAQ,EACHiL,EAAajL,CAAI,EAEtBgM,IAAS,OAIJ,OAAOC,GAAa,SACvBhB,EAAajL,CAAI,EAAE,KAAKgM,EAAMC,CAAQ,EACtChB,EAAajL,CAAI,EAAE,KAAKgM,CAAI,EAE3Bf,EAAajL,CAAI,CACzB,CAMDyK,EAAO,MAAQ,SAAUzK,EAAMgM,EAAMC,EAAU,CAC7C,OAAOF,EAAM/L,EAAMgM,EAAMC,CAAQ,CACpC,EAEC,SAASX,EAAatL,EAAM,CAC1B,OAAA8L,EAAW9L,CAAI,EACRiL,EAAajL,EAAO,EAAI,EAAImF,GAAQnF,CAAI,EAAI,CAAC,CACrD,CAKDyK,EAAO,YAAc,SAAUzK,EAAM,CACnC,OAAOsL,EAAYtL,CAAI,CAC1B,EAICyK,EAAO,gBAAkB,SAAUzK,EAAM,CACvC,OAAOsL,EAAYtL,CAAI,CAC1B,EAEC,SAASwL,EAAYhV,EAAQyV,EAAU,CAKrC,IAJI,OAAOA,GAAa,UAAYA,IAAa,MAC/CA,EAAW,QAGT,CAACxB,EAAO,WAAWwB,CAAQ,EAC7B,MAAM,IAAI,UAAU,qBAAuBA,CAAQ,EAGrD,MAAMf,EAASpD,GAAWtR,EAAQyV,CAAQ,EAAI,EAC9C,IAAId,EAAMF,EAAaC,CAAM,EAE7B,MAAMgB,EAASf,EAAI,MAAM3U,EAAQyV,CAAQ,EAEzC,OAAIC,IAAWhB,IAIbC,EAAMA,EAAI,MAAM,EAAGe,CAAM,GAGpBf,CACR,CAED,SAASgB,EAAeC,EAAO,CAC7B,MAAMlB,EAASkB,EAAM,OAAS,EAAI,EAAIjH,GAAQiH,EAAM,MAAM,EAAI,EACxDjB,EAAMF,EAAaC,CAAM,EAC/B,QAASzV,EAAI,EAAGA,EAAIyV,EAAQzV,GAAK,EAC/B0V,EAAI1V,CAAC,EAAI2W,EAAM3W,CAAC,EAAI,IAEtB,OAAO0V,CACR,CAED,SAASM,EAAeY,EAAW,CACjC,GAAIX,EAAWW,EAAWzB,CAAgB,EAAG,CAC3C,MAAM0B,EAAO,IAAI1B,EAAiByB,CAAS,EAC3C,OAAOV,GAAgBW,EAAK,OAAQA,EAAK,WAAYA,EAAK,UAAU,CACrE,CACD,OAAOH,EAAcE,CAAS,CAC/B,CAED,SAASV,GAAiBS,EAAOG,EAAYrB,EAAQ,CACnD,GAAIqB,EAAa,GAAKH,EAAM,WAAaG,EACvC,MAAM,IAAI,WAAW,sCAAsC,EAG7D,GAAIH,EAAM,WAAaG,GAAcrB,GAAU,GAC7C,MAAM,IAAI,WAAW,sCAAsC,EAG7D,IAAIC,EACJ,OAAIoB,IAAe,QAAarB,IAAW,OACzCC,EAAM,IAAIP,EAAiBwB,CAAK,EACvBlB,IAAW,OACpBC,EAAM,IAAIP,EAAiBwB,EAAOG,CAAU,EAE5CpB,EAAM,IAAIP,EAAiBwB,EAAOG,EAAYrB,CAAM,EAItD,OAAO,eAAeC,EAAKV,EAAO,SAAS,EAEpCU,CACR,CAED,SAASU,GAAYW,EAAK,CACxB,GAAI/B,EAAO,SAAS+B,CAAG,EAAG,CACxB,MAAMpE,EAAMjD,GAAQqH,EAAI,MAAM,EAAI,EAC5BrB,EAAMF,EAAa7C,CAAG,EAE5B,OAAI+C,EAAI,SAAW,GAInBqB,EAAI,KAAKrB,EAAK,EAAG,EAAG/C,CAAG,EAChB+C,CACR,CAED,GAAIqB,EAAI,SAAW,OACjB,OAAI,OAAOA,EAAI,QAAW,UAAYC,GAAYD,EAAI,MAAM,EACnDvB,EAAa,CAAC,EAEhBkB,EAAcK,CAAG,EAG1B,GAAIA,EAAI,OAAS,UAAY,MAAM,QAAQA,EAAI,IAAI,EACjD,OAAOL,EAAcK,EAAI,IAAI,CAEhC,CAED,SAASrH,GAAS+F,EAAQ,CAGxB,GAAIA,GAAUP,EACZ,MAAM,IAAI,WAAW,0DACaA,EAAa,SAAS,EAAE,EAAI,QAAQ,EAExE,OAAOO,EAAS,CACjB,CAED,SAASR,GAAYQ,EAAQ,CAC3B,MAAI,CAACA,GAAUA,IACbA,EAAS,GAEJT,EAAO,MAAM,CAACS,CAAM,CAC5B,CAEDT,EAAO,SAAW,SAAmB1S,EAAG,CACtC,OAAOA,GAAK,MAAQA,EAAE,YAAc,IAClCA,IAAM0S,EAAO,SAClB,EAECA,EAAO,QAAU,SAAkB3S,EAAGC,EAAG,CAGvC,GAFI2T,EAAW5T,EAAG8S,CAAgB,IAAG9S,EAAI2S,EAAO,KAAK3S,EAAGA,EAAE,OAAQA,EAAE,UAAU,GAC1E4T,EAAW3T,EAAG6S,CAAgB,IAAG7S,EAAI0S,EAAO,KAAK1S,EAAGA,EAAE,OAAQA,EAAE,UAAU,GAC1E,CAAC0S,EAAO,SAAS3S,CAAC,GAAK,CAAC2S,EAAO,SAAS1S,CAAC,EAC3C,MAAM,IAAI,UACR,uEACD,EAGH,GAAID,IAAMC,EAAG,MAAO,GAEpB,IAAIlB,EAAIiB,EAAE,OACN4U,EAAI3U,EAAE,OAEV,QAAStC,EAAI,EAAG2S,EAAM,KAAK,IAAIvR,EAAG6V,CAAC,EAAGjX,EAAI2S,EAAK,EAAE3S,EAC/C,GAAIqC,EAAErC,CAAC,IAAMsC,EAAEtC,CAAC,EAAG,CACjBoB,EAAIiB,EAAErC,CAAC,EACPiX,EAAI3U,EAAEtC,CAAC,EACP,KACD,CAGH,OAAIoB,EAAI6V,EAAU,GACdA,EAAI7V,EAAU,EACX,CACV,EAEC4T,EAAO,WAAa,SAAqBwB,EAAU,CACjD,OAAQ,OAAOA,CAAQ,EAAE,YAAa,EAAA,CACpC,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,MAAO,GACT,QACE,MAAO,EACV,CACJ,EAECxB,EAAO,OAAS,SAAiBkC,EAAMzB,EAAQ,CAC7C,GAAI,CAAC,MAAM,QAAQyB,CAAI,EACrB,MAAM,IAAI,UAAU,6CAA6C,EAGnE,GAAIA,EAAK,SAAW,EAClB,OAAOlC,EAAO,MAAM,CAAC,EAGvB,IAAIhV,EACJ,GAAIyV,IAAW,OAEb,IADAA,EAAS,EACJzV,EAAI,EAAGA,EAAIkX,EAAK,OAAQ,EAAElX,EAC7ByV,GAAUyB,EAAKlX,CAAC,EAAE,OAItB,MAAMmS,EAAS6C,EAAO,YAAYS,CAAM,EACxC,IAAI0B,EAAM,EACV,IAAKnX,EAAI,EAAGA,EAAIkX,EAAK,OAAQ,EAAElX,EAAG,CAChC,IAAI0V,EAAMwB,EAAKlX,CAAC,EAChB,GAAIiW,EAAWP,EAAKP,CAAgB,EAC9BgC,EAAMzB,EAAI,OAASvD,EAAO,QACvB6C,EAAO,SAASU,CAAG,IAAGA,EAAMV,EAAO,KAAKU,CAAG,GAChDA,EAAI,KAAKvD,EAAQgF,CAAG,GAEpBhC,EAAiB,UAAU,IAAI,KAC7BhD,EACAuD,EACAyB,CACX,UAEiBnC,EAAO,SAASU,CAAG,EAG7BA,EAAI,KAAKvD,EAAQgF,CAAG,MAFpB,OAAM,IAAI,UAAU,6CAA6C,EAInEA,GAAOzB,EAAI,MACZ,CACD,OAAOvD,CACV,EAEC,SAASE,GAAYtR,EAAQyV,EAAU,CACrC,GAAIxB,EAAO,SAASjU,CAAM,EACxB,OAAOA,EAAO,OAEhB,GAAIqU,EAAkB,OAAOrU,CAAM,GAAKkV,EAAWlV,EAAQqU,CAAiB,EAC1E,OAAOrU,EAAO,WAEhB,GAAI,OAAOA,GAAW,SACpB,MAAM,IAAI,UACR,2FACmB,OAAOA,CAC3B,EAGH,MAAM4R,EAAM5R,EAAO,OACbqW,EAAa,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,GAC5D,GAAI,CAACA,GAAazE,IAAQ,EAAG,MAAO,GAGpC,IAAI0E,EAAc,GAClB,OACE,OAAQb,EAAQ,CACd,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO7D,EACT,IAAK,OACL,IAAK,QACH,OAAO2E,GAAYvW,CAAM,EAAE,OAC7B,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAO4R,EAAM,EACf,IAAK,MACH,OAAOA,IAAQ,EACjB,IAAK,SACH,OAAO4E,GAAcxW,CAAM,EAAE,OAC/B,QACE,GAAIsW,EACF,OAAOD,EAAY,GAAKE,GAAYvW,CAAM,EAAE,OAE9CyV,GAAY,GAAKA,GAAU,YAAW,EACtCa,EAAc,EACjB,CAEJ,CACDrC,EAAO,WAAa3C,GAEpB,SAASmF,GAAchB,EAAU/C,EAAOC,EAAK,CAC3C,IAAI2D,EAAc,GA8BlB,IArBI5D,IAAU,QAAaA,EAAQ,KACjCA,EAAQ,GAINA,EAAQ,KAAK,UAIbC,IAAQ,QAAaA,EAAM,KAAK,UAClCA,EAAM,KAAK,QAGTA,GAAO,KAKXA,KAAS,EACTD,KAAW,EAEPC,GAAOD,GACT,MAAO,GAKT,IAFK+C,IAAUA,EAAW,UAGxB,OAAQA,EAAQ,CACd,IAAK,MACH,OAAOiB,GAAS,KAAMhE,EAAOC,CAAG,EAElC,IAAK,OACL,IAAK,QACH,OAAOgE,GAAU,KAAMjE,EAAOC,CAAG,EAEnC,IAAK,QACH,OAAOiE,GAAW,KAAMlE,EAAOC,CAAG,EAEpC,IAAK,SACL,IAAK,SACH,OAAOkE,GAAY,KAAMnE,EAAOC,CAAG,EAErC,IAAK,SACH,OAAOmE,GAAY,KAAMpE,EAAOC,CAAG,EAErC,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOoE,GAAa,KAAMrE,EAAOC,CAAG,EAEtC,QACE,GAAI2D,EAAa,MAAM,IAAI,UAAU,qBAAuBb,CAAQ,EACpEA,GAAYA,EAAW,IAAI,YAAW,EACtCa,EAAc,EACjB,CAEJ,CAQDrC,EAAO,UAAU,UAAY,GAE7B,SAAS+C,GAAMzV,EAAG0C,EAAGoP,EAAG,CACtB,MAAMpU,EAAIsC,EAAE0C,CAAC,EACb1C,EAAE0C,CAAC,EAAI1C,EAAE8R,CAAC,EACV9R,EAAE8R,CAAC,EAAIpU,CACR,CAEDgV,EAAO,UAAU,OAAS,UAAmB,CAC3C,MAAMrC,EAAM,KAAK,OACjB,GAAIA,EAAM,IAAM,EACd,MAAM,IAAI,WAAW,2CAA2C,EAElE,QAAS3S,EAAI,EAAGA,EAAI2S,EAAK3S,GAAK,EAC5B+X,GAAK,KAAM/X,EAAGA,EAAI,CAAC,EAErB,OAAO,IACV,EAECgV,EAAO,UAAU,OAAS,UAAmB,CAC3C,MAAMrC,EAAM,KAAK,OACjB,GAAIA,EAAM,IAAM,EACd,MAAM,IAAI,WAAW,2CAA2C,EAElE,QAAS3S,EAAI,EAAGA,EAAI2S,EAAK3S,GAAK,EAC5B+X,GAAK,KAAM/X,EAAGA,EAAI,CAAC,EACnB+X,GAAK,KAAM/X,EAAI,EAAGA,EAAI,CAAC,EAEzB,OAAO,IACV,EAECgV,EAAO,UAAU,OAAS,UAAmB,CAC3C,MAAMrC,EAAM,KAAK,OACjB,GAAIA,EAAM,IAAM,EACd,MAAM,IAAI,WAAW,2CAA2C,EAElE,QAAS3S,EAAI,EAAGA,EAAI2S,EAAK3S,GAAK,EAC5B+X,GAAK,KAAM/X,EAAGA,EAAI,CAAC,EACnB+X,GAAK,KAAM/X,EAAI,EAAGA,EAAI,CAAC,EACvB+X,GAAK,KAAM/X,EAAI,EAAGA,EAAI,CAAC,EACvB+X,GAAK,KAAM/X,EAAI,EAAGA,EAAI,CAAC,EAEzB,OAAO,IACV,EAECgV,EAAO,UAAU,SAAW,UAAqB,CAC/C,MAAMS,EAAS,KAAK,OACpB,OAAIA,IAAW,EAAU,GACrB,UAAU,SAAW,EAAUiC,GAAU,KAAM,EAAGjC,CAAM,EACrD+B,GAAa,MAAM,KAAM,SAAS,CAC5C,EAECxC,EAAO,UAAU,eAAiBA,EAAO,UAAU,SAEnDA,EAAO,UAAU,OAAS,SAAiB1S,EAAG,CAC5C,GAAI,CAAC0S,EAAO,SAAS1S,CAAC,EAAG,MAAM,IAAI,UAAU,2BAA2B,EACxE,OAAI,OAASA,EAAU,GAChB0S,EAAO,QAAQ,KAAM1S,CAAC,IAAM,CACtC,EAEC0S,EAAO,UAAU,QAAU,UAAoB,CAC7C,IAAIgD,EAAM,GACV,MAAMC,EAAMrD,EAAQ,kBACpB,OAAAoD,EAAM,KAAK,SAAS,MAAO,EAAGC,CAAG,EAAE,QAAQ,UAAW,KAAK,EAAE,KAAI,EAC7D,KAAK,OAASA,IAAKD,GAAO,SACvB,WAAaA,EAAM,GAC7B,EACKjD,IACFC,EAAO,UAAUD,CAAmB,EAAIC,EAAO,UAAU,SAG3DA,EAAO,UAAU,QAAU,SAAkB5P,EAAQqO,EAAOC,EAAKwE,EAAWC,EAAS,CAInF,GAHIlC,EAAW7Q,EAAQ+P,CAAgB,IACrC/P,EAAS4P,EAAO,KAAK5P,EAAQA,EAAO,OAAQA,EAAO,UAAU,GAE3D,CAAC4P,EAAO,SAAS5P,CAAM,EACzB,MAAM,IAAI,UACR,iFACoB,OAAOA,CAC5B,EAgBH,GAbIqO,IAAU,SACZA,EAAQ,GAENC,IAAQ,SACVA,EAAMtO,EAASA,EAAO,OAAS,GAE7B8S,IAAc,SAChBA,EAAY,GAEVC,IAAY,SACdA,EAAU,KAAK,QAGb1E,EAAQ,GAAKC,EAAMtO,EAAO,QAAU8S,EAAY,GAAKC,EAAU,KAAK,OACtE,MAAM,IAAI,WAAW,oBAAoB,EAG3C,GAAID,GAAaC,GAAW1E,GAASC,EACnC,MAAO,GAET,GAAIwE,GAAaC,EACf,MAAO,GAET,GAAI1E,GAASC,EACX,MAAO,GAQT,GALAD,KAAW,EACXC,KAAS,EACTwE,KAAe,EACfC,KAAa,EAET,OAAS/S,EAAQ,MAAO,GAE5B,IAAIhE,EAAI+W,EAAUD,EACdjB,EAAIvD,EAAMD,EACd,MAAMd,EAAM,KAAK,IAAIvR,EAAG6V,CAAC,EAEnBmB,EAAW,KAAK,MAAMF,EAAWC,CAAO,EACxCE,EAAajT,EAAO,MAAMqO,EAAOC,CAAG,EAE1C,QAAS1T,EAAI,EAAGA,EAAI2S,EAAK,EAAE3S,EACzB,GAAIoY,EAASpY,CAAC,IAAMqY,EAAWrY,CAAC,EAAG,CACjCoB,EAAIgX,EAASpY,CAAC,EACdiX,EAAIoB,EAAWrY,CAAC,EAChB,KACD,CAGH,OAAIoB,EAAI6V,EAAU,GACdA,EAAI7V,EAAU,EACX,CACV,EAWC,SAASkX,GAAsBnG,EAAQoG,EAAKzB,EAAYN,EAAUgC,EAAK,CAErE,GAAIrG,EAAO,SAAW,EAAG,MAAO,GAmBhC,GAhBI,OAAO2E,GAAe,UACxBN,EAAWM,EACXA,EAAa,GACJA,EAAa,WACtBA,EAAa,WACJA,EAAa,cACtBA,EAAa,aAEfA,EAAa,CAACA,EACVE,GAAYF,CAAU,IAExBA,EAAa0B,EAAM,EAAKrG,EAAO,OAAS,GAItC2E,EAAa,IAAGA,EAAa3E,EAAO,OAAS2E,GAC7CA,GAAc3E,EAAO,OAAQ,CAC/B,GAAIqG,EAAK,MAAO,GACX1B,EAAa3E,EAAO,OAAS,CACvC,SAAc2E,EAAa,EACtB,GAAI0B,EAAK1B,EAAa,MACjB,OAAO,GASd,GALI,OAAOyB,GAAQ,WACjBA,EAAMvD,EAAO,KAAKuD,EAAK/B,CAAQ,GAI7BxB,EAAO,SAASuD,CAAG,EAErB,OAAIA,EAAI,SAAW,EACV,GAEFE,GAAatG,EAAQoG,EAAKzB,EAAYN,EAAUgC,CAAG,EACrD,GAAI,OAAOD,GAAQ,SAExB,OADAA,EAAMA,EAAM,IACR,OAAOpD,EAAiB,UAAU,SAAY,WAC5CqD,EACKrD,EAAiB,UAAU,QAAQ,KAAKhD,EAAQoG,EAAKzB,CAAU,EAE/D3B,EAAiB,UAAU,YAAY,KAAKhD,EAAQoG,EAAKzB,CAAU,EAGvE2B,GAAatG,EAAQ,CAACoG,CAAG,EAAGzB,EAAYN,EAAUgC,CAAG,EAG9D,MAAM,IAAI,UAAU,sCAAsC,CAC3D,CAED,SAASC,GAActF,EAAKoF,EAAKzB,EAAYN,EAAUgC,EAAK,CAC1D,IAAIE,EAAY,EACZC,EAAYxF,EAAI,OAChByF,EAAYL,EAAI,OAEpB,GAAI/B,IAAa,SACfA,EAAW,OAAOA,CAAQ,EAAE,YAAW,EACnCA,IAAa,QAAUA,IAAa,SACpCA,IAAa,WAAaA,IAAa,YAAY,CACrD,GAAIrD,EAAI,OAAS,GAAKoF,EAAI,OAAS,EACjC,MAAO,GAETG,EAAY,EACZC,GAAa,EACbC,GAAa,EACb9B,GAAc,CACf,CAGH,SAAS+B,EAAMnD,EAAK1V,EAAG,CACrB,OAAI0Y,IAAc,EACThD,EAAI1V,CAAC,EAEL0V,EAAI,aAAa1V,EAAI0Y,CAAS,CAExC,CAED,IAAI1Y,EACJ,GAAIwY,EAAK,CACP,IAAIM,EAAa,GACjB,IAAK9Y,EAAI8W,EAAY9W,EAAI2Y,EAAW3Y,IAClC,GAAI6Y,EAAK1F,EAAKnT,CAAC,IAAM6Y,EAAKN,EAAKO,IAAe,GAAK,EAAI9Y,EAAI8Y,CAAU,GAEnE,GADIA,IAAe,KAAIA,EAAa9Y,GAChCA,EAAI8Y,EAAa,IAAMF,EAAW,OAAOE,EAAaJ,OAEtDI,IAAe,KAAI9Y,GAAKA,EAAI8Y,GAChCA,EAAa,EAGtB,KAEK,KADIhC,EAAa8B,EAAYD,IAAW7B,EAAa6B,EAAYC,GAC5D5Y,EAAI8W,EAAY9W,GAAK,EAAGA,IAAK,CAChC,IAAImG,EAAQ,GACZ,QAAS4S,EAAI,EAAGA,EAAIH,EAAWG,IAC7B,GAAIF,EAAK1F,EAAKnT,EAAI+Y,CAAC,IAAMF,EAAKN,EAAKQ,CAAC,EAAG,CACrC5S,EAAQ,GACR,KACD,CAEH,GAAIA,EAAO,OAAOnG,CACnB,CAGH,MAAO,EACR,CAEDgV,EAAO,UAAU,SAAW,SAAmBuD,EAAKzB,EAAYN,EAAU,CACxE,OAAO,KAAK,QAAQ+B,EAAKzB,EAAYN,CAAQ,IAAM,EACtD,EAECxB,EAAO,UAAU,QAAU,SAAkBuD,EAAKzB,EAAYN,EAAU,CACtE,OAAO8B,GAAqB,KAAMC,EAAKzB,EAAYN,EAAU,EAAI,CACpE,EAECxB,EAAO,UAAU,YAAc,SAAsBuD,EAAKzB,EAAYN,EAAU,CAC9E,OAAO8B,GAAqB,KAAMC,EAAKzB,EAAYN,EAAU,EAAK,CACrE,EAEC,SAASwC,GAAUtD,EAAK3U,EAAQiT,EAAQyB,EAAQ,CAC9CzB,EAAS,OAAOA,CAAM,GAAK,EAC3B,MAAMiF,EAAYvD,EAAI,OAAS1B,EAC1ByB,GAGHA,EAAS,OAAOA,CAAM,EAClBA,EAASwD,IACXxD,EAASwD,IAJXxD,EAASwD,EAQX,MAAMC,EAASnY,EAAO,OAElB0U,EAASyD,EAAS,IACpBzD,EAASyD,EAAS,GAEpB,IAAIlZ,EACJ,IAAKA,EAAI,EAAGA,EAAIyV,EAAQ,EAAEzV,EAAG,CAC3B,MAAMmZ,EAAS,SAASpY,EAAO,OAAOf,EAAI,EAAG,CAAC,EAAG,EAAE,EACnD,GAAIgX,GAAYmC,CAAM,EAAG,OAAOnZ,EAChC0V,EAAI1B,EAAShU,CAAC,EAAImZ,CACnB,CACD,OAAOnZ,CACR,CAED,SAASoZ,GAAW1D,EAAK3U,EAAQiT,EAAQyB,EAAQ,CAC/C,OAAO4D,GAAW/B,GAAYvW,EAAQ2U,EAAI,OAAS1B,CAAM,EAAG0B,EAAK1B,EAAQyB,CAAM,CAChF,CAED,SAAS6D,GAAY5D,EAAK3U,EAAQiT,EAAQyB,EAAQ,CAChD,OAAO4D,GAAWE,GAAaxY,CAAM,EAAG2U,EAAK1B,EAAQyB,CAAM,CAC5D,CAED,SAAS+D,GAAa9D,EAAK3U,EAAQiT,EAAQyB,EAAQ,CACjD,OAAO4D,GAAW9B,GAAcxW,CAAM,EAAG2U,EAAK1B,EAAQyB,CAAM,CAC7D,CAED,SAASgE,GAAW/D,EAAK3U,EAAQiT,EAAQyB,EAAQ,CAC/C,OAAO4D,GAAWK,GAAe3Y,EAAQ2U,EAAI,OAAS1B,CAAM,EAAG0B,EAAK1B,EAAQyB,CAAM,CACnF,CAEDT,EAAO,UAAU,MAAQ,SAAgBjU,EAAQiT,EAAQyB,EAAQe,EAAU,CAEzE,GAAIxC,IAAW,OACbwC,EAAW,OACXf,EAAS,KAAK,OACdzB,EAAS,UAEAyB,IAAW,QAAa,OAAOzB,GAAW,SACnDwC,EAAWxC,EACXyB,EAAS,KAAK,OACdzB,EAAS,UAEA,SAASA,CAAM,EACxBA,EAASA,IAAW,EAChB,SAASyB,CAAM,GACjBA,EAASA,IAAW,EAChBe,IAAa,SAAWA,EAAW,UAEvCA,EAAWf,EACXA,EAAS,YAGX,OAAM,IAAI,MACR,yEACD,EAGH,MAAMwD,EAAY,KAAK,OAASjF,EAGhC,IAFIyB,IAAW,QAAaA,EAASwD,KAAWxD,EAASwD,GAEpDlY,EAAO,OAAS,IAAM0U,EAAS,GAAKzB,EAAS,IAAOA,EAAS,KAAK,OACrE,MAAM,IAAI,WAAW,wCAAwC,EAG1DwC,IAAUA,EAAW,QAE1B,IAAIa,EAAc,GAClB,OACE,OAAQb,EAAQ,CACd,IAAK,MACH,OAAOwC,GAAS,KAAMjY,EAAQiT,EAAQyB,CAAM,EAE9C,IAAK,OACL,IAAK,QACH,OAAO2D,GAAU,KAAMrY,EAAQiT,EAAQyB,CAAM,EAE/C,IAAK,QACL,IAAK,SACL,IAAK,SACH,OAAO6D,GAAW,KAAMvY,EAAQiT,EAAQyB,CAAM,EAEhD,IAAK,SAEH,OAAO+D,GAAY,KAAMzY,EAAQiT,EAAQyB,CAAM,EAEjD,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,WACH,OAAOgE,GAAU,KAAM1Y,EAAQiT,EAAQyB,CAAM,EAE/C,QACE,GAAI4B,EAAa,MAAM,IAAI,UAAU,qBAAuBb,CAAQ,EACpEA,GAAY,GAAKA,GAAU,YAAW,EACtCa,EAAc,EACjB,CAEN,EAECrC,EAAO,UAAU,OAAS,UAAmB,CAC3C,MAAO,CACL,KAAM,SACN,KAAM,MAAM,UAAU,MAAM,KAAK,KAAK,MAAQ,KAAM,CAAC,CACtD,CACJ,EAEC,SAAS6C,GAAanC,EAAKjC,EAAOC,EAAK,CACrC,OAAID,IAAU,GAAKC,IAAQgC,EAAI,OACtBb,EAAO,cAAca,CAAG,EAExBb,EAAO,cAAca,EAAI,MAAMjC,EAAOC,CAAG,CAAC,CAEpD,CAED,SAASgE,GAAWhC,EAAKjC,EAAOC,EAAK,CACnCA,EAAM,KAAK,IAAIgC,EAAI,OAAQhC,CAAG,EAC9B,MAAMvM,EAAM,CAAA,EAEZ,IAAInH,EAAIyT,EACR,KAAOzT,EAAI0T,GAAK,CACd,MAAMiG,EAAYjE,EAAI1V,CAAC,EACvB,IAAI4Z,EAAY,KACZC,EAAoBF,EAAY,IAChC,EACCA,EAAY,IACT,EACCA,EAAY,IACT,EACA,EAEZ,GAAI3Z,EAAI6Z,GAAoBnG,EAAK,CAC/B,IAAIoG,EAAYC,EAAWC,EAAYC,EAEvC,OAAQJ,EAAgB,CACtB,IAAK,GACCF,EAAY,MACdC,EAAYD,GAEd,MACF,IAAK,GACHG,EAAapE,EAAI1V,EAAI,CAAC,GACjB8Z,EAAa,OAAU,MAC1BG,GAAiBN,EAAY,KAAS,EAAOG,EAAa,GACtDG,EAAgB,MAClBL,EAAYK,IAGhB,MACF,IAAK,GACHH,EAAapE,EAAI1V,EAAI,CAAC,EACtB+Z,EAAYrE,EAAI1V,EAAI,CAAC,GAChB8Z,EAAa,OAAU,MAASC,EAAY,OAAU,MACzDE,GAAiBN,EAAY,KAAQ,IAAOG,EAAa,KAAS,EAAOC,EAAY,GACjFE,EAAgB,OAAUA,EAAgB,OAAUA,EAAgB,SACtEL,EAAYK,IAGhB,MACF,IAAK,GACHH,EAAapE,EAAI1V,EAAI,CAAC,EACtB+Z,EAAYrE,EAAI1V,EAAI,CAAC,EACrBga,EAAatE,EAAI1V,EAAI,CAAC,GACjB8Z,EAAa,OAAU,MAASC,EAAY,OAAU,MAASC,EAAa,OAAU,MACzFC,GAAiBN,EAAY,KAAQ,IAAQG,EAAa,KAAS,IAAOC,EAAY,KAAS,EAAOC,EAAa,GAC/GC,EAAgB,OAAUA,EAAgB,UAC5CL,EAAYK,GAGnB,CACF,CAEGL,IAAc,MAGhBA,EAAY,MACZC,EAAmB,GACVD,EAAY,QAErBA,GAAa,MACbzS,EAAI,KAAKyS,IAAc,GAAK,KAAQ,KAAM,EAC1CA,EAAY,MAASA,EAAY,MAGnCzS,EAAI,KAAKyS,CAAS,EAClB5Z,GAAK6Z,CACN,CAED,OAAOK,GAAsB/S,CAAG,CACjC,CAKD,MAAMgT,GAAuB,KAE7B,SAASD,GAAuBE,EAAY,CAC1C,MAAMzH,EAAMyH,EAAW,OACvB,GAAIzH,GAAOwH,GACT,OAAO,OAAO,aAAa,MAAM,OAAQC,CAAU,EAIrD,IAAIjT,EAAM,GACNnH,EAAI,EACR,KAAOA,EAAI2S,GACTxL,GAAO,OAAO,aAAa,MACzB,OACAiT,EAAW,MAAMpa,EAAGA,GAAKma,EAAoB,CACpD,EAEG,OAAOhT,CACR,CAED,SAASwQ,GAAYjC,EAAKjC,EAAOC,EAAK,CACpC,IAAI2G,EAAM,GACV3G,EAAM,KAAK,IAAIgC,EAAI,OAAQhC,CAAG,EAE9B,QAAS1T,EAAIyT,EAAOzT,EAAI0T,EAAK,EAAE1T,EAC7Bqa,GAAO,OAAO,aAAa3E,EAAI1V,CAAC,EAAI,GAAI,EAE1C,OAAOqa,CACR,CAED,SAASzC,GAAalC,EAAKjC,EAAOC,EAAK,CACrC,IAAI2G,EAAM,GACV3G,EAAM,KAAK,IAAIgC,EAAI,OAAQhC,CAAG,EAE9B,QAAS1T,EAAIyT,EAAOzT,EAAI0T,EAAK,EAAE1T,EAC7Bqa,GAAO,OAAO,aAAa3E,EAAI1V,CAAC,CAAC,EAEnC,OAAOqa,CACR,CAED,SAAS5C,GAAU/B,EAAKjC,EAAOC,EAAK,CAClC,MAAMf,EAAM+C,EAAI,QAEZ,CAACjC,GAASA,EAAQ,KAAGA,EAAQ,IAC7B,CAACC,GAAOA,EAAM,GAAKA,EAAMf,KAAKe,EAAMf,GAExC,IAAI2H,EAAM,GACV,QAASta,EAAIyT,EAAOzT,EAAI0T,EAAK,EAAE1T,EAC7Bsa,GAAOC,GAAoB7E,EAAI1V,CAAC,CAAC,EAEnC,OAAOsa,CACR,CAED,SAASxC,GAAcpC,EAAKjC,EAAOC,EAAK,CACtC,MAAM8G,EAAQ9E,EAAI,MAAMjC,EAAOC,CAAG,EAClC,IAAIvM,EAAM,GAEV,QAASnH,EAAI,EAAGA,EAAIwa,EAAM,OAAS,EAAGxa,GAAK,EACzCmH,GAAO,OAAO,aAAaqT,EAAMxa,CAAC,EAAKwa,EAAMxa,EAAI,CAAC,EAAI,GAAI,EAE5D,OAAOmH,CACR,CAED6N,EAAO,UAAU,MAAQ,SAAgBvB,EAAOC,EAAK,CACnD,MAAMf,EAAM,KAAK,OACjBc,EAAQ,CAAC,CAACA,EACVC,EAAMA,IAAQ,OAAYf,EAAM,CAAC,CAACe,EAE9BD,EAAQ,GACVA,GAASd,EACLc,EAAQ,IAAGA,EAAQ,IACdA,EAAQd,IACjBc,EAAQd,GAGNe,EAAM,GACRA,GAAOf,EACHe,EAAM,IAAGA,EAAM,IACVA,EAAMf,IACfe,EAAMf,GAGJe,EAAMD,IAAOC,EAAMD,GAEvB,MAAMgH,EAAS,KAAK,SAAShH,EAAOC,CAAG,EAEvC,cAAO,eAAe+G,EAAQzF,EAAO,SAAS,EAEvCyF,CACV,EAKC,SAASC,EAAa1G,EAAQ2G,EAAKlF,EAAQ,CACzC,GAAKzB,EAAS,IAAO,GAAKA,EAAS,EAAG,MAAM,IAAI,WAAW,oBAAoB,EAC/E,GAAIA,EAAS2G,EAAMlF,EAAQ,MAAM,IAAI,WAAW,uCAAuC,CACxF,CAEDT,EAAO,UAAU,WACjBA,EAAO,UAAU,WAAa,SAAqBhB,EAAQ3B,EAAYuI,EAAU,CAC/E5G,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACvBuI,GAAUF,EAAY1G,EAAQ3B,EAAY,KAAK,MAAM,EAE1D,IAAIkG,EAAM,KAAKvE,CAAM,EACjB6G,EAAM,EACN7a,EAAI,EACR,KAAO,EAAEA,EAAIqS,IAAewI,GAAO,MACjCtC,GAAO,KAAKvE,EAAShU,CAAC,EAAI6a,EAG5B,OAAOtC,CACV,EAECvD,EAAO,UAAU,WACjBA,EAAO,UAAU,WAAa,SAAqBhB,EAAQ3B,EAAYuI,EAAU,CAC/E5G,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACvBuI,GACHF,EAAY1G,EAAQ3B,EAAY,KAAK,MAAM,EAG7C,IAAIkG,EAAM,KAAKvE,EAAS,EAAE3B,CAAU,EAChCwI,EAAM,EACV,KAAOxI,EAAa,IAAMwI,GAAO,MAC/BtC,GAAO,KAAKvE,EAAS,EAAE3B,CAAU,EAAIwI,EAGvC,OAAOtC,CACV,EAECvD,EAAO,UAAU,UACjBA,EAAO,UAAU,UAAY,SAAoBhB,EAAQ4G,EAAU,CACjE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1C,KAAKA,CAAM,CACrB,EAECgB,EAAO,UAAU,aACjBA,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1C,KAAKA,CAAM,EAAK,KAAKA,EAAS,CAAC,GAAK,CAC9C,EAECgB,EAAO,UAAU,aACjBA,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EACzC,KAAKA,CAAM,GAAK,EAAK,KAAKA,EAAS,CAAC,CAC/C,EAECgB,EAAO,UAAU,aACjBA,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,GAExC,KAAKA,CAAM,EACf,KAAKA,EAAS,CAAC,GAAK,EACpB,KAAKA,EAAS,CAAC,GAAK,IACpB,KAAKA,EAAS,CAAC,EAAI,QAC3B,EAECgB,EAAO,UAAU,aACjBA,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAEzC,KAAKA,CAAM,EAAI,UACnB,KAAKA,EAAS,CAAC,GAAK,GACrB,KAAKA,EAAS,CAAC,GAAK,EACrB,KAAKA,EAAS,CAAC,EACpB,EAECgB,EAAO,UAAU,gBAAkB8F,GAAmB,SAA0B9G,EAAQ,CACtFA,EAASA,IAAW,EACpB+G,GAAe/G,EAAQ,QAAQ,EAC/B,MAAMgH,EAAQ,KAAKhH,CAAM,EACnBiH,EAAO,KAAKjH,EAAS,CAAC,GACxBgH,IAAU,QAAaC,IAAS,SAClCC,GAAYlH,EAAQ,KAAK,OAAS,CAAC,EAGrC,MAAMmH,EAAKH,EACT,KAAK,EAAEhH,CAAM,EAAIoH,EAAA,EAAK,GACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IAElBC,EAAK,KAAK,EAAErH,CAAM,EACtB,KAAK,EAAEA,CAAM,EAAIoH,EAAA,EAAK,GACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtBH,EAAOG,EAAA,EAAK,IAEd,OAAO,OAAOD,CAAE,GAAK,OAAOE,CAAE,GAAK,OAAO,EAAE,EAC/C,CAAE,EAEDrG,EAAO,UAAU,gBAAkB8F,GAAmB,SAA0B9G,EAAQ,CACtFA,EAASA,IAAW,EACpB+G,GAAe/G,EAAQ,QAAQ,EAC/B,MAAMgH,EAAQ,KAAKhH,CAAM,EACnBiH,EAAO,KAAKjH,EAAS,CAAC,GACxBgH,IAAU,QAAaC,IAAS,SAClCC,GAAYlH,EAAQ,KAAK,OAAS,CAAC,EAGrC,MAAMqH,EAAKL,EAAQI,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,GACtB,KAAK,EAAEpH,CAAM,EAETmH,EAAK,KAAK,EAAEnH,CAAM,EAAIoH,EAAA,EAAK,IAC/B,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,GACtBH,EAEF,OAAQ,OAAOI,CAAE,GAAK,OAAO,EAAE,GAAK,OAAOF,CAAE,CAChD,CAAE,EAEDnG,EAAO,UAAU,UAAY,SAAoBhB,EAAQ3B,EAAYuI,EAAU,CAC7E5G,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACvBuI,GAAUF,EAAY1G,EAAQ3B,EAAY,KAAK,MAAM,EAE1D,IAAIkG,EAAM,KAAKvE,CAAM,EACjB6G,EAAM,EACN7a,EAAI,EACR,KAAO,EAAEA,EAAIqS,IAAewI,GAAO,MACjCtC,GAAO,KAAKvE,EAAShU,CAAC,EAAI6a,EAE5B,OAAAA,GAAO,IAEHtC,GAAOsC,IAAKtC,GAAO,KAAK,IAAI,EAAG,EAAIlG,CAAU,GAE1CkG,CACV,EAECvD,EAAO,UAAU,UAAY,SAAoBhB,EAAQ3B,EAAYuI,EAAU,CAC7E5G,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACvBuI,GAAUF,EAAY1G,EAAQ3B,EAAY,KAAK,MAAM,EAE1D,IAAIrS,EAAIqS,EACJwI,EAAM,EACNtC,EAAM,KAAKvE,EAAS,EAAEhU,CAAC,EAC3B,KAAOA,EAAI,IAAM6a,GAAO,MACtBtC,GAAO,KAAKvE,EAAS,EAAEhU,CAAC,EAAI6a,EAE9B,OAAAA,GAAO,IAEHtC,GAAOsC,IAAKtC,GAAO,KAAK,IAAI,EAAG,EAAIlG,CAAU,GAE1CkG,CACV,EAECvD,EAAO,UAAU,SAAW,SAAmBhB,EAAQ4G,EAAU,CAG/D,OAFA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC3C,KAAKA,CAAM,EAAI,KACZ,IAAO,KAAKA,CAAM,EAAI,GAAK,GADA,KAAKA,CAAM,CAElD,EAECgB,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EACjD,MAAMuE,EAAM,KAAKvE,CAAM,EAAK,KAAKA,EAAS,CAAC,GAAK,EAChD,OAAQuE,EAAM,MAAUA,EAAM,WAAaA,CAC9C,EAECvD,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EACjD,MAAMuE,EAAM,KAAKvE,EAAS,CAAC,EAAK,KAAKA,CAAM,GAAK,EAChD,OAAQuE,EAAM,MAAUA,EAAM,WAAaA,CAC9C,EAECvD,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAEzC,KAAKA,CAAM,EAChB,KAAKA,EAAS,CAAC,GAAK,EACpB,KAAKA,EAAS,CAAC,GAAK,GACpB,KAAKA,EAAS,CAAC,GAAK,EAC1B,EAECgB,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAEzC,KAAKA,CAAM,GAAK,GACrB,KAAKA,EAAS,CAAC,GAAK,GACpB,KAAKA,EAAS,CAAC,GAAK,EACpB,KAAKA,EAAS,CAAC,CACrB,EAECgB,EAAO,UAAU,eAAiB8F,GAAmB,SAAyB9G,EAAQ,CACpFA,EAASA,IAAW,EACpB+G,GAAe/G,EAAQ,QAAQ,EAC/B,MAAMgH,EAAQ,KAAKhH,CAAM,EACnBiH,EAAO,KAAKjH,EAAS,CAAC,GACxBgH,IAAU,QAAaC,IAAS,SAClCC,GAAYlH,EAAQ,KAAK,OAAS,CAAC,EAGrC,MAAMuE,EAAM,KAAKvE,EAAS,CAAC,EACzB,KAAKA,EAAS,CAAC,EAAIoH,EAAA,EAAK,GACxB,KAAKpH,EAAS,CAAC,EAAIoH,EAAA,EAAK,KACvBH,GAAQ,IAEX,OAAQ,OAAO1C,CAAG,GAAK,OAAO,EAAE,GAC9B,OAAOyC,EACP,KAAK,EAAEhH,CAAM,EAAIoH,EAAA,EAAK,GACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,GAAE,CAC7B,CAAE,EAEDpG,EAAO,UAAU,eAAiB8F,GAAmB,SAAyB9G,EAAQ,CACpFA,EAASA,IAAW,EACpB+G,GAAe/G,EAAQ,QAAQ,EAC/B,MAAMgH,EAAQ,KAAKhH,CAAM,EACnBiH,EAAO,KAAKjH,EAAS,CAAC,GACxBgH,IAAU,QAAaC,IAAS,SAClCC,GAAYlH,EAAQ,KAAK,OAAS,CAAC,EAGrC,MAAMuE,GAAOyC,GAAS,IACpB,KAAK,EAAEhH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,GACtB,KAAK,EAAEpH,CAAM,EAEf,OAAQ,OAAOuE,CAAG,GAAK,OAAO,EAAE,GAC9B,OAAO,KAAK,EAAEvE,CAAM,EAAIoH,EAAA,EAAK,IAC7B,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,IACtB,KAAK,EAAEpH,CAAM,EAAIoH,EAAA,EAAK,GACtBH,CAAI,CACT,CAAE,EAEDjG,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1Cc,EAAU,KAAK,KAAMd,EAAQ,GAAM,GAAI,CAAC,CAClD,EAECgB,EAAO,UAAU,YAAc,SAAsBhB,EAAQ4G,EAAU,CACrE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1Cc,EAAU,KAAK,KAAMd,EAAQ,GAAO,GAAI,CAAC,CACnD,EAECgB,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1Cc,EAAU,KAAK,KAAMd,EAAQ,GAAM,GAAI,CAAC,CAClD,EAECgB,EAAO,UAAU,aAAe,SAAuBhB,EAAQ4G,EAAU,CACvE,OAAA5G,EAASA,IAAW,EACf4G,GAAUF,EAAY1G,EAAQ,EAAG,KAAK,MAAM,EAC1Cc,EAAU,KAAK,KAAMd,EAAQ,GAAO,GAAI,CAAC,CACnD,EAEC,SAASsH,EAAU5F,EAAK7U,EAAOmT,EAAQ2G,EAAK1C,EAAKsD,EAAK,CACpD,GAAI,CAACvG,EAAO,SAASU,CAAG,EAAG,MAAM,IAAI,UAAU,6CAA6C,EAC5F,GAAI7U,EAAQoX,GAAOpX,EAAQ0a,EAAK,MAAM,IAAI,WAAW,mCAAmC,EACxF,GAAIvH,EAAS2G,EAAMjF,EAAI,OAAQ,MAAM,IAAI,WAAW,oBAAoB,CACzE,CAEDV,EAAO,UAAU,YACjBA,EAAO,UAAU,YAAc,SAAsBnU,EAAOmT,EAAQ3B,EAAYuI,EAAU,CAIxF,GAHA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACxB,CAACuI,EAAU,CACb,MAAMY,EAAW,KAAK,IAAI,EAAG,EAAInJ,CAAU,EAAI,EAC/CiJ,EAAS,KAAMza,EAAOmT,EAAQ3B,EAAYmJ,EAAU,CAAC,CACtD,CAED,IAAIX,EAAM,EACN7a,EAAI,EAER,IADA,KAAKgU,CAAM,EAAInT,EAAQ,IAChB,EAAEb,EAAIqS,IAAewI,GAAO,MACjC,KAAK7G,EAAShU,CAAC,EAAKa,EAAQga,EAAO,IAGrC,OAAO7G,EAAS3B,CACnB,EAEC2C,EAAO,UAAU,YACjBA,EAAO,UAAU,YAAc,SAAsBnU,EAAOmT,EAAQ3B,EAAYuI,EAAU,CAIxF,GAHA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACpB3B,EAAaA,IAAe,EACxB,CAACuI,EAAU,CACb,MAAMY,EAAW,KAAK,IAAI,EAAG,EAAInJ,CAAU,EAAI,EAC/CiJ,EAAS,KAAMza,EAAOmT,EAAQ3B,EAAYmJ,EAAU,CAAC,CACtD,CAED,IAAIxb,EAAIqS,EAAa,EACjBwI,EAAM,EAEV,IADA,KAAK7G,EAAShU,CAAC,EAAIa,EAAQ,IACpB,EAAEb,GAAK,IAAM6a,GAAO,MACzB,KAAK7G,EAAShU,CAAC,EAAKa,EAAQga,EAAO,IAGrC,OAAO7G,EAAS3B,CACnB,EAEC2C,EAAO,UAAU,WACjBA,EAAO,UAAU,WAAa,SAAqBnU,EAAOmT,EAAQ4G,EAAU,CAC1E,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,IAAM,CAAC,EACvD,KAAKA,CAAM,EAAKnT,EAAQ,IACjBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,cACjBA,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,MAAQ,CAAC,EACzD,KAAKA,CAAM,EAAKnT,EAAQ,IACxB,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EACvBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,cACjBA,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,MAAQ,CAAC,EACzD,KAAKA,CAAM,EAAKnT,IAAU,EAC1B,KAAKmT,EAAS,CAAC,EAAKnT,EAAQ,IACrBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,cACjBA,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,WAAY,CAAC,EAC7D,KAAKA,EAAS,CAAC,EAAKnT,IAAU,GAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,GAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EAC9B,KAAKmT,CAAM,EAAKnT,EAAQ,IACjBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,cACjBA,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,WAAY,CAAC,EAC7D,KAAKA,CAAM,EAAKnT,IAAU,GAC1B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,GAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EAC9B,KAAKmT,EAAS,CAAC,EAAKnT,EAAQ,IACrBmT,EAAS,CACnB,EAEC,SAASyH,GAAgB/F,EAAK7U,EAAOmT,EAAQuH,EAAKtD,EAAK,CACrDyD,GAAW7a,EAAO0a,EAAKtD,EAAKvC,EAAK1B,EAAQ,CAAC,EAE1C,IAAImH,EAAK,OAAOta,EAAQ,OAAO,UAAU,CAAC,EAC1C6U,EAAI1B,GAAQ,EAAImH,EAChBA,EAAKA,GAAM,EACXzF,EAAI1B,GAAQ,EAAImH,EAChBA,EAAKA,GAAM,EACXzF,EAAI1B,GAAQ,EAAImH,EAChBA,EAAKA,GAAM,EACXzF,EAAI1B,GAAQ,EAAImH,EAChB,IAAIE,EAAK,OAAOxa,GAAS,OAAO,EAAE,EAAI,OAAO,UAAU,CAAC,EACxD,OAAA6U,EAAI1B,GAAQ,EAAIqH,EAChBA,EAAKA,GAAM,EACX3F,EAAI1B,GAAQ,EAAIqH,EAChBA,EAAKA,GAAM,EACX3F,EAAI1B,GAAQ,EAAIqH,EAChBA,EAAKA,GAAM,EACX3F,EAAI1B,GAAQ,EAAIqH,EACTrH,CACR,CAED,SAAS2H,GAAgBjG,EAAK7U,EAAOmT,EAAQuH,EAAKtD,EAAK,CACrDyD,GAAW7a,EAAO0a,EAAKtD,EAAKvC,EAAK1B,EAAQ,CAAC,EAE1C,IAAImH,EAAK,OAAOta,EAAQ,OAAO,UAAU,CAAC,EAC1C6U,EAAI1B,EAAS,CAAC,EAAImH,EAClBA,EAAKA,GAAM,EACXzF,EAAI1B,EAAS,CAAC,EAAImH,EAClBA,EAAKA,GAAM,EACXzF,EAAI1B,EAAS,CAAC,EAAImH,EAClBA,EAAKA,GAAM,EACXzF,EAAI1B,EAAS,CAAC,EAAImH,EAClB,IAAIE,EAAK,OAAOxa,GAAS,OAAO,EAAE,EAAI,OAAO,UAAU,CAAC,EACxD,OAAA6U,EAAI1B,EAAS,CAAC,EAAIqH,EAClBA,EAAKA,GAAM,EACX3F,EAAI1B,EAAS,CAAC,EAAIqH,EAClBA,EAAKA,GAAM,EACX3F,EAAI1B,EAAS,CAAC,EAAIqH,EAClBA,EAAKA,GAAM,EACX3F,EAAI1B,CAAM,EAAIqH,EACPrH,EAAS,CACjB,CAEDgB,EAAO,UAAU,iBAAmB8F,GAAmB,SAA2Bja,EAAOmT,EAAS,EAAG,CACnG,OAAOyH,GAAe,KAAM5a,EAAOmT,EAAQ,OAAO,CAAC,EAAG,OAAO,oBAAoB,CAAC,CACrF,CAAE,EAEDgB,EAAO,UAAU,iBAAmB8F,GAAmB,SAA2Bja,EAAOmT,EAAS,EAAG,CACnG,OAAO2H,GAAe,KAAM9a,EAAOmT,EAAQ,OAAO,CAAC,EAAG,OAAO,oBAAoB,CAAC,CACrF,CAAE,EAEDgB,EAAO,UAAU,WAAa,SAAqBnU,EAAOmT,EAAQ3B,EAAYuI,EAAU,CAGtF,GAFA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EAChB,CAAC4G,EAAU,CACb,MAAMgB,EAAQ,KAAK,IAAI,EAAI,EAAIvJ,EAAc,CAAC,EAE9CiJ,EAAS,KAAMza,EAAOmT,EAAQ3B,EAAYuJ,EAAQ,EAAG,CAACA,CAAK,CAC5D,CAED,IAAI5b,EAAI,EACJ6a,EAAM,EACNgB,EAAM,EAEV,IADA,KAAK7H,CAAM,EAAInT,EAAQ,IAChB,EAAEb,EAAIqS,IAAewI,GAAO,MAC7Bha,EAAQ,GAAKgb,IAAQ,GAAK,KAAK7H,EAAShU,EAAI,CAAC,IAAM,IACrD6b,EAAM,GAER,KAAK7H,EAAShU,CAAC,GAAMa,EAAQga,GAAQ,GAAKgB,EAAM,IAGlD,OAAO7H,EAAS3B,CACnB,EAEC2C,EAAO,UAAU,WAAa,SAAqBnU,EAAOmT,EAAQ3B,EAAYuI,EAAU,CAGtF,GAFA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EAChB,CAAC4G,EAAU,CACb,MAAMgB,EAAQ,KAAK,IAAI,EAAI,EAAIvJ,EAAc,CAAC,EAE9CiJ,EAAS,KAAMza,EAAOmT,EAAQ3B,EAAYuJ,EAAQ,EAAG,CAACA,CAAK,CAC5D,CAED,IAAI5b,EAAIqS,EAAa,EACjBwI,EAAM,EACNgB,EAAM,EAEV,IADA,KAAK7H,EAAShU,CAAC,EAAIa,EAAQ,IACpB,EAAEb,GAAK,IAAM6a,GAAO,MACrBha,EAAQ,GAAKgb,IAAQ,GAAK,KAAK7H,EAAShU,EAAI,CAAC,IAAM,IACrD6b,EAAM,GAER,KAAK7H,EAAShU,CAAC,GAAMa,EAAQga,GAAQ,GAAKgB,EAAM,IAGlD,OAAO7H,EAAS3B,CACnB,EAEC2C,EAAO,UAAU,UAAY,SAAoBnU,EAAOmT,EAAQ4G,EAAU,CACxE,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,IAAM,IAAK,EACvDnT,EAAQ,IAAGA,EAAQ,IAAOA,EAAQ,GACtC,KAAKmT,CAAM,EAAKnT,EAAQ,IACjBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,MAAQ,MAAO,EAC/D,KAAKA,CAAM,EAAKnT,EAAQ,IACxB,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EACvBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,MAAQ,MAAO,EAC/D,KAAKA,CAAM,EAAKnT,IAAU,EAC1B,KAAKmT,EAAS,CAAC,EAAKnT,EAAQ,IACrBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,WAAY,WAAW,EACvE,KAAKA,CAAM,EAAKnT,EAAQ,IACxB,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,GAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,GACvBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GAAUU,EAAS,KAAMza,EAAOmT,EAAQ,EAAG,WAAY,WAAW,EACnEnT,EAAQ,IAAGA,EAAQ,WAAaA,EAAQ,GAC5C,KAAKmT,CAAM,EAAKnT,IAAU,GAC1B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,GAC9B,KAAKmT,EAAS,CAAC,EAAKnT,IAAU,EAC9B,KAAKmT,EAAS,CAAC,EAAKnT,EAAQ,IACrBmT,EAAS,CACnB,EAECgB,EAAO,UAAU,gBAAkB8F,GAAmB,SAA0Bja,EAAOmT,EAAS,EAAG,CACjG,OAAOyH,GAAe,KAAM5a,EAAOmT,EAAQ,CAAC,OAAO,oBAAoB,EAAG,OAAO,oBAAoB,CAAC,CACzG,CAAE,EAEDgB,EAAO,UAAU,gBAAkB8F,GAAmB,SAA0Bja,EAAOmT,EAAS,EAAG,CACjG,OAAO2H,GAAe,KAAM9a,EAAOmT,EAAQ,CAAC,OAAO,oBAAoB,EAAG,OAAO,oBAAoB,CAAC,CACzG,CAAE,EAED,SAAS8H,GAAcpG,EAAK7U,EAAOmT,EAAQ2G,EAAK1C,EAAKsD,EAAK,CACxD,GAAIvH,EAAS2G,EAAMjF,EAAI,OAAQ,MAAM,IAAI,WAAW,oBAAoB,EACxE,GAAI1B,EAAS,EAAG,MAAM,IAAI,WAAW,oBAAoB,CAC1D,CAED,SAAS+H,GAAYrG,EAAK7U,EAAOmT,EAAQgI,EAAcpB,EAAU,CAC/D,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GACHkB,GAAapG,EAAK7U,EAAOmT,EAAQ,CAAC,EAEpCc,EAAU,MAAMY,EAAK7U,EAAOmT,EAAQgI,EAAc,GAAI,CAAC,EAChDhI,EAAS,CACjB,CAEDgB,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAOmB,GAAW,KAAMlb,EAAOmT,EAAQ,GAAM4G,CAAQ,CACxD,EAEC5F,EAAO,UAAU,aAAe,SAAuBnU,EAAOmT,EAAQ4G,EAAU,CAC9E,OAAOmB,GAAW,KAAMlb,EAAOmT,EAAQ,GAAO4G,CAAQ,CACzD,EAEC,SAASqB,GAAavG,EAAK7U,EAAOmT,EAAQgI,EAAcpB,EAAU,CAChE,OAAA/Z,EAAQ,CAACA,EACTmT,EAASA,IAAW,EACf4G,GACHkB,GAAapG,EAAK7U,EAAOmT,EAAQ,CAAC,EAEpCc,EAAU,MAAMY,EAAK7U,EAAOmT,EAAQgI,EAAc,GAAI,CAAC,EAChDhI,EAAS,CACjB,CAEDgB,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAOqB,GAAY,KAAMpb,EAAOmT,EAAQ,GAAM4G,CAAQ,CACzD,EAEC5F,EAAO,UAAU,cAAgB,SAAwBnU,EAAOmT,EAAQ4G,EAAU,CAChF,OAAOqB,GAAY,KAAMpb,EAAOmT,EAAQ,GAAO4G,CAAQ,CAC1D,EAGC5F,EAAO,UAAU,KAAO,SAAe5P,EAAQ8W,EAAazI,EAAOC,EAAK,CACtE,GAAI,CAACsB,EAAO,SAAS5P,CAAM,EAAG,MAAM,IAAI,UAAU,6BAA6B,EAS/E,GARKqO,IAAOA,EAAQ,GAChB,CAACC,GAAOA,IAAQ,IAAGA,EAAM,KAAK,QAC9BwI,GAAe9W,EAAO,SAAQ8W,EAAc9W,EAAO,QAClD8W,IAAaA,EAAc,GAC5BxI,EAAM,GAAKA,EAAMD,IAAOC,EAAMD,GAG9BC,IAAQD,GACRrO,EAAO,SAAW,GAAK,KAAK,SAAW,EAAG,MAAO,GAGrD,GAAI8W,EAAc,EAChB,MAAM,IAAI,WAAW,2BAA2B,EAElD,GAAIzI,EAAQ,GAAKA,GAAS,KAAK,OAAQ,MAAM,IAAI,WAAW,oBAAoB,EAChF,GAAIC,EAAM,EAAG,MAAM,IAAI,WAAW,yBAAyB,EAGvDA,EAAM,KAAK,SAAQA,EAAM,KAAK,QAC9BtO,EAAO,OAAS8W,EAAcxI,EAAMD,IACtCC,EAAMtO,EAAO,OAAS8W,EAAczI,GAGtC,MAAMd,EAAMe,EAAMD,EAElB,OAAI,OAASrO,GAAU,OAAO+P,EAAiB,UAAU,YAAe,WAEtE,KAAK,WAAW+G,EAAazI,EAAOC,CAAG,EAEvCyB,EAAiB,UAAU,IAAI,KAC7B/P,EACA,KAAK,SAASqO,EAAOC,CAAG,EACxBwI,CACP,EAGUvJ,CACV,EAMCqC,EAAO,UAAU,KAAO,SAAeuD,EAAK9E,EAAOC,EAAK8C,EAAU,CAEhE,GAAI,OAAO+B,GAAQ,SAAU,CAS3B,GARI,OAAO9E,GAAU,UACnB+C,EAAW/C,EACXA,EAAQ,EACRC,EAAM,KAAK,QACF,OAAOA,GAAQ,WACxB8C,EAAW9C,EACXA,EAAM,KAAK,QAET8C,IAAa,QAAa,OAAOA,GAAa,SAChD,MAAM,IAAI,UAAU,2BAA2B,EAEjD,GAAI,OAAOA,GAAa,UAAY,CAACxB,EAAO,WAAWwB,CAAQ,EAC7D,MAAM,IAAI,UAAU,qBAAuBA,CAAQ,EAErD,GAAI+B,EAAI,SAAW,EAAG,CACpB,MAAMnP,EAAOmP,EAAI,WAAW,CAAC,GACxB/B,IAAa,QAAUpN,EAAO,KAC/BoN,IAAa,YAEf+B,EAAMnP,EAET,CACN,MAAc,OAAOmP,GAAQ,SACxBA,EAAMA,EAAM,IACH,OAAOA,GAAQ,YACxBA,EAAM,OAAOA,CAAG,GAIlB,GAAI9E,EAAQ,GAAK,KAAK,OAASA,GAAS,KAAK,OAASC,EACpD,MAAM,IAAI,WAAW,oBAAoB,EAG3C,GAAIA,GAAOD,EACT,OAAO,KAGTA,EAAQA,IAAU,EAClBC,EAAMA,IAAQ,OAAY,KAAK,OAASA,IAAQ,EAE3C6E,IAAKA,EAAM,GAEhB,IAAIvY,EACJ,GAAI,OAAOuY,GAAQ,SACjB,IAAKvY,EAAIyT,EAAOzT,EAAI0T,EAAK,EAAE1T,EACzB,KAAKA,CAAC,EAAIuY,MAEP,CACL,MAAMiC,EAAQxF,EAAO,SAASuD,CAAG,EAC7BA,EACAvD,EAAO,KAAKuD,EAAK/B,CAAQ,EACvB7D,EAAM6H,EAAM,OAClB,GAAI7H,IAAQ,EACV,MAAM,IAAI,UAAU,cAAgB4F,EAClC,mCAAmC,EAEvC,IAAKvY,EAAI,EAAGA,EAAI0T,EAAMD,EAAO,EAAEzT,EAC7B,KAAKA,EAAIyT,CAAK,EAAI+G,EAAMxa,EAAI2S,CAAG,CAElC,CAED,OAAO,IACV,EAMC,MAAMwJ,GAAS,CAAA,EACf,SAASC,GAAGC,EAAKC,EAAYC,EAAM,CACjCJ,GAAOE,CAAG,EAAI,cAAwBE,CAAK,CACzC,aAAe,CACb,QAEA,OAAO,eAAe,KAAM,UAAW,CACrC,MAAOD,EAAW,MAAM,KAAM,SAAS,EACvC,SAAU,GACV,aAAc,EACvB,CAAQ,EAGD,KAAK,KAAO,GAAG,KAAK,IAAI,KAAKD,CAAG,IAGhC,KAAK,MAEL,OAAO,KAAK,IACb,CAED,IAAI,MAAQ,CACV,OAAOA,CACR,CAED,IAAI,KAAMxb,EAAO,CACf,OAAO,eAAe,KAAM,OAAQ,CAClC,aAAc,GACd,WAAY,GACZ,MAAAA,EACA,SAAU,EACnB,CAAQ,CACF,CAED,UAAY,CACV,MAAO,GAAG,KAAK,IAAI,KAAKwb,CAAG,MAAM,KAAK,OAAO,EAC9C,CACN,CACE,CAEDD,GAAE,2BACA,SAAUzW,EAAM,CACd,OAAIA,EACK,GAAGA,CAAI,+BAGT,gDACR,EAAE,UAAU,EACfyW,GAAE,uBACA,SAAUzW,EAAM8Q,EAAQ,CACtB,MAAO,QAAQ9Q,CAAI,oDAAoD,OAAO8Q,CAAM,EACrF,EAAE,SAAS,EACd2F,GAAE,mBACA,SAAUpE,EAAKwE,EAAO1c,EAAO,CAC3B,IAAI2c,EAAM,iBAAiBzE,CAAG,qBAC1B0E,EAAW5c,EACf,OAAI,OAAO,UAAUA,CAAK,GAAK,KAAK,IAAIA,CAAK,EAAIsb,EAAA,EAAK,IACpDsB,EAAWC,GAAsB,OAAO7c,CAAK,CAAC,EACrC,OAAOA,GAAU,WAC1B4c,EAAW,OAAO5c,CAAK,GACnBA,EAAQsb,EAAA,OAAO,CAAC,EAAK,OAAO,EAAE,IAAKtb,EAAQ,CAAEsb,EAAA,OAAO,CAAC,EAAK,OAAO,EAAE,MACrEsB,EAAWC,GAAsBD,CAAQ,GAE3CA,GAAY,KAEdD,GAAO,eAAeD,CAAK,cAAcE,CAAQ,GAC1CD,CACR,EAAE,UAAU,EAEf,SAASE,GAAuBpE,EAAK,CACnC,IAAIpR,EAAM,GACNnH,EAAIuY,EAAI,OACZ,MAAM9E,EAAQ8E,EAAI,CAAC,IAAM,IAAM,EAAI,EACnC,KAAOvY,GAAKyT,EAAQ,EAAGzT,GAAK,EAC1BmH,EAAM,IAAIoR,EAAI,MAAMvY,EAAI,EAAGA,CAAC,CAAC,GAAGmH,CAAG,GAErC,MAAO,GAAGoR,EAAI,MAAM,EAAGvY,CAAC,CAAC,GAAGmH,CAAG,EAChC,CAKD,SAASyV,GAAalH,EAAK1B,EAAQ3B,EAAY,CAC7C0I,GAAe/G,EAAQ,QAAQ,GAC3B0B,EAAI1B,CAAM,IAAM,QAAa0B,EAAI1B,EAAS3B,CAAU,IAAM,SAC5D6I,GAAYlH,EAAQ0B,EAAI,QAAUrD,EAAa,EAAE,CAEpD,CAED,SAASqJ,GAAY7a,EAAO0a,EAAKtD,EAAKvC,EAAK1B,EAAQ3B,EAAY,CAC7D,GAAIxR,EAAQoX,GAAOpX,EAAQ0a,EAAK,CAC9B,MAAMvW,EAAI,OAAOuW,GAAQ,SAAW,IAAM,GAC1C,IAAIiB,EAEF,MAAIjB,IAAQ,GAAKA,IAAQ,OAAO,CAAC,EAC/BiB,EAAQ,OAAOxX,CAAC,WAAWA,CAAC,QAAQqN,EAAa,GAAK,CAAC,GAAGrN,CAAC,GAE3DwX,EAAQ,SAASxX,CAAC,QAAQqN,EAAa,GAAK,EAAI,CAAC,GAAGrN,CAAC,iBACzCqN,EAAa,GAAK,EAAI,CAAC,GAAGrN,CAAC,GAKrC,IAAImX,GAAO,iBAAiB,QAASK,EAAO3b,CAAK,CACxD,CACD+b,GAAYlH,EAAK1B,EAAQ3B,CAAU,CACpC,CAED,SAAS0I,GAAgBla,EAAO8E,EAAM,CACpC,GAAI,OAAO9E,GAAU,SACnB,MAAM,IAAIsb,GAAO,qBAAqBxW,EAAM,SAAU9E,CAAK,CAE9D,CAED,SAASqa,GAAara,EAAO4U,EAAQ5S,EAAM,CACzC,MAAI,KAAK,MAAMhC,CAAK,IAAMA,GACxBka,GAAela,EAAOgC,CAAI,EACpB,IAAIsZ,GAAO,iBAAyB,SAAU,aAActb,CAAK,GAGrE4U,EAAS,EACL,IAAI0G,GAAO,yBAGb,IAAIA,GAAO,iBAAyB,SACR,eAA6B1G,CAAM,GACnC5U,CAAK,CACxC,CAKD,MAAMgc,GAAoB,oBAE1B,SAASC,GAAa9E,EAAK,CAMzB,GAJAA,EAAMA,EAAI,MAAM,GAAG,EAAE,CAAC,EAEtBA,EAAMA,EAAI,KAAI,EAAG,QAAQ6E,GAAmB,EAAE,EAE1C7E,EAAI,OAAS,EAAG,MAAO,GAE3B,KAAOA,EAAI,OAAS,IAAM,GACxBA,EAAMA,EAAM,IAEd,OAAOA,CACR,CAED,SAASV,GAAavW,EAAQgc,EAAO,CACnCA,EAAQA,GAAS,IACjB,IAAInD,EACJ,MAAMnE,EAAS1U,EAAO,OACtB,IAAIic,EAAgB,KACpB,MAAMxC,EAAQ,CAAA,EAEd,QAASxa,EAAI,EAAGA,EAAIyV,EAAQ,EAAEzV,EAAG,CAI/B,GAHA4Z,EAAY7Y,EAAO,WAAWf,CAAC,EAG3B4Z,EAAY,OAAUA,EAAY,MAAQ,CAE5C,GAAI,CAACoD,EAAe,CAElB,GAAIpD,EAAY,MAAQ,EAEjBmD,GAAS,GAAK,IAAIvC,EAAM,KAAK,IAAM,IAAM,GAAI,EAClD,QACX,SAAoBxa,EAAI,IAAMyV,EAAQ,EAEtBsH,GAAS,GAAK,IAAIvC,EAAM,KAAK,IAAM,IAAM,GAAI,EAClD,QACD,CAGDwC,EAAgBpD,EAEhB,QACD,CAGD,GAAIA,EAAY,MAAQ,EACjBmD,GAAS,GAAK,IAAIvC,EAAM,KAAK,IAAM,IAAM,GAAI,EAClDwC,EAAgBpD,EAChB,QACD,CAGDA,GAAaoD,EAAgB,OAAU,GAAKpD,EAAY,OAAU,KACnE,MAAUoD,IAEJD,GAAS,GAAK,IAAIvC,EAAM,KAAK,IAAM,IAAM,GAAI,EAMpD,GAHAwC,EAAgB,KAGZpD,EAAY,IAAM,CACpB,IAAKmD,GAAS,GAAK,EAAG,MACtBvC,EAAM,KAAKZ,CAAS,CAC3B,SAAgBA,EAAY,KAAO,CAC5B,IAAKmD,GAAS,GAAK,EAAG,MACtBvC,EAAM,KACJZ,GAAa,EAAM,IACnBA,EAAY,GAAO,GAC5B,CACA,SAAgBA,EAAY,MAAS,CAC9B,IAAKmD,GAAS,GAAK,EAAG,MACtBvC,EAAM,KACJZ,GAAa,GAAM,IACnBA,GAAa,EAAM,GAAO,IAC1BA,EAAY,GAAO,GAC5B,CACA,SAAgBA,EAAY,QAAU,CAC/B,IAAKmD,GAAS,GAAK,EAAG,MACtBvC,EAAM,KACJZ,GAAa,GAAO,IACpBA,GAAa,GAAM,GAAO,IAC1BA,GAAa,EAAM,GAAO,IAC1BA,EAAY,GAAO,GAC5B,CACA,KACO,OAAM,IAAI,MAAM,oBAAoB,CAEvC,CAED,OAAOY,CACR,CAED,SAASjB,GAAcvB,EAAK,CAC1B,MAAMiF,EAAY,CAAA,EAClB,QAASjd,EAAI,EAAGA,EAAIgY,EAAI,OAAQ,EAAEhY,EAEhCid,EAAU,KAAKjF,EAAI,WAAWhY,CAAC,EAAI,GAAI,EAEzC,OAAOid,CACR,CAED,SAASvD,GAAgB1B,EAAK+E,EAAO,CACnC,IAAIhY,EAAGsW,EAAIF,EACX,MAAM8B,EAAY,CAAA,EAClB,QAASjd,EAAI,EAAGA,EAAIgY,EAAI,QACjB,GAAA+E,GAAS,GAAK,GADW,EAAE/c,EAGhC+E,EAAIiT,EAAI,WAAWhY,CAAC,EACpBqb,EAAKtW,GAAK,EACVoW,EAAKpW,EAAI,IACTkY,EAAU,KAAK9B,CAAE,EACjB8B,EAAU,KAAK5B,CAAE,EAGnB,OAAO4B,CACR,CAED,SAAS1F,GAAeS,EAAK,CAC3B,OAAOnD,EAAO,YAAYiI,GAAY9E,CAAG,CAAC,CAC3C,CAED,SAASqB,GAAY6D,EAAKC,EAAKnJ,EAAQyB,EAAQ,CAC7C,IAAIzV,EACJ,IAAKA,EAAI,EAAGA,EAAIyV,GACT,EAAAzV,EAAIgU,GAAUmJ,EAAI,QAAYnd,GAAKkd,EAAI,QADtB,EAAEld,EAExBmd,EAAInd,EAAIgU,CAAM,EAAIkJ,EAAIld,CAAC,EAEzB,OAAOA,CACR,CAKD,SAASiW,EAAYc,EAAKlU,EAAM,CAC9B,OAAOkU,aAAelU,GACnBkU,GAAO,MAAQA,EAAI,aAAe,MAAQA,EAAI,YAAY,MAAQ,MACjEA,EAAI,YAAY,OAASlU,EAAK,IACnC,CACD,SAASmU,GAAaD,EAAK,CAEzB,OAAOA,IAAQA,CAChB,CAID,MAAMwD,GAAuB,UAAY,CACvC,MAAM6C,EAAW,mBACXC,EAAQ,IAAI,MAAM,GAAG,EAC3B,QAASrd,EAAI,EAAGA,EAAI,GAAI,EAAEA,EAAG,CAC3B,MAAMsd,EAAMtd,EAAI,GAChB,QAAS+Y,EAAI,EAAGA,EAAI,GAAI,EAAEA,EACxBsE,EAAMC,EAAMvE,CAAC,EAAIqE,EAASpd,CAAC,EAAIod,EAASrE,CAAC,CAE5C,CACD,OAAOsE,CACV,IAGC,SAASvC,GAAoByC,EAAI,CAC/B,OAAO,OAAO,QAAW,YAAcC,GAAyBD,CACjE,CAED,SAASC,IAA0B,CACjC,MAAM,IAAI,MAAM,sBAAsB,CACvC,CACF,GAAGrL,EAAM,EAET,MAAM6C,GAAS7C,GAAO,OC9xEhBsL,GAAa,OAAOzI,IAAW,WAC/B0I,GAAM,OAAO,aAAgB,WAAa,IAAI,YAAgB,OACxD,OAAO,aAAgB,YAAa,IAAI,YAEpD,MAAMC,GAAS,MAAM,UAAU,MAAM,KADvB,mEACiC,EACzCC,IAAWvb,GAAM,CACnB,IAAIwb,EAAM,CAAA,EACV,OAAAxb,EAAE,QAAQ,CAAC0C,EAAG/E,IAAM6d,EAAI9Y,CAAC,EAAI/E,CAAC,EACvB6d,CACX,GAAGF,EAAM,EACHG,GAAQ,0EACRC,GAAU,OAAO,aAAa,KAAK,MAAM,EACzCC,GAAW,OAAO,WAAW,MAAS,WACtC,WAAW,KAAK,KAAK,UAAU,EAC9BC,GAAO,IAAI,WAAW,MAAM,UAAU,MAAM,KAAKA,EAAI,CAAC,CAAC,EAGxDC,GAAYxJ,GAAMA,EAAE,QAAQ,oBAAqB,EAAE,EAkGnDyJ,GAAU,8EACVC,GAAWC,GAAS,CACtB,OAAQA,EAAK,OAAM,CACf,IAAK,GACD,IAAIC,GAAO,EAAOD,EAAK,WAAW,CAAC,IAAM,IACjC,GAAOA,EAAK,WAAW,CAAC,IAAM,IAC9B,GAAOA,EAAK,WAAW,CAAC,IAAM,EAC/B,GAAOA,EAAK,WAAW,CAAC,EAAIrK,EAASsK,EAAK,MACjD,OAAQP,IAAS/J,IAAW,IAAM,KAAM,EAClC+J,IAAS/J,EAAS,MAAS,KAAM,EAC3C,IAAK,GACD,OAAO+J,IAAU,GAAOM,EAAK,WAAW,CAAC,IAAM,IACvC,GAAOA,EAAK,WAAW,CAAC,IAAM,EAC/B,GAAOA,EAAK,WAAW,CAAC,CAAE,EACrC,QACI,OAAON,IAAU,GAAOM,EAAK,WAAW,CAAC,IAAM,EACxC,GAAOA,EAAK,WAAW,CAAC,CAAE,CACxC,CACL,EAMME,GAAQjc,GAAMA,EAAE,QAAQ6b,GAASC,EAAO,EA2BxCI,GAAQ,OAAO,MAAS,WAAcC,GAAQ,KAAKP,GAASO,CAAG,CAAC,EAChEhB,GAAcgB,GAAQzJ,GAAO,KAAKyJ,EAAK,QAAQ,EAAE,SAAS,QAAQ,EAxBlDA,GAAQ,CAG1B,GADAA,EAAMA,EAAI,QAAQ,OAAQ,EAAE,EACxB,CAACX,GAAM,KAAKW,CAAG,EACf,MAAM,IAAI,UAAU,mBAAmB,EAC3CA,GAAO,KAAK,MAAM,GAAKA,EAAI,OAAS,EAAE,EACtC,IAAIC,EAAKC,EAAM,GAAIC,EAAIC,EACvB,QAAS7e,EAAI,EAAGA,EAAIye,EAAI,QACpBC,EAAMd,GAAOa,EAAI,OAAOze,GAAG,CAAC,GAAK,GAC3B4d,GAAOa,EAAI,OAAOze,GAAG,CAAC,GAAK,IAC1B4e,EAAKhB,GAAOa,EAAI,OAAOze,GAAG,CAAC,IAAM,GACjC6e,EAAKjB,GAAOa,EAAI,OAAOze,GAAG,CAAC,GAClC2e,GAAOC,IAAO,GAAKb,GAAQW,GAAO,GAAK,GAAG,EACpCG,IAAO,GAAKd,GAAQW,GAAO,GAAK,IAAKA,GAAO,EAAI,GAAG,EAC/CX,GAAQW,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAKA,EAAM,GAAG,EAEhE,OAAOC,CACX,EAUMG,GAAgBrB,GACfpb,GAAM2b,GAAShJ,GAAO,KAAK3S,EAAG,QAAQ,CAAC,EACvCA,GAAM2b,GAASQ,GAAMnc,CAAC,EAAE,MAAM,EAAE,EAAE,IAAI0C,GAAKA,EAAE,WAAW,CAAC,CAAC,CAAC,EAM5Dga,GAAUtB,GACTpb,GAAM2S,GAAO,KAAK3S,EAAG,QAAQ,EAAE,SAAS,MAAM,EAC/Cqb,GACKrb,GAAMqb,GAAI,OAAOoB,GAAczc,CAAC,CAAC,EACjCA,GAAMkc,GAAKC,GAAMnc,CAAC,CAAC,EACxB2c,GAAU3c,GAAM6b,GAAS7b,EAAE,QAAQ,QAAU4c,GAAOA,GAAM,IAAM,IAAM,GAAG,CAAC,EAM1Epf,GAAUqd,GAAQ6B,GAAQC,GAAO9B,CAAG,CAAC,EClMrCgC,GAAuC,CAC3C,CAAChgB,EAAI,GAAG,EAAG,0BACX,CAACA,EAAI,OAAO,EAAG,yBACf,CAACA,EAAI,UAAU,EAAG,wBACpB,EAEO,MAAM8R,EAAW,CACtB,WAAW,SAAU,OACZ,MAAA,CAAC,GAAChN,EAAA+C,GAA0B,WAA1B,MAAA/C,EAAoC,KAC/C,CACA,WAAW,UAAW,CACpB,OAAO+C,GAA0B,QACnC,CACA,WAAmB,gBAAiB,OAClC,MAAMP,EAAWM,EAAwB,QAEzC,GAAI,CAACN,EACH,OAAA7B,EAAI,iBAAiB,EACd,GAET,MAAMwa,GAAUnb,EAAAwC,EAAS,MAAM,GAAG,IAAlB,YAAAxC,EAAsB,GACtC,GAAI,CAACmb,EACH,OAAAxa,EAAI,iBAAiB,EACd,GAGL,GAAA,CACI,KAAA,CAAE,IAAAya,EAAK,IAAAC,EAAM,EAAG,IAAAxD,CAAA,EAAQ,KAAK,MAAMhc,GAAOsf,CAAO,CAAC,EAExD,MAAO,EADU,CAACC,GAAO,KAAK,IAAI,GAAKC,EAAM,IAAM,WAE5CtR,EAAO,CACd,OAAApJ,EAAI,kBAAmBoJ,CAAK,EACrB,EACT,CACF,CAEA,OAAqB,WAAWuR,EAAgB,OAAQ,QAAApY,EAAA,sBACtD,MAAMqY,EAAUlZ,EAAY,OACxBkZ,GACFzY,EAAwB,UAAUyY,CAAO,EAE3C,MAAM/Y,EAAWM,EAAwB,QACnCL,EAAgBK,EAAwB,aAC1C,GAAA,CAACN,GAAYC,EAAe,CAE9B,MAAMU,EAAM,MAAMgC,EAAkB,oBAAoB1C,CAAa,EAC7CK,EAAA,UAAU,CAAE,cAAAL,EAAe,SAAUU,EAAI,SAAU,aAAcA,EAAI,YAAA,CAAc,CAC7G,CAEA,MAAMqY,EAAUxO,GAAW,eAC3B,OAAArM,EAAI,iCAAkC6a,CAAO,EACxCA,EAEMF,IAAU,SAEnB,MAAMnW,EAAkB,eAHxB,KAAK,UAAU,EAKVrC,EAAwB,SAAW,EAC5C,GAEA,OAAqB,WAAY,QAAAI,EAAA,8BAC/B,MAAMZ,EAAQD,EAAY,UAG1B,GAFA1B,EAAI,6BAA8B2B,CAAK,EAEnCA,IAAUnH,EAAU,SAAWmH,IAAUnH,EAAU,MAAO,OAExD,MAAAsgB,GAAMzb,EAAA6C,EAAe,SAAf,YAAA7C,EAAuB,aACnC,GAAI,CAACyb,GAAO,CAAC,SAAS,KAAK,WAAWA,CAAG,EAAG,CAC1C9a,EAAI,mCAAmC,EACvC,MACF,CAGM,MAAAyE,GAAOrF,EADOiE,GAAG,SAAS,SAAS,KAAM,CAAE,MAAO,CAAE,KAAM,QAAS,CAAG,CAAA,EACnD,QAAZ,YAAAjE,EAAmB,KAChC,GAAI,CAACqF,EACG,MAAA,IAAI,MAAM,cAAc,EAE5BqW,GACM,QAAA,UAAU,KAAM,GAAIA,CAAG,EAEjC9a,EAAI,oBAAoB,EACxB,MAAMwC,EAAM,MAAMgC,EAAkB,MAAMC,CAAc,EACpDjC,GAAA,MAAAA,EAAK,MACKd,EAAA,OAAOnB,EAAa,UAAU,CAE9C,GAEA,OAAa,YAAa,QAAAgC,EAAA,sBACjB,OAAA,MAAM,KAAK,WAAW,YAAY,CAC3C,GAEA,OAAa,KAAKwY,EAAmCC,EAAW,QAAAzY,EAAA,sBACxD,KAAA,CACJ,OAAA0Y,EAAS,GACT,UAAAvW,EAAY,GACZ,cAAAC,EAAgB,GAChB,aAAAC,EAAe,GACf,KAAAsW,EAAO,UACP,OAAAC,EAAS,GACP,EAAAJ,EACEK,EAAOJ,GAAA,KAAAA,EAAOzgB,EAAI,IAClB8gB,EAAWd,GAAgBa,CAAI,EAC/BE,EAA4B,CAChC,OAAAL,EACA,UAAAvW,EACA,cAAAC,EACA,aAAAC,EACA,cAAe,OACf,MAAO,MACP,KAAAsW,EACA,WAAY,qBACZ,OAAAC,CAAA,EAEFjZ,EAAe,OAAS+Y,EACxB/Y,EAAe,UAAYwC,EAC3BxC,EAAe,IAAMkZ,EACrBlZ,EAAe,QAAUmZ,EACnB,KAAA,CAAE,cAAAE,EAAe,MAAAC,CAAU,EAAAF,EACjCpZ,EAAe,aACbmZ,EACA,gCACAhY,GAAG,UAAU,CAAE,UAAAqB,EAAW,aAAAE,EAAc,cAAA2W,EAAe,MAAAC,EAAO,KAAAN,EAAM,OAAAC,CAAQ,CAAA,EAC9EjZ,EAAe,OAASoZ,EAExB/W,GAAgB,MAAM,EAItBqI,EAAc,KAAKyO,CAAQ,EAC3Brb,EAAI4M,EAAc,QAAQ,EAE1B,MAAM,KAAK,aACJ,OAAA,iBAAiB,OAAe7I,GAAiBxB,EAAA,sBACtD,MAAM,KAAK,WAAU,EACtB,CACH,GACA,OAAe,WAAY,CACzBb,EAAY,aAAa,EACzBA,EAAY,eAAe,EAC3BS,EAAwB,aAAa,EACrCC,GAA0B,eAAe,CAC3C,CACA,OAAO,QAAS,SACdpC,EAAI,gBAAgB,EACpB,KAAK,UAAU,GACAZ,GAAAC,EAAAuN,GAAA,YAAAA,EAAA,WAAA,YAAAvN,EAAU,QAAV,MAAAD,EAAiB,QAClC,CACA,OAAa,MAAM8b,EAAkB,QAAA3Y,EAAA,sBAC/B,GAAA,CAACL,EAAe,OAAQ,CAC1BlC,EAAI,gCAAgC,EACpC,MACF,CACI,GAAAkb,GAAQA,IAAS1gB,EAAU,KAAM,CACnC0H,EAAe,OAAS+C,EAAA1G,EAAA,GAAK2D,EAAe,QAApB,CAA4B,KAAAgZ,CAAK,GACzD,KAAM,CAAE,cAAAK,EAAe,MAAAC,EAAO,OAAAL,EAAQ,UAAAzW,EAAW,aAAAE,GAAiB1C,EAAe,OACjFA,EAAe,aACbA,EAAe,QACf,gCACAmB,GAAG,UAAU,CAAE,UAAAqB,EAAW,aAAAE,EAAc,cAAA2W,EAAe,MAAAC,EAAO,KAAAN,EAAM,OAAAC,EAAQ,CAChF,CAEA,GAAI9O,GAAW,QAAS,CAEtBrM,EAAI,kBAAkB,EACtBuE,GAAgB,KAAKjE,GAAc,QAAS8B,GAA0B,QAAQ,EAC9E,MACF,CACA,GAAIiK,GAAW,eAEb,OAAArM,EAAI,cAAc,EACXwE,EAAkB,cAGvB,GAAA0W,IAAS1gB,EAAU,KAAM,CAC3BoS,EAAc,SAAS,OACvB,MACF,CAEYlL,EAAA,UAAYwZ,GAAQ1gB,EAAU,QAG1CwF,EAAI,wBAAwB,EAC5B,SAAS,KAAOkC,EAAe,YACjC,GACF,CChMa,MAAAuZ,GAAoB,CAAC,CAChC,mBAAAC,CACF,IAEM,CAEJ,MAAMtT,EAAQwE,EAAc,SAI5B,SAAS+O,GAAO,CACdvT,EAAM,KAAK,CACb,CAEA,SAAS+S,GAAS,CAChB/S,EAAM,MAAM,QACd,CAEM,OAAAA,EAAA,MAAM,UAAU,IAAM,CAC1BsT,GAAA,MAAAA,EAAqBtT,EAAM,MAAM,UAAU,QAASA,EAAM,MAAM,UAAU,SAAQ,CACnF,EAEM,CAAE,KAAAuT,EAAM,OAAAR,EACjB","x_google_ignoreList":[1,2,3,4,7,36,37]}